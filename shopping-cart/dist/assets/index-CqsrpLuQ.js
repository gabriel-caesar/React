(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var _m={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function fA(){if(M_)return tu;M_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return tu.Fragment=e,tu.jsx=n,tu.jsxs=n,tu}var P_;function dA(){return P_||(P_=1,_m.exports=fA()),_m.exports}var D=dA(),Em={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function mA(){if(k_)return qe;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,B={};function U(O,ie,pe){this.props=O,this.context=ie,this.refs=B,this.updater=pe||C}U.prototype.isReactComponent={},U.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=U.prototype;function Z(O,ie,pe){this.props=O,this.context=ie,this.refs=B,this.updater=pe||C}var te=Z.prototype=new H;te.constructor=Z,x(te,U.prototype),te.isPureReactComponent=!0;var fe=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function P(O,ie,pe,ue,we,ze){return pe=ze.ref,{$$typeof:r,type:O,key:ie,ref:pe!==void 0?pe:null,props:ze}}function S(O,ie){return P(O.type,ie,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return ie[pe]})}var L=/\/+/g;function j(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):ie.toString(36)}function I(){}function He(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Qe(O,ie,pe,ue,we){var ze=typeof O;(ze==="undefined"||ze==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(ze){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case r:case e:Re=!0;break;case v:return Re=O._init,Qe(Re(O._payload),ie,pe,ue,we)}}if(Re)return we=we(O),Re=ue===""?"."+j(O,0):ue,fe(we)?(pe="",Re!=null&&(pe=Re.replace(L,"$&/")+"/"),Qe(we,ie,pe,"",function(nr){return nr})):we!=null&&(R(we)&&(we=S(we,pe+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(L,"$&/")+"/")+Re)),ie.push(we)),1;Re=0;var kt=ue===""?".":ue+":";if(fe(O))for(var gt=0;gt<O.length;gt++)ue=O[gt],ze=kt+j(ue,gt),Re+=Qe(ue,ie,pe,ze,we);else if(gt=T(O),typeof gt=="function")for(O=gt.call(O),gt=0;!(ue=O.next()).done;)ue=ue.value,ze=kt+j(ue,gt++),Re+=Qe(ue,ie,pe,ze,we);else if(ze==="object"){if(typeof O.then=="function")return Qe(He(O),ie,pe,ue,we);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Re}function X(O,ie,pe){if(O==null)return O;var ue=[],we=0;return Qe(O,ue,"","",function(ze){return ie.call(pe,ze,we++)}),ue}function de(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ue(){}return qe.Children={map:X,forEach:function(O,ie,pe){X(O,function(){ie.apply(this,arguments)},pe)},count:function(O){var ie=0;return X(O,function(){ie++}),ie},toArray:function(O){return X(O,function(ie){return ie})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},qe.Component=U,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=Z,qe.StrictMode=a,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,qe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return se.H.useMemoCache(O)}},qe.cache=function(O){return function(){return O.apply(null,arguments)}},qe.cloneElement=function(O,ie,pe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=x({},O.props),we=O.key,ze=void 0;if(ie!=null)for(Re in ie.ref!==void 0&&(ze=void 0),ie.key!==void 0&&(we=""+ie.key),ie)!F.call(ie,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ie.ref===void 0||(ue[Re]=ie[Re]);var Re=arguments.length-2;if(Re===1)ue.children=pe;else if(1<Re){for(var kt=Array(Re),gt=0;gt<Re;gt++)kt[gt]=arguments[gt+2];ue.children=kt}return P(O.type,we,void 0,void 0,ze,ue)},qe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},qe.createElement=function(O,ie,pe){var ue,we={},ze=null;if(ie!=null)for(ue in ie.key!==void 0&&(ze=""+ie.key),ie)F.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=ie[ue]);var Re=arguments.length-2;if(Re===1)we.children=pe;else if(1<Re){for(var kt=Array(Re),gt=0;gt<Re;gt++)kt[gt]=arguments[gt+2];we.children=kt}if(O&&O.defaultProps)for(ue in Re=O.defaultProps,Re)we[ue]===void 0&&(we[ue]=Re[ue]);return P(O,ze,void 0,void 0,null,we)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(O){return{$$typeof:m,render:O}},qe.isValidElement=R,qe.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:de}},qe.memo=function(O,ie){return{$$typeof:g,type:O,compare:ie===void 0?null:ie}},qe.startTransition=function(O){var ie=se.T,pe={};se.T=pe;try{var ue=O(),we=se.S;we!==null&&we(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ue,ve)}catch(ze){ve(ze)}finally{se.T=ie}},qe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},qe.use=function(O){return se.H.use(O)},qe.useActionState=function(O,ie,pe){return se.H.useActionState(O,ie,pe)},qe.useCallback=function(O,ie){return se.H.useCallback(O,ie)},qe.useContext=function(O){return se.H.useContext(O)},qe.useDebugValue=function(){},qe.useDeferredValue=function(O,ie){return se.H.useDeferredValue(O,ie)},qe.useEffect=function(O,ie,pe){var ue=se.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(O,ie)},qe.useId=function(){return se.H.useId()},qe.useImperativeHandle=function(O,ie,pe){return se.H.useImperativeHandle(O,ie,pe)},qe.useInsertionEffect=function(O,ie){return se.H.useInsertionEffect(O,ie)},qe.useLayoutEffect=function(O,ie){return se.H.useLayoutEffect(O,ie)},qe.useMemo=function(O,ie){return se.H.useMemo(O,ie)},qe.useOptimistic=function(O,ie){return se.H.useOptimistic(O,ie)},qe.useReducer=function(O,ie,pe){return se.H.useReducer(O,ie,pe)},qe.useRef=function(O){return se.H.useRef(O)},qe.useState=function(O){return se.H.useState(O)},qe.useSyncExternalStore=function(O,ie,pe){return se.H.useSyncExternalStore(O,ie,pe)},qe.useTransition=function(){return se.H.useTransition()},qe.version="19.1.0",qe}var V_;function Ep(){return V_||(V_=1,Em.exports=mA()),Em.exports}var $=Ep(),Tm={exports:{}},nu={},bm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function pA(){return L_||(L_=1,function(r){function e(X,de){var ve=X.length;X.push(de);e:for(;0<ve;){var Ue=ve-1>>>1,O=X[Ue];if(0<o(O,de))X[Ue]=de,X[ve]=O,ve=Ue;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var de=X[0],ve=X.pop();if(ve!==de){X[0]=ve;e:for(var Ue=0,O=X.length,ie=O>>>1;Ue<ie;){var pe=2*(Ue+1)-1,ue=X[pe],we=pe+1,ze=X[we];if(0>o(ue,ve))we<O&&0>o(ze,ue)?(X[Ue]=ze,X[we]=ve,Ue=we):(X[Ue]=ue,X[pe]=ve,Ue=pe);else if(we<O&&0>o(ze,ve))X[Ue]=ze,X[we]=ve,Ue=we;else break e}}return de}function o(X,de){var ve=X.sortIndex-de.sortIndex;return ve!==0?ve:X.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,b=null,T=3,C=!1,x=!1,B=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var de=n(g);de!==null;){if(de.callback===null)a(g);else if(de.startTime<=X)a(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function se(X){if(B=!1,fe(X),!x)if(n(p)!==null)x=!0,F||(F=!0,j());else{var de=n(g);de!==null&&Qe(se,de.startTime-X)}}var F=!1,P=-1,S=5,R=-1;function k(){return U?!0:!(r.unstable_now()-R<S)}function L(){if(U=!1,F){var X=r.unstable_now();R=X;var de=!0;try{e:{x=!1,B&&(B=!1,Z(P),P=-1),C=!0;var ve=T;try{t:{for(fe(X),b=n(p);b!==null&&!(b.expirationTime>X&&k());){var Ue=b.callback;if(typeof Ue=="function"){b.callback=null,T=b.priorityLevel;var O=Ue(b.expirationTime<=X);if(X=r.unstable_now(),typeof O=="function"){b.callback=O,fe(X),de=!0;break t}b===n(p)&&a(p),fe(X)}else a(p);b=n(p)}if(b!==null)de=!0;else{var ie=n(g);ie!==null&&Qe(se,ie.startTime-X),de=!1}}break e}finally{b=null,T=ve,C=!1}de=void 0}}finally{de?j():F=!1}}}var j;if(typeof te=="function")j=function(){te(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,He=I.port2;I.port1.onmessage=L,j=function(){He.postMessage(null)}}else j=function(){H(L,0)};function Qe(X,de){P=H(function(){X(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(X){switch(T){case 1:case 2:case 3:var de=3;break;default:de=T}var ve=T;T=de;try{return X()}finally{T=ve}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ve=T;T=X;try{return de()}finally{T=ve}},r.unstable_scheduleCallback=function(X,de,ve){var Ue=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ue+ve:Ue):ve=Ue,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ve+O,X={id:v++,callback:de,priorityLevel:X,startTime:ve,expirationTime:O,sortIndex:-1},ve>Ue?(X.sortIndex=ve,e(g,X),n(p)===null&&X===n(g)&&(B?(Z(P),P=-1):B=!0,Qe(se,ve-Ue))):(X.sortIndex=O,e(p,X),x||C||(x=!0,F||(F=!0,j()))),X},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(X){var de=T;return function(){var ve=T;T=de;try{return X.apply(this,arguments)}finally{T=ve}}}}(wm)),wm}var U_;function gA(){return U_||(U_=1,bm.exports=pA()),bm.exports}var Am={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function yA(){if(B_)return En;B_=1;var r=Ep();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},En.flushSync=function(p){var g=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=v,a.d.f()}},En.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},En.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},En.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:C}):v==="script"&&a.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},En.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},En.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},En.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},En.requestFormReset=function(p){a.d.r(p)},En.unstable_batchedUpdates=function(p,g){return p(g)},En.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},En.useFormStatus=function(){return h.H.useHostTransitionStatus()},En.version="19.1.0",En}var j_;function zE(){if(j_)return Am.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=yA(),Am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function vA(){if(z_)return nu;z_=1;var r=gA(),e=Ep(),n=zE();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var E=!1,w=f.child;w;){if(w===s){E=!0,s=f,l=d;break}if(w===l){E=!0,l=f,s=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===s){E=!0,s=d,l=f;break}if(w===l){E=!0,l=d,s=f;break}w=w.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),te=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case U:return"Profiler";case B:return"StrictMode";case se:return"Suspense";case F:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case te:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var Qe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ue=[],O=-1;function ie(t){return{current:t}}function pe(t){0>O||(t.current=Ue[O],Ue[O]=null,O--)}function ue(t,i){O++,Ue[O]=t.current,t.current=i}var we=ie(null),ze=ie(null),Re=ie(null),kt=ie(null);function gt(t,i){switch(ue(Re,i),ue(ze,t),ue(we,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?o_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=o_(i),t=l_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pe(we),ue(we,t)}function nr(){pe(we),pe(ze),pe(Re)}function At(t){t.memoizedState!==null&&ue(kt,t);var i=we.current,s=l_(i,t.type);i!==s&&(ue(ze,t),ue(we,s))}function gn(t){ze.current===t&&(pe(we),pe(ze)),kt.current===t&&(pe(kt),Xl._currentValue=ve)}var xr=Object.prototype.hasOwnProperty,ui=r.unstable_scheduleCallback,Sn=r.unstable_cancelCallback,Ya=r.unstable_shouldYield,Hs=r.unstable_requestPaint,Rn=r.unstable_now,rl=r.unstable_getCurrentPriorityLevel,Qa=r.unstable_ImmediatePriority,Ki=r.unstable_UserBlockingPriority,ci=r.unstable_NormalPriority,wr=r.unstable_LowPriority,rr=r.unstable_IdlePriority,Yi=r.log,Qi=r.unstable_setDisableYieldValue,ut=null,Fe=null;function yn(t){if(typeof Yi=="function"&&Qi(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ut,t)}catch{}}var Vt=Math.clz32?Math.clz32:Or,qs=Math.log,ir=Math.LN2;function Or(t){return t>>>=0,t===0?32:31-(qs(t)/ir|0)|0}var Mr=256,Pr=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=jn(l):(E&=w,E!==0?f=jn(E):s||(s=w&~t,s!==0&&(f=jn(s))))):(w=l&~d,w!==0?f=jn(w):E!==0?f=jn(E):s||(s=l&~t,s!==0&&(f=jn(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function ar(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Xi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(){var t=Mr;return Mr<<=1,(Mr&4194048)===0&&(Mr=256),t}function Xa(){var t=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),t}function sr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Ar(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wi(t,i,s,l,f,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var w=t.entanglements,N=t.expirationTimes,Q=t.hiddenUpdates;for(s=E&~s;0<s;){var ne=31-Vt(s),oe=1<<ne;w[ne]=0,N[ne]=-1;var W=Q[ne];if(W!==null)for(Q[ne]=null,ne=0;ne<W.length;ne++){var J=W[ne];J!==null&&(J.lane&=-536870913)}s&=~oe}l!==0&&Cn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Cn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Vt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function kr(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Vt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function Vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function M(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:C_(t.type))}function q(t,i){var s=de.p;try{return de.p=t,i()}finally{de.p=s}}var Y=Math.random().toString(36).slice(2),ae="__reactFiber$"+Y,he="__reactProps$"+Y,ge="__reactContainer$"+Y,Ce="__reactEvents$"+Y,_e="__reactListeners$"+Y,Te="__reactHandles$"+Y,Ae="__reactResources$"+Y,De="__reactMarker$"+Y;function be(t){delete t[ae],delete t[he],delete t[Ce],delete t[_e],delete t[Te]}function Oe(t){var i=t[ae];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ge]||s[ae]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=f_(t);t!==null;){if(s=t[ae])return s;t=f_(t)}return i}t=s,s=t.parentNode}return null}function Xe(t){if(t=t[ae]||t[ge]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ht(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ot(t){var i=t[Ae];return i||(i=t[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[De]=!0}var Ke=new Set,or={};function qt(t,i){In(t,i),In(t+"Capture",i)}function In(t,i){for(or[t]=i,t=0;t<i.length;t++)Ke.add(i[t])}var an=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},zn={};function Ji(t){return xr.call(zn,t)?!0:xr.call(Lr,t)?!1:an.test(t)?zn[t]=!0:(Lr[t]=!0,!1)}function vn(t,i,s){if(Ji(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Dn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Le(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var Lt,Hn;function Mn(t){if(Lt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Lt=i&&i[1]||"",Hn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+t+Hn}var Ur=!1;function Tt(t,i){if(!t||Ur)return"";Ur=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var W=J}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(J){W=J}t.call(oe.prototype)}}else{try{throw Error()}catch(J){W=J}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var N=E.split(`
`),Q=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===Q.length)for(l=N.length-1,f=Q.length-1;1<=l&&0<=f&&N[l]!==Q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==Q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==Q[f]){var ne=`
`+N[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=f);break}}}finally{Ur=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Mn(s):""}function lr(t){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Tt(t.type,!1);case 11:return Tt(t.type.render,!1);case 1:return Tt(t.type,!0);case 31:return Mn("Activity");default:return""}}function di(t){try{var i="";do i+=lr(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function il(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wf(t){var i=il(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Fs(t){t._valueTracker||(t._valueTracker=wf(t))}function al(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=il(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Af=/[\n"\\]/g;function Ut(t){return t.replace(Af,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qn(t,i,s,l,f,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+sn(i)):t.value!==""+sn(i)&&(t.value=""+sn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?ea(t,E,sn(i)):s!=null?ea(t,E,sn(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+sn(w):t.removeAttribute("name")}function Za(t,i,s,l,f,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+sn(s):"",i=i!=null?""+sn(i):s,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function ea(t,i,s){i==="number"&&Wa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function mi(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+sn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function yt(t,i,s){if(i!=null&&(i=""+sn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+sn(s):""}function Ja(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Qe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=sn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function ur(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||es.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function sl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Ku(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Ku(t,d,i[d])}function ol(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(t){return Rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pi=null;function cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,yi=null;function ll(t){var i=Xe(t);if(i&&(t=i.stateNode)){var s=t[he]||null;e:switch(t=i.stateNode,i.type){case"input":if(qn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[he]||null;if(!f)throw Error(a(90));qn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&al(l)}break e;case"textarea":yt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&mi(t,!!s.multiple,i,!1)}}}var Br=!1;function Yu(t,i,s){if(Br)return t(i,s);Br=!0;try{var l=t(i);return l}finally{if(Br=!1,(gi!==null||yi!==null)&&(zc(),gi&&(i=gi,t=yi,yi=gi=null,ll(i),t)))for(i=0;i<t.length;i++)ll(t[i])}}function ts(t,i){var s=t.stateNode;if(s===null)return null;var l=s[he]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(Sr)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){hr=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{hr=!1}var jr=null,ta=null,vi=null;function ul(){if(vi)return vi;var t,i=ta,s=i.length,l,f="value"in jr?jr.value:jr.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===f[d-l];l++);return vi=f.slice(t,1<l?1-l:void 0)}function zr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hr(){return!0}function cl(){return!1}function Zt(t){function i(s,l,f,d,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hr:cl,this.isPropagationStopped=cl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),i}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Zt(ft),rs=v({},ft,{view:0,detail:0}),Qu=Zt(rs),Ks,Ys,qr,is=v({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qr&&(qr&&t.type==="mousemove"?(Ks=t.screenX-qr.screenX,Ys=t.screenY-qr.screenY):Ys=Ks=0,qr=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Ys}}),fr=Zt(is),Xu=v({},is,{dataTransfer:0}),Cf=Zt(Xu),as=v({},rs,{relatedTarget:0}),Qs=Zt(as),hl=v({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Xs=Zt(hl),Wu=v({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ws=Zt(Wu),If=v({},ft,{data:0}),fl=Zt(If),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ju[t])?!!i[t]:!1}function os(){return dl}var ec=v({},rs,{key:function(t){if(t.key){var i=ss[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zs=Zt(ec),tc=v({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Zt(tc),_i=v({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),nc=Zt(_i),rc=v({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),ic=Zt(rc),ac=v({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Js=Zt(ac),Nn=v({},ft,{newState:0,oldState:0}),sc=Zt(Nn),oc=[9,13,27,32],Fr=Sr&&"CompositionEvent"in window,c=null;Sr&&"documentMode"in document&&(c=document.documentMode);var y=Sr&&"TextEvent"in window&&!c,_=Sr&&(!Fr||c&&8<c&&11>=c),A=" ",G=!1;function ee(t,i){switch(t){case"keyup":return oc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rt=!1;function Ft(t,i){switch(t){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(G=!0,A);case"textInput":return t=i.data,t===A&&G?null:t;default:return null}}function it(t,i){if(rt)return t==="compositionend"||!Fr&&ee(t,i)?(t=ul(),vi=ta=jr=null,rt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Jt[t.type]:i==="textarea"}function Ei(t,i,s,l){gi?yi?yi.push(l):yi=[l]:gi=l,i=Kc(i,"onChange"),0<i.length&&(s=new $s("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var on=null,Gr=null;function pl(t){n_(t,0)}function lc(t){var i=ht(t);if(al(i))return t}function wg(t,i){if(t==="change")return i}var Ag=!1;if(Sr){var Df;if(Sr){var Nf="oninput"in document;if(!Nf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Nf=typeof Sg.oninput=="function"}Df=Nf}else Df=!1;Ag=Df&&(!document.documentMode||9<document.documentMode)}function Rg(){on&&(on.detachEvent("onpropertychange",Cg),Gr=on=null)}function Cg(t){if(t.propertyName==="value"&&lc(Gr)){var i=[];Ei(i,Gr,t,cr(t)),Yu(pl,i)}}function H1(t,i,s){t==="focusin"?(Rg(),on=i,Gr=s,on.attachEvent("onpropertychange",Cg)):t==="focusout"&&Rg()}function q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lc(Gr)}function F1(t,i){if(t==="click")return lc(i)}function G1(t,i){if(t==="input"||t==="change")return lc(i)}function $1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Fn=typeof Object.is=="function"?Object.is:$1;function gl(t,i){if(Fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!xr.call(i,f)||!Fn(t[f],i[f]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,i){var s=Ig(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ig(s)}}function Ng(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ng(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Wa(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Wa(t.document)}return i}function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var K1=Sr&&"documentMode"in document&&11>=document.documentMode,eo=null,Of=null,yl=null,Mf=!1;function Og(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mf||eo==null||eo!==Wa(l)||(l=eo,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=Kc(Of,"onSelect"),0<l.length&&(i=new $s("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=eo)))}function ls(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var to={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},Pf={},Mg={};Sr&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function us(t){if(Pf[t])return Pf[t];if(!to[t])return t;var i=to[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Mg)return Pf[t]=i[s];return t}var Pg=us("animationend"),kg=us("animationiteration"),Vg=us("animationstart"),Y1=us("transitionrun"),Q1=us("transitionstart"),X1=us("transitioncancel"),Lg=us("transitionend"),Ug=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function Rr(t,i){Ug.set(t,i),qt(i,[t])}var Bg=new WeakMap;function dr(t,i){if(typeof t=="object"&&t!==null){var s=Bg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:di(i)},Bg.set(t,i),i)}return{value:t,source:i,stack:di(i)}}var mr=[],no=0,Vf=0;function uc(){for(var t=no,i=Vf=no=0;i<t;){var s=mr[i];mr[i++]=null;var l=mr[i];mr[i++]=null;var f=mr[i];mr[i++]=null;var d=mr[i];if(mr[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&jg(s,f,d)}}function cc(t,i,s,l){mr[no++]=t,mr[no++]=i,mr[no++]=s,mr[no++]=l,Vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lf(t,i,s,l){return cc(t,i,s,l),hc(t)}function ro(t,i){return cc(t,null,null,i),hc(t)}function jg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Vt(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function hc(t){if(50<Hl)throw Hl=0,qd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var io={};function W1(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,i,s,l){return new W1(t,i,s,l)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,i){var s=t.alternate;return s===null?(s=Gn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function zg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fc(t,i,s,l,f,d){var E=0;if(l=t,typeof t=="function")Uf(t)&&(E=1);else if(typeof t=="string")E=Jw(t,s,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Gn(31,s,i,f),t.elementType=R,t.lanes=d,t;case x:return cs(s.children,f,d,i);case B:E=8,f|=24;break;case U:return t=Gn(12,s,i,f|2),t.elementType=U,t.lanes=d,t;case se:return t=Gn(13,s,i,f),t.elementType=se,t.lanes=d,t;case F:return t=Gn(19,s,i,f),t.elementType=F,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case te:E=10;break e;case Z:E=9;break e;case fe:E=11;break e;case P:E=14;break e;case S:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Gn(E,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function cs(t,i,s,l){return t=Gn(7,t,l,i),t.lanes=s,t}function Bf(t,i,s){return t=Gn(6,t,null,i),t.lanes=s,t}function jf(t,i,s){return i=Gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ao=[],so=0,dc=null,mc=0,pr=[],gr=0,hs=null,bi=1,wi="";function fs(t,i){ao[so++]=mc,ao[so++]=dc,dc=t,mc=i}function Hg(t,i,s){pr[gr++]=bi,pr[gr++]=wi,pr[gr++]=hs,hs=t;var l=bi;t=wi;var f=32-Vt(l)-1;l&=~(1<<f),s+=1;var d=32-Vt(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,bi=1<<32-Vt(i)+f|s<<f|l,wi=d+t}else bi=1<<d|s<<f|l,wi=t}function zf(t){t.return!==null&&(fs(t,1),Hg(t,1,0))}function Hf(t){for(;t===dc;)dc=ao[--so],ao[so]=null,mc=ao[--so],ao[so]=null;for(;t===hs;)hs=pr[--gr],pr[gr]=null,wi=pr[--gr],pr[gr]=null,bi=pr[--gr],pr[gr]=null}var xn=null,It=null,ct=!1,ds=null,$r=!1,qf=Error(a(519));function ms(t){var i=Error(a(418,""));throw El(dr(i,t)),qf}function qg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ae]=t,i[he]=l,s){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(s=0;s<Fl.length;s++)Ze(Fl[s],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),Za(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fs(i);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),Ja(i,l.value,l.defaultValue,l.children),Fs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||s_(i.textContent,s)?(l.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),l.onScroll!=null&&Ze("scroll",i),l.onScrollEnd!=null&&Ze("scrollend",i),l.onClick!=null&&(i.onclick=Yc),i=!0):i=!1,i||ms(t)}function Fg(t){for(xn=t.return;xn;)switch(xn.tag){case 5:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:xn=xn.return}}function vl(t){if(t!==xn)return!1;if(!ct)return Fg(t),ct=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||am(t.type,t.memoizedProps)),s=!s),s&&It&&ms(t),Fg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){It=Ir(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}It=null}}else i===27?(i=It,ya(t.type)?(t=um,um=null,It=t):It=i):It=xn?Ir(t.stateNode.nextSibling):null;return!0}function _l(){It=xn=null,ct=!1}function Gg(){var t=ds;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),ds=null),t}function El(t){ds===null?ds=[t]:ds.push(t)}var Ff=ie(null),ps=null,Ai=null;function na(t,i,s){ue(Ff,i._currentValue),i._currentValue=s}function Si(t){t._currentValue=Ff.current,pe(Ff)}function Gf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function $f(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),Gf(d.return,s,t),l||(E=null);break e}d=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),Gf(E,s,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Tl(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var w=f.type;Fn(f.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(f===kt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}f=f.return}t!==null&&$f(i,t,s,l),i.flags|=262144}function pc(t){for(t=t.firstContext;t!==null;){if(!Fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gs(t){ps=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _n(t){return $g(ps,t)}function gc(t,i){return ps===null&&gs(t),$g(t,i)}function $g(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ai=Ai.next=i;return s}var Z1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},J1=r.unstable_scheduleCallback,ew=r.unstable_NormalPriority,$t={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new Z1,data:new Map,refCount:0}}function bl(t){t.refCount--,t.refCount===0&&J1(ew,function(){t.controller.abort()})}var wl=null,Yf=0,oo=0,lo=null;function tw(t,i){if(wl===null){var s=wl=[];Yf=0,oo=Xd(),lo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Yf++,i.then(Kg,Kg),i}function Kg(){if(--Yf===0&&wl!==null){lo!==null&&(lo.status="fulfilled");var t=wl;wl=null,oo=0,lo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nw(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Yg=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tw(t,i),Yg!==null&&Yg(t,i)};var ys=ie(null);function Qf(){var t=ys.current;return t!==null?t:wt.pooledCache}function yc(t,i){i===null?ue(ys,ys.current):ue(ys,i.pool)}function Qg(){var t=Qf();return t===null?null:{parent:$t._currentValue,pool:t}}var Al=Error(a(460)),Xg=Error(a(474)),vc=Error(a(542)),Xf={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _c(){}function Zg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(_c,_c),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t;default:if(typeof i.status=="string")i.then(_c,_c);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t}throw Sl=i,Al}}var Sl=null;function Jg(){if(Sl===null)throw Error(a(459));var t=Sl;return Sl=null,t}function ey(t){if(t===Al||t===vc)throw Error(a(483))}var ra=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function aa(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=hc(t),jg(t,null,s),i}return cc(t,l,i,s),hc(t)}function Rl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,kr(t,s)}}function Jf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var ed=!1;function Cl(){if(ed){var t=lo;if(t!==null)throw t}}function Il(t,i,s,l){ed=!1;var f=t.updateQueue;ra=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,Q=N.next;N.next=null,E===null?d=Q:E.next=Q,E=N;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==E&&(w===null?ne.firstBaseUpdate=Q:w.next=Q,ne.lastBaseUpdate=N))}if(d!==null){var oe=f.baseState;E=0,ne=Q=N=null,w=d;do{var W=w.lane&-536870913,J=W!==w.lane;if(J?(at&W)===W:(l&W)===W){W!==0&&W===oo&&(ed=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ke=t,Ne=w;W=i;var Et=s;switch(Ne.tag){case 1:if(ke=Ne.payload,typeof ke=="function"){oe=ke.call(Et,oe,W);break e}oe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ne.payload,W=typeof ke=="function"?ke.call(Et,oe,W):ke,W==null)break e;oe=v({},oe,W);break e;case 2:ra=!0}}W=w.callback,W!==null&&(t.flags|=64,J&&(t.flags|=8192),J=f.callbacks,J===null?f.callbacks=[W]:J.push(W))}else J={lane:W,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(Q=ne=J,N=oe):ne=ne.next=J,E|=W;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;J=w,w=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ne===null&&(N=oe),f.baseState=N,f.firstBaseUpdate=Q,f.lastBaseUpdate=ne,d===null&&(f.shared.lanes=0),da|=E,t.lanes=E,t.memoizedState=oe}}function ty(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ny(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ty(s[t],i)}var uo=ie(null),Ec=ie(0);function ry(t,i){t=Oi,ue(Ec,t),ue(uo,i),Oi=t|i.baseLanes}function td(){ue(Ec,Oi),ue(uo,uo.current)}function nd(){Oi=Ec.current,pe(uo),pe(Ec)}var sa=0,Ge=null,vt=null,Bt=null,Tc=!1,co=!1,vs=!1,bc=0,Dl=0,ho=null,rw=0;function xt(){throw Error(a(321))}function rd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Fn(t[s],i[s]))return!1;return!0}function id(t,i,s,l,f,d){return sa=d,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?jy:zy,vs=!1,d=s(l,f),vs=!1,co&&(d=ay(i,s,l,f)),iy(t),d}function iy(t){X.H=Ic;var i=vt!==null&&vt.next!==null;if(sa=0,Bt=vt=Ge=null,Tc=!1,Dl=0,ho=null,i)throw Error(a(300));t===null||en||(t=t.dependencies,t!==null&&pc(t)&&(en=!0))}function ay(t,i,s,l){Ge=t;var f=0;do{if(co&&(ho=null),Dl=0,co=!1,25<=f)throw Error(a(301));if(f+=1,Bt=vt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=cw,d=i(s,l)}while(co);return d}function iw(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Nl(i):i,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(Ge.flags|=1024),i}function ad(){var t=bc!==0;return bc=0,t}function sd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function od(t){if(Tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Tc=!1}sa=0,Bt=vt=Ge=null,co=!1,Dl=bc=0,ho=null}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ge.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function jt(){if(vt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var i=Bt===null?Ge.memoizedState:Bt.next;if(i!==null)Bt=i,vt=t;else{if(t===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Bt===null?Ge.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var i=Dl;return Dl+=1,ho===null&&(ho=[]),t=Zg(ho,t,i),i=Ge,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?jy:zy),t}function wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===te)return _n(t)}throw Error(a(438,String(t)))}function ud(t){var i=null,s=Ge.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ld(),Ge.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=k;return i.index++,s}function Ri(t,i){return typeof i=="function"?i(t):i}function Ac(t){var i=jt();return cd(i,vt,t)}function cd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var w=E=null,N=null,Q=i,ne=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(at&oe)===oe:(sa&oe)===oe){var W=Q.revertLane;if(W===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===oo&&(ne=!0);else if((sa&W)===W){Q=Q.next,W===oo&&(ne=!0);continue}else oe={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(w=N=oe,E=d):N=N.next=oe,Ge.lanes|=W,da|=W;oe=Q.action,vs&&s(d,oe),d=Q.hasEagerState?Q.eagerState:s(d,oe)}else W={lane:oe,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(w=N=W,E=d):N=N.next=W,Ge.lanes|=oe,da|=oe;Q=Q.next}while(Q!==null&&Q!==i);if(N===null?E=d:N.next=w,!Fn(d,t.memoizedState)&&(en=!0,ne&&(s=lo,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hd(t){var i=jt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);Fn(d,i.memoizedState)||(en=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function sy(t,i,s){var l=Ge,f=jt(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Fn((vt||f).memoizedState,s);E&&(f.memoizedState=s,en=!0),f=f.queue;var w=uy.bind(null,l,f,t);if(xl(2048,8,w,[t]),f.getSnapshot!==i||E||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,fo(9,Sc(),ly.bind(null,l,f,s,i),null),wt===null)throw Error(a(349));d||(sa&124)!==0||oy(l,i,s)}return s}function oy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ge.updateQueue,i===null?(i=ld(),Ge.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ly(t,i,s,l){i.value=s,i.getSnapshot=l,cy(i)&&hy(t)}function uy(t,i,s){return s(function(){cy(i)&&hy(t)})}function cy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Fn(t,s)}catch{return!0}}function hy(t){var i=ro(t,2);i!==null&&Xn(i,t,2)}function fd(t){var i=Pn();if(typeof t=="function"){var s=t;if(t=s(),vs){yn(!0);try{s()}finally{yn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},i}function fy(t,i,s,l){return t.baseState=s,cd(t,vt,typeof l=="function"?l:Ri)}function aw(t,i,s,l,f){if(Cc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,dy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function dy(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,E={};X.T=E;try{var w=s(f,l),N=X.S;N!==null&&N(E,w),my(t,i,w)}catch(Q){dd(t,i,Q)}finally{X.T=d}}else try{d=s(f,l),my(t,i,d)}catch(Q){dd(t,i,Q)}}function my(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){py(t,i,l)},function(l){return dd(t,i,l)}):py(t,i,s)}function py(t,i,s){i.status="fulfilled",i.value=s,gy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,dy(t,s)))}function dd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,gy(i),i=i.next;while(i!==l)}t.action=null}function gy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function yy(t,i){return i}function vy(t,i){if(ct){var s=wt.formState;if(s!==null){e:{var l=Ge;if(ct){if(It){t:{for(var f=It,d=$r;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ir(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){It=Ir(f.nextSibling),l=f.data==="F!";break e}}ms(l)}l=!1}l&&(i=s[0])}}return s=Pn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:i},s.queue=l,s=Ly.bind(null,Ge,l),l.dispatch=s,l=fd(!1),d=vd.bind(null,Ge,!1,l.queue),l=Pn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=aw.bind(null,Ge,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function _y(t){var i=jt();return Ey(i,vt,t)}function Ey(t,i,s){if(i=cd(t,i,yy)[0],t=Ac(Ri)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Nl(i)}catch(E){throw E===Al?vc:E}else l=i;i=jt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Ge.flags|=2048,fo(9,Sc(),sw.bind(null,f,s),null)),[l,d,t]}function sw(t,i){t.action=i}function Ty(t){var i=jt(),s=vt;if(s!==null)return Ey(i,s,t);jt(),i=i.memoizedState,s=jt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function fo(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=ld(),Ge.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Sc(){return{destroy:void 0,resource:void 0}}function by(){return jt().memoizedState}function Rc(t,i,s,l){var f=Pn();l=l===void 0?null:l,Ge.flags|=t,f.memoizedState=fo(1|i,Sc(),s,l)}function xl(t,i,s,l){var f=jt();l=l===void 0?null:l;var d=f.memoizedState.inst;vt!==null&&l!==null&&rd(l,vt.memoizedState.deps)?f.memoizedState=fo(i,d,s,l):(Ge.flags|=t,f.memoizedState=fo(1|i,d,s,l))}function wy(t,i){Rc(8390656,8,t,i)}function Ay(t,i){xl(2048,8,t,i)}function Sy(t,i){return xl(4,2,t,i)}function Ry(t,i){return xl(4,4,t,i)}function Cy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Iy(t,i,s){s=s!=null?s.concat([t]):null,xl(4,4,Cy.bind(null,i,t),s)}function md(){}function Dy(t,i){var s=jt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&rd(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Ny(t,i){var s=jt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&rd(i,l[1]))return l[0];if(l=t(),vs){yn(!0);try{t()}finally{yn(!1)}}return s.memoizedState=[l,i],l}function pd(t,i,s){return s===void 0||(sa&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Mv(),Ge.lanes|=t,da|=t,s)}function xy(t,i,s,l){return Fn(s,i)?s:uo.current!==null?(t=pd(t,s,l),Fn(t,i)||(en=!0),t):(sa&42)===0?(en=!0,t.memoizedState=s):(t=Mv(),Ge.lanes|=t,da|=t,i)}function Oy(t,i,s,l,f){var d=de.p;de.p=d!==0&&8>d?d:8;var E=X.T,w={};X.T=w,vd(t,!1,i,s);try{var N=f(),Q=X.S;if(Q!==null&&Q(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ne=nw(N,l);Ol(t,i,ne,Qn(t))}else Ol(t,i,l,Qn(t))}catch(oe){Ol(t,i,{then:function(){},status:"rejected",reason:oe},Qn())}finally{de.p=d,X.T=E}}function ow(){}function gd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=My(t).queue;Oy(t,f,i,ve,s===null?ow:function(){return Py(t),s(l)})}function My(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ve},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Py(t){var i=My(t).next.queue;Ol(t,i,{},Qn())}function yd(){return _n(Xl)}function ky(){return jt().memoizedState}function Vy(){return jt().memoizedState}function lw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Qn();t=ia(s);var l=aa(i,t,s);l!==null&&(Xn(l,i,s),Rl(l,i,s)),i={cache:Kf()},t.payload=i;return}i=i.return}}function uw(t,i,s){var l=Qn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Cc(t)?Uy(i,s):(s=Lf(t,i,s,l),s!==null&&(Xn(s,t,l),By(s,i,l)))}function Ly(t,i,s){var l=Qn();Ol(t,i,s,l)}function Ol(t,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cc(t))Uy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,w=d(E,s);if(f.hasEagerState=!0,f.eagerState=w,Fn(w,E))return cc(t,i,f,0),wt===null&&uc(),!1}catch{}finally{}if(s=Lf(t,i,f,l),s!==null)return Xn(s,t,l),By(s,i,l),!0}return!1}function vd(t,i,s,l){if(l={lane:2,revertLane:Xd(),action:l,hasEagerState:!1,eagerState:null,next:null},Cc(t)){if(i)throw Error(a(479))}else i=Lf(t,s,l,2),i!==null&&Xn(i,t,2)}function Cc(t){var i=t.alternate;return t===Ge||i!==null&&i===Ge}function Uy(t,i){co=Tc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function By(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,kr(t,s)}}var Ic={readContext:_n,use:wc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},jy={readContext:_n,use:wc,useCallback:function(t,i){return Pn().memoizedState=[t,i===void 0?null:i],t},useContext:_n,useEffect:wy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Rc(4194308,4,Cy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Rc(4194308,4,t,i)},useInsertionEffect:function(t,i){Rc(4,2,t,i)},useMemo:function(t,i){var s=Pn();i=i===void 0?null:i;var l=t();if(vs){yn(!0);try{t()}finally{yn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Pn();if(s!==void 0){var f=s(i);if(vs){yn(!0);try{s(i)}finally{yn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=uw.bind(null,Ge,t),[l.memoizedState,t]},useRef:function(t){var i=Pn();return t={current:t},i.memoizedState=t},useState:function(t){t=fd(t);var i=t.queue,s=Ly.bind(null,Ge,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:md,useDeferredValue:function(t,i){var s=Pn();return pd(s,t,i)},useTransition:function(){var t=fd(!1);return t=Oy.bind(null,Ge,t.queue,!0,!1),Pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ge,f=Pn();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),wt===null)throw Error(a(349));(at&124)!==0||oy(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,wy(uy.bind(null,l,d,t),[t]),l.flags|=2048,fo(9,Sc(),ly.bind(null,l,d,s,i),null),s},useId:function(){var t=Pn(),i=wt.identifierPrefix;if(ct){var s=wi,l=bi;s=(l&~(1<<32-Vt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=bc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=rw++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:yd,useFormState:vy,useActionState:vy,useOptimistic:function(t){var i=Pn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=vd.bind(null,Ge,!0,s),s.dispatch=i,[t,i]},useMemoCache:ud,useCacheRefresh:function(){return Pn().memoizedState=lw.bind(null,Ge)}},zy={readContext:_n,use:wc,useCallback:Dy,useContext:_n,useEffect:Ay,useImperativeHandle:Iy,useInsertionEffect:Sy,useLayoutEffect:Ry,useMemo:Ny,useReducer:Ac,useRef:by,useState:function(){return Ac(Ri)},useDebugValue:md,useDeferredValue:function(t,i){var s=jt();return xy(s,vt.memoizedState,t,i)},useTransition:function(){var t=Ac(Ri)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:sy,useId:ky,useHostTransitionStatus:yd,useFormState:_y,useActionState:_y,useOptimistic:function(t,i){var s=jt();return fy(s,vt,t,i)},useMemoCache:ud,useCacheRefresh:Vy},cw={readContext:_n,use:wc,useCallback:Dy,useContext:_n,useEffect:Ay,useImperativeHandle:Iy,useInsertionEffect:Sy,useLayoutEffect:Ry,useMemo:Ny,useReducer:hd,useRef:by,useState:function(){return hd(Ri)},useDebugValue:md,useDeferredValue:function(t,i){var s=jt();return vt===null?pd(s,t,i):xy(s,vt.memoizedState,t,i)},useTransition:function(){var t=hd(Ri)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:sy,useId:ky,useHostTransitionStatus:yd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t,i){var s=jt();return vt!==null?fy(s,vt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ud,useCacheRefresh:Vy},mo=null,Ml=0;function Dc(t){var i=Ml;return Ml+=1,mo===null&&(mo=[]),Zg(mo,t,i)}function Pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Nc(t,i){throw i.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hy(t){var i=t._init;return i(t._payload)}function qy(t){function i(z,V){if(t){var K=z.deletions;K===null?(z.deletions=[V],z.flags|=16):K.push(V)}}function s(z,V){if(!t)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function f(z,V){return z=Ti(z,V),z.index=0,z.sibling=null,z}function d(z,V,K){return z.index=K,t?(K=z.alternate,K!==null?(K=K.index,K<V?(z.flags|=67108866,V):K):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function E(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function w(z,V,K,re){return V===null||V.tag!==6?(V=Bf(K,z.mode,re),V.return=z,V):(V=f(V,K),V.return=z,V)}function N(z,V,K,re){var Ee=K.type;return Ee===x?ne(z,V,K.props.children,re,K.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&Hy(Ee)===V.type)?(V=f(V,K.props),Pl(V,K),V.return=z,V):(V=fc(K.type,K.key,K.props,null,z.mode,re),Pl(V,K),V.return=z,V)}function Q(z,V,K,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=jf(K,z.mode,re),V.return=z,V):(V=f(V,K.children||[]),V.return=z,V)}function ne(z,V,K,re,Ee){return V===null||V.tag!==7?(V=cs(K,z.mode,re,Ee),V.return=z,V):(V=f(V,K),V.return=z,V)}function oe(z,V,K){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Bf(""+V,z.mode,K),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return K=fc(V.type,V.key,V.props,null,z.mode,K),Pl(K,V),K.return=z,K;case C:return V=jf(V,z.mode,K),V.return=z,V;case S:var re=V._init;return V=re(V._payload),oe(z,V,K)}if(Qe(V)||j(V))return V=cs(V,z.mode,K,null),V.return=z,V;if(typeof V.then=="function")return oe(z,Dc(V),K);if(V.$$typeof===te)return oe(z,gc(z,V),K);Nc(z,V)}return null}function W(z,V,K,re){var Ee=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ee!==null?null:w(z,V,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return K.key===Ee?N(z,V,K,re):null;case C:return K.key===Ee?Q(z,V,K,re):null;case S:return Ee=K._init,K=Ee(K._payload),W(z,V,K,re)}if(Qe(K)||j(K))return Ee!==null?null:ne(z,V,K,re,null);if(typeof K.then=="function")return W(z,V,Dc(K),re);if(K.$$typeof===te)return W(z,V,gc(z,K),re);Nc(z,K)}return null}function J(z,V,K,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(K)||null,w(V,z,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return z=z.get(re.key===null?K:re.key)||null,N(V,z,re,Ee);case C:return z=z.get(re.key===null?K:re.key)||null,Q(V,z,re,Ee);case S:var Ye=re._init;return re=Ye(re._payload),J(z,V,K,re,Ee)}if(Qe(re)||j(re))return z=z.get(K)||null,ne(V,z,re,Ee,null);if(typeof re.then=="function")return J(z,V,K,Dc(re),Ee);if(re.$$typeof===te)return J(z,V,K,gc(V,re),Ee);Nc(V,re)}return null}function ke(z,V,K,re){for(var Ee=null,Ye=null,Se=V,Me=V=0,nn=null;Se!==null&&Me<K.length;Me++){Se.index>Me?(nn=Se,Se=null):nn=Se.sibling;var lt=W(z,Se,K[Me],re);if(lt===null){Se===null&&(Se=nn);break}t&&Se&&lt.alternate===null&&i(z,Se),V=d(lt,V,Me),Ye===null?Ee=lt:Ye.sibling=lt,Ye=lt,Se=nn}if(Me===K.length)return s(z,Se),ct&&fs(z,Me),Ee;if(Se===null){for(;Me<K.length;Me++)Se=oe(z,K[Me],re),Se!==null&&(V=d(Se,V,Me),Ye===null?Ee=Se:Ye.sibling=Se,Ye=Se);return ct&&fs(z,Me),Ee}for(Se=l(Se);Me<K.length;Me++)nn=J(Se,z,Me,K[Me],re),nn!==null&&(t&&nn.alternate!==null&&Se.delete(nn.key===null?Me:nn.key),V=d(nn,V,Me),Ye===null?Ee=nn:Ye.sibling=nn,Ye=nn);return t&&Se.forEach(function(ba){return i(z,ba)}),ct&&fs(z,Me),Ee}function Ne(z,V,K,re){if(K==null)throw Error(a(151));for(var Ee=null,Ye=null,Se=V,Me=V=0,nn=null,lt=K.next();Se!==null&&!lt.done;Me++,lt=K.next()){Se.index>Me?(nn=Se,Se=null):nn=Se.sibling;var ba=W(z,Se,lt.value,re);if(ba===null){Se===null&&(Se=nn);break}t&&Se&&ba.alternate===null&&i(z,Se),V=d(ba,V,Me),Ye===null?Ee=ba:Ye.sibling=ba,Ye=ba,Se=nn}if(lt.done)return s(z,Se),ct&&fs(z,Me),Ee;if(Se===null){for(;!lt.done;Me++,lt=K.next())lt=oe(z,lt.value,re),lt!==null&&(V=d(lt,V,Me),Ye===null?Ee=lt:Ye.sibling=lt,Ye=lt);return ct&&fs(z,Me),Ee}for(Se=l(Se);!lt.done;Me++,lt=K.next())lt=J(Se,z,Me,lt.value,re),lt!==null&&(t&&lt.alternate!==null&&Se.delete(lt.key===null?Me:lt.key),V=d(lt,V,Me),Ye===null?Ee=lt:Ye.sibling=lt,Ye=lt);return t&&Se.forEach(function(hA){return i(z,hA)}),ct&&fs(z,Me),Ee}function Et(z,V,K,re){if(typeof K=="object"&&K!==null&&K.type===x&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case T:e:{for(var Ee=K.key;V!==null;){if(V.key===Ee){if(Ee=K.type,Ee===x){if(V.tag===7){s(z,V.sibling),re=f(V,K.props.children),re.return=z,z=re;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&Hy(Ee)===V.type){s(z,V.sibling),re=f(V,K.props),Pl(re,K),re.return=z,z=re;break e}s(z,V);break}else i(z,V);V=V.sibling}K.type===x?(re=cs(K.props.children,z.mode,re,K.key),re.return=z,z=re):(re=fc(K.type,K.key,K.props,null,z.mode,re),Pl(re,K),re.return=z,z=re)}return E(z);case C:e:{for(Ee=K.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){s(z,V.sibling),re=f(V,K.children||[]),re.return=z,z=re;break e}else{s(z,V);break}else i(z,V);V=V.sibling}re=jf(K,z.mode,re),re.return=z,z=re}return E(z);case S:return Ee=K._init,K=Ee(K._payload),Et(z,V,K,re)}if(Qe(K))return ke(z,V,K,re);if(j(K)){if(Ee=j(K),typeof Ee!="function")throw Error(a(150));return K=Ee.call(K),Ne(z,V,K,re)}if(typeof K.then=="function")return Et(z,V,Dc(K),re);if(K.$$typeof===te)return Et(z,V,gc(z,K),re);Nc(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,V!==null&&V.tag===6?(s(z,V.sibling),re=f(V,K),re.return=z,z=re):(s(z,V),re=Bf(K,z.mode,re),re.return=z,z=re),E(z)):s(z,V)}return function(z,V,K,re){try{Ml=0;var Ee=Et(z,V,K,re);return mo=null,Ee}catch(Se){if(Se===Al||Se===vc)throw Se;var Ye=Gn(29,Se,null,z.mode);return Ye.lanes=re,Ye.return=z,Ye}finally{}}}var po=qy(!0),Fy=qy(!1),yr=ie(null),Kr=null;function oa(t){var i=t.alternate;ue(Kt,Kt.current&1),ue(yr,t),Kr===null&&(i===null||uo.current!==null||i.memoizedState!==null)&&(Kr=t)}function Gy(t){if(t.tag===22){if(ue(Kt,Kt.current),ue(yr,t),Kr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Kr=t)}}else la()}function la(){ue(Kt,Kt.current),ue(yr,yr.current)}function Ci(t){pe(yr),Kr===t&&(Kr=null),pe(Kt)}var Kt=ie(0);function xc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||lm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function _d(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ed={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Qn(),f=ia(l);f.payload=i,s!=null&&(f.callback=s),i=aa(t,f,l),i!==null&&(Xn(i,t,l),Rl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Qn(),f=ia(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=aa(t,f,l),i!==null&&(Xn(i,t,l),Rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Qn(),l=ia(s);l.tag=2,i!=null&&(l.callback=i),i=aa(t,l,s),i!==null&&(Xn(i,t,s),Rl(i,t,s))}};function $y(t,i,s,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!gl(s,l)||!gl(f,d):!0}function Ky(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Ed.enqueueReplaceState(i,i.state,null)}function _s(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Yy(t){Oc(t)}function Qy(t){console.error(t)}function Xy(t){Oc(t)}function Mc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Wy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(t,i,s){return s=ia(s),s.tag=3,s.payload={element:null},s.callback=function(){Mc(t,i)},s}function Zy(t){return t=ia(t),t.tag=3,t}function Jy(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Wy(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Wy(i,s,l),typeof f!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function hw(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Tl(i,s,f,!0),s=yr.current,s!==null){switch(s.tag){case 13:return Kr===null?Gd():s.alternate===null&&Dt===0&&(Dt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Xf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Kd(t,l,f)),!1;case 22:return s.flags|=65536,l===Xf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Kd(t,l,f)),!1}throw Error(a(435,s.tag))}return Kd(t,l,f),Gd(),!1}if(ct)return i=yr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==qf&&(t=Error(a(422),{cause:l}),El(dr(t,s)))):(l!==qf&&(i=Error(a(423),{cause:l}),El(dr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=dr(l,s),f=Td(t.stateNode,l,f),Jf(t,f),Dt!==4&&(Dt=2)),!1;var d=Error(a(520),{cause:l});if(d=dr(d,s),zl===null?zl=[d]:zl.push(d),Dt!==4&&(Dt=2),i===null)return!0;l=dr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Td(s.stateNode,l,t),Jf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ma===null||!ma.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Zy(f),Jy(f,t,s,l),Jf(s,f),!1}s=s.return}while(s!==null);return!1}var ev=Error(a(461)),en=!1;function ln(t,i,s,l){i.child=t===null?Fy(i,null,s,l):po(i,t.child,s,l)}function tv(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return gs(i),l=id(t,i,s,E,d,f),w=ad(),t!==null&&!en?(sd(t,i,f),Ii(t,i,f)):(ct&&w&&zf(i),i.flags|=1,ln(t,i,l,f),i.child)}function nv(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,rv(t,i,d,l,f)):(t=fc(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Dd(t,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(E,l)&&t.ref===i.ref)return Ii(t,i,f)}return i.flags|=1,t=Ti(d,l),t.ref=i.ref,t.return=i,i.child=t}function rv(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(gl(d,l)&&t.ref===i.ref)if(en=!1,i.pendingProps=l=d,Dd(t,f))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,Ii(t,i,f)}return bd(t,i,s,l,f)}function iv(t,i,s){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return av(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&yc(i,d!==null?d.cachePool:null),d!==null?ry(i,d):td(),Gy(i);else return i.lanes=i.childLanes=536870912,av(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(yc(i,d.cachePool),ry(i,d),la(),i.memoizedState=null):(t!==null&&yc(i,null),td(),la());return ln(t,i,f,s),i.child}function av(t,i,s,l){var f=Qf();return f=f===null?null:{parent:$t._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&yc(i,null),td(),Gy(i),t!==null&&Tl(t,i,l,!0),null}function Pc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function bd(t,i,s,l,f){return gs(i),s=id(t,i,s,l,void 0,f),l=ad(),t!==null&&!en?(sd(t,i,f),Ii(t,i,f)):(ct&&l&&zf(i),i.flags|=1,ln(t,i,s,f),i.child)}function sv(t,i,s,l,f,d){return gs(i),i.updateQueue=null,s=ay(i,l,s,f),iy(t),l=ad(),t!==null&&!en?(sd(t,i,d),Ii(t,i,d)):(ct&&l&&zf(i),i.flags|=1,ln(t,i,s,d),i.child)}function ov(t,i,s,l,f){if(gs(i),i.stateNode===null){var d=io,E=s.contextType;typeof E=="object"&&E!==null&&(d=_n(E)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ed,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Wf(i),E=s.contextType,d.context=typeof E=="object"&&E!==null?_n(E):io,d.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(_d(i,s,E,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Ed.enqueueReplaceState(d,d.state,null),Il(i,l,d,f),Cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,N=_s(s,w);d.props=N;var Q=d.context,ne=s.contextType;E=io,typeof ne=="object"&&ne!==null&&(E=_n(ne));var oe=s.getDerivedStateFromProps;ne=typeof oe=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Q!==E)&&Ky(i,d,l,E),ra=!1;var W=i.memoizedState;d.state=W,Il(i,l,d,f),Cl(),Q=i.memoizedState,w||W!==Q||ra?(typeof oe=="function"&&(_d(i,s,oe,l),Q=i.memoizedState),(N=ra||$y(i,s,N,l,W,Q,E))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Zf(t,i),E=i.memoizedProps,ne=_s(s,E),d.props=ne,oe=i.pendingProps,W=d.context,Q=s.contextType,N=io,typeof Q=="object"&&Q!==null&&(N=_n(Q)),w=s.getDerivedStateFromProps,(Q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==oe||W!==N)&&Ky(i,d,l,N),ra=!1,W=i.memoizedState,d.state=W,Il(i,l,d,f),Cl();var J=i.memoizedState;E!==oe||W!==J||ra||t!==null&&t.dependencies!==null&&pc(t.dependencies)?(typeof w=="function"&&(_d(i,s,w,l),J=i.memoizedState),(ne=ra||$y(i,s,ne,l,W,J,N)||t!==null&&t.dependencies!==null&&pc(t.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),d.props=l,d.state=J,d.context=N,l=ne):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Pc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=po(i,t.child,null,f),i.child=po(i,null,s,f)):ln(t,i,s,f),i.memoizedState=d.state,t=i.child):t=Ii(t,i,f),t}function lv(t,i,s,l){return _l(),i.flags|=256,ln(t,i,s,l),i.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:Qg()}}function Sd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=vr),t}function uv(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(f?oa(i):la(),ct){var w=It,N;if(N=w){e:{for(N=w,w=$r;N.nodeType!==8;){if(!w){w=null;break e}if(N=Ir(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(i.memoizedState={dehydrated:w,treeContext:hs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},N=Gn(18,null,null,0),N.stateNode=w,N.return=i,i.child=N,xn=i,It=null,N=!0):N=!1}N||ms(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return lm(w)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return w=l.children,l=l.fallback,f?(la(),f=i.mode,w=kc({mode:"hidden",children:w},f),l=cs(l,f,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,f=i.child,f.memoizedState=Ad(s),f.childLanes=Sd(t,E,s),i.memoizedState=wd,l):(oa(i),Rd(i,w))}if(N=t.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(d)i.flags&256?(oa(i),i.flags&=-257,i=Cd(t,i,s)):i.memoizedState!==null?(la(),i.child=t.child,i.flags|=128,i=null):(la(),f=l.fallback,w=i.mode,l=kc({mode:"visible",children:l.children},w),f=cs(f,w,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,po(i,t.child,null,s),l=i.child,l.memoizedState=Ad(s),l.childLanes=Sd(t,E,s),i.memoizedState=wd,i=f);else if(oa(i),lm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var Q=E.dgst;E=Q,l=Error(a(419)),l.stack="",l.digest=E,El({value:l,source:null,stack:null}),i=Cd(t,i,s)}else if(en||Tl(t,i,s,!1),E=(s&t.childLanes)!==0,en||E){if(E=wt,E!==null&&(l=s&-s,l=(l&42)!==0?1:Vr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,ro(t,l),Xn(E,t,l),ev;w.data==="$?"||Gd(),i=Cd(t,i,s)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,It=Ir(w.nextSibling),xn=i,ct=!0,ds=null,$r=!1,t!==null&&(pr[gr++]=bi,pr[gr++]=wi,pr[gr++]=hs,bi=t.id,wi=t.overflow,hs=i),i=Rd(i,l.children),i.flags|=4096);return i}return f?(la(),f=l.fallback,w=i.mode,N=t.child,Q=N.sibling,l=Ti(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,Q!==null?f=Ti(Q,f):(f=cs(f,w,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,w=t.child.memoizedState,w===null?w=Ad(s):(N=w.cachePool,N!==null?(Q=$t._currentValue,N=N.parent!==Q?{parent:Q,pool:Q}:N):N=Qg(),w={baseLanes:w.baseLanes|s,cachePool:N}),f.memoizedState=w,f.childLanes=Sd(t,E,s),i.memoizedState=wd,l):(oa(i),s=t.child,t=s.sibling,s=Ti(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function Rd(t,i){return i=kc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function kc(t,i){return t=Gn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Cd(t,i,s){return po(i,t.child,null,s),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Gf(t.return,i,s)}function Id(t,i,s,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function hv(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(ln(t,i,l.children,s),l=Kt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cv(t,s,i);else if(t.tag===19)cv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ue(Kt,l),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&xc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Id(i,!1,f,s,d);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&xc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Id(i,!0,s,null,d);break;case"together":Id(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ii(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),da|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Tl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ti(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ti(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&pc(t)))}function fw(t,i,s){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),na(i,$t,t.memoizedState.cache),_l();break;case 27:case 5:At(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:na(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?uv(t,i,s):(oa(i),t=Ii(t,i,s),t!==null?t.sibling:null);oa(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Tl(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return hv(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Kt,Kt.current),l)break;return null;case 22:case 23:return i.lanes=0,iv(t,i,s);case 24:na(i,$t,t.memoizedState.cache)}return Ii(t,i,s)}function fv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!Dd(t,s)&&(i.flags&128)===0)return en=!1,fw(t,i,s);en=(t.flags&131072)!==0}else en=!1,ct&&(i.flags&1048576)!==0&&Hg(i,mc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Uf(l)?(t=_s(l,t),i.tag=1,i=ov(null,i,l,t,s)):(i.tag=0,i=bd(null,i,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===fe){i.tag=11,i=tv(null,i,l,t,s);break e}else if(f===P){i.tag=14,i=nv(null,i,l,t,s);break e}}throw i=He(l)||l,Error(a(306,i,""))}}return i;case 0:return bd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=_s(l,i.pendingProps),ov(t,i,l,f,s);case 3:e:{if(gt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Zf(t,i),Il(i,l,null,s);var E=i.memoizedState;if(l=E.cache,na(i,$t,l),l!==d.cache&&$f(i,[$t],s,!0),Cl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=lv(t,i,l,s);break e}else if(l!==f){f=dr(Error(a(424)),i),El(f),i=lv(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(It=Ir(t.firstChild),xn=i,ct=!0,ds=null,$r=!0,s=Fy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(_l(),l===f){i=Ii(t,i,s);break e}ln(t,i,l,s)}i=i.child}return i;case 26:return Pc(t,i),t===null?(s=g_(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,t=i.pendingProps,l=Qc(Re.current).createElement(s),l[ae]=i,l[he]=t,cn(l,s,t),nt(l),i.stateNode=l):i.memoizedState=g_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return At(i),t===null&&ct&&(l=i.stateNode=d_(i.type,i.pendingProps,Re.current),xn=i,$r=!0,f=It,ya(i.type)?(um=f,It=Ir(l.firstChild)):It=f),ln(t,i,i.pendingProps.children,s),Pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((f=l=It)&&(l=jw(l,i.type,i.pendingProps,$r),l!==null?(i.stateNode=l,xn=i,It=Ir(l.firstChild),$r=!1,f=!0):f=!1),f||ms(i)),At(i),f=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,am(f,d)?l=null:E!==null&&am(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=id(t,i,iw,null,null,s),Xl._currentValue=f),Pc(t,i),ln(t,i,l,s),i.child;case 6:return t===null&&ct&&((t=s=It)&&(s=zw(s,i.pendingProps,$r),s!==null?(i.stateNode=s,xn=i,It=null,t=!0):t=!1),t||ms(i)),null;case 13:return uv(t,i,s);case 4:return gt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=po(i,null,l,s):ln(t,i,l,s),i.child;case 11:return tv(t,i,i.type,i.pendingProps,s);case 7:return ln(t,i,i.pendingProps,s),i.child;case 8:return ln(t,i,i.pendingProps.children,s),i.child;case 12:return ln(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,na(i,i.type,l.value),ln(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,gs(i),f=_n(f),l=l(f),i.flags|=1,ln(t,i,l,s),i.child;case 14:return nv(t,i,i.type,i.pendingProps,s);case 15:return rv(t,i,i.type,i.pendingProps,s);case 19:return hv(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=kc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ti(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return iv(t,i,s);case 24:return gs(i),l=_n($t),t===null?(f=Qf(),f===null&&(f=wt,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},Wf(i),na(i,$t,f)):((t.lanes&s)!==0&&(Zf(t,i),Il(i,null,null,s),Cl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),na(i,$t,l)):(l=d.cache,na(i,$t,l),l!==f.cache&&$f(i,[$t],s,!0))),ln(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Di(t){t.flags|=4}function dv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T_(i)){if(i=yr.current,i!==null&&((at&4194048)===at?Kr!==null:(at&62914560)!==at&&(at&536870912)===0||i!==Kr))throw Sl=Xf,Xg;t.flags|=8192}}function Vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Xa():536870912,t.lanes|=i,_o|=i)}function kl(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function dw(t,i,s){var l=i.pendingProps;switch(Hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Si($t),nr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vl(i)?Di(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gg())),Rt(i),null;case 26:return s=i.memoizedState,t===null?(Di(i),s!==null?(Rt(i),dv(i,s)):(Rt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Di(i),Rt(i),dv(i,s)):(Rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Di(i),Rt(i),i.flags&=-16777217),null;case 27:gn(i),s=Re.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Rt(i),null}t=we.current,vl(i)?qg(i):(t=d_(f,l,s),i.stateNode=t,Di(i))}return Rt(i),null;case 5:if(gn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Rt(i),null}if(t=we.current,vl(i))qg(i);else{switch(f=Qc(Re.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[ae]=i,t[he]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(cn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Di(i)}}return Rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Re.current,vl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=xn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ae]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||s_(t.nodeValue,s)),t||ms(i)}else t=Qc(t).createTextNode(l),t[ae]=i,i.stateNode=t}return Rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=vl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ae]=i}else _l(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),f=!1}else f=Gg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Vc(i,i.updateQueue),Rt(i),null;case 4:return nr(),t===null&&em(i.stateNode.containerInfo),Rt(i),null;case 10:return Si(i.type),Rt(i),null;case 19:if(pe(Kt),f=i.memoizedState,f===null)return Rt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)kl(f,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=xc(t),d!==null){for(i.flags|=128,kl(f,!1),t=d.updateQueue,i.updateQueue=t,Vc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)zg(s,t),s=s.sibling;return ue(Kt,Kt.current&1|2),i.child}t=t.sibling}f.tail!==null&&Rn()>Bc&&(i.flags|=128,l=!0,kl(f,!1),i.lanes=4194304)}else{if(!l)if(t=xc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Vc(i,t),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ct)return Rt(i),null}else 2*Rn()-f.renderingStartTime>Bc&&s!==536870912&&(i.flags|=128,l=!0,kl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Rn(),i.sibling=null,t=Kt.current,ue(Kt,l?t&1|2:t&1),i):(Rt(i),null);case 22:case 23:return Ci(i),nd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),s=i.updateQueue,s!==null&&Vc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&pe(ys),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Si($t),Rt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function mw(t,i){switch(Hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Si($t),nr(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gn(i),null;case 13:if(Ci(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));_l()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return pe(Kt),null;case 4:return nr(),null;case 10:return Si(i.type),null;case 22:case 23:return Ci(i),nd(),t!==null&&pe(ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Si($t),null;case 25:return null;default:return null}}function mv(t,i){switch(Hf(i),i.tag){case 3:Si($t),nr();break;case 26:case 27:case 5:gn(i);break;case 4:nr();break;case 13:Ci(i);break;case 19:pe(Kt);break;case 10:Si(i.type);break;case 22:case 23:Ci(i),nd(),t!==null&&pe(ys);break;case 24:Si($t)}}function Vl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,E=s.inst;l=d(),E.destroy=l}s=s.next}while(s!==f)}}catch(w){bt(i,i.return,w)}}function ua(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=i;var N=s,Q=w;try{Q()}catch(ne){bt(f,N,ne)}}}l=l.next}while(l!==d)}}catch(ne){bt(i,i.return,ne)}}function pv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{ny(i,s)}catch(l){bt(t,t.return,l)}}}function gv(t,i,s){s.props=_s(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){bt(t,i,l)}}function Ll(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){bt(t,i,f)}}function Yr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){bt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){bt(t,i,f)}else s.current=null}function yv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){bt(t,t.return,f)}}function Nd(t,i,s){try{var l=t.stateNode;kw(l,t.type,s,i),l[he]=i}catch(f){bt(t,t.return,f)}}function vv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ya(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Yc));else if(l!==4&&(l===27&&ya(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,s),t=t.sibling;t!==null;)Od(t,i,s),t=t.sibling}function Lc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ya(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Lc(t,i,s),t=t.sibling;t!==null;)Lc(t,i,s),t=t.sibling}function _v(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);cn(i,l,s),i[ae]=t,i[he]=s}catch(d){bt(t,t.return,d)}}var Ni=!1,Ot=!1,Md=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,tn=null;function pw(t,i){if(t=t.containerInfo,rm=th,t=xg(t),xf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var E=0,w=-1,N=-1,Q=0,ne=0,oe=t,W=null;t:for(;;){for(var J;oe!==s||f!==0&&oe.nodeType!==3||(w=E+f),oe!==d||l!==0&&oe.nodeType!==3||(N=E+l),oe.nodeType===3&&(E+=oe.nodeValue.length),(J=oe.firstChild)!==null;)W=oe,oe=J;for(;;){if(oe===t)break t;if(W===s&&++Q===f&&(w=E),W===d&&++ne===l&&(N=E),(J=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=J}s=w===-1||N===-1?null:{start:w,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(im={focusedElem:t,selectionRange:s},th=!1,tn=i;tn!==null;)if(i=tn,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,tn=t;else for(;tn!==null;){switch(i=tn,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ke=_s(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(ke,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){bt(s,s.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)om(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,tn=t;break}tn=i.return}}function Tv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ca(t,s),l&4&&Vl(5,s);break;case 1:if(ca(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){bt(s,s.return,E)}else{var f=_s(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){bt(s,s.return,E)}}l&64&&pv(s),l&512&&Ll(s,s.return);break;case 3:if(ca(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ny(t,i)}catch(E){bt(s,s.return,E)}}break;case 27:i===null&&l&4&&_v(s);case 26:case 5:ca(t,s),i===null&&l&4&&yv(s),l&512&&Ll(s,s.return);break;case 12:ca(t,s);break;case 13:ca(t,s),l&4&&Av(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Aw.bind(null,s),Hw(t,s))));break;case 22:if(l=s.memoizedState!==null||Ni,!l){i=i!==null&&i.memoizedState!==null||Ot,f=Ni;var d=Ot;Ni=l,(Ot=i)&&!d?ha(t,s,(s.subtreeFlags&8772)!==0):ca(t,s),Ni=f,Ot=d}break;case 30:break;default:ca(t,s)}}function bv(t){var i=t.alternate;i!==null&&(t.alternate=null,bv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&be(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,kn=!1;function xi(t,i,s){for(s=s.child;s!==null;)wv(t,i,s),s=s.sibling}function wv(t,i,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ut,s)}catch{}switch(s.tag){case 26:Ot||Yr(s,i),xi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||Yr(s,i);var l=St,f=kn;ya(s.type)&&(St=s.stateNode,kn=!1),xi(t,i,s),$l(s.stateNode),St=l,kn=f;break;case 5:Ot||Yr(s,i);case 6:if(l=St,f=kn,St=null,xi(t,i,s),St=l,kn=f,St!==null)if(kn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(s.stateNode)}catch(d){bt(s,i,d)}else try{St.removeChild(s.stateNode)}catch(d){bt(s,i,d)}break;case 18:St!==null&&(kn?(t=St,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),eu(t)):h_(St,s.stateNode));break;case 4:l=St,f=kn,St=s.stateNode.containerInfo,kn=!0,xi(t,i,s),St=l,kn=f;break;case 0:case 11:case 14:case 15:Ot||ua(2,s,i),Ot||ua(4,s,i),xi(t,i,s);break;case 1:Ot||(Yr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&gv(s,i,l)),xi(t,i,s);break;case 21:xi(t,i,s);break;case 22:Ot=(l=Ot)||s.memoizedState!==null,xi(t,i,s),Ot=l;break;default:xi(t,i,s)}}function Av(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eu(t)}catch(s){bt(i,i.return,s)}}function gw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ev),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ev),i;default:throw Error(a(435,t.tag))}}function Pd(t,i){var s=gw(t);i.forEach(function(l){var f=Sw.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function $n(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(ya(w.type)){St=w.stateNode,kn=!1;break e}break;case 5:St=w.stateNode,kn=!1;break e;case 3:case 4:St=w.stateNode.containerInfo,kn=!0;break e}w=w.return}if(St===null)throw Error(a(160));wv(d,E,f),St=null,kn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Sv(i,t),i=i.sibling}var Cr=null;function Sv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$n(i,t),Kn(t),l&4&&(ua(3,t,t.return),Vl(3,t),ua(5,t,t.return));break;case 1:$n(i,t),Kn(t),l&512&&(Ot||s===null||Yr(s,s.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Cr;if($n(i,t),Kn(t),l&512&&(Ot||s===null||Yr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[De]||d[ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),cn(d,l,s),d[ae]=t,nt(d),l=d;break e;case"link":var E=__("link","href",f).get(l+(s.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(w,1);break t}}d=f.createElement(l),cn(d,l,s),f.head.appendChild(d);break;case"meta":if(E=__("meta","content",f).get(l+(s.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(w,1);break t}}d=f.createElement(l),cn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[ae]=t,nt(d),l=d}t.stateNode=l}else E_(f,t.type,t.stateNode);else t.stateNode=v_(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?E_(f,t.type,t.stateNode):v_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,s.memoizedProps)}break;case 27:$n(i,t),Kn(t),l&512&&(Ot||s===null||Yr(s,s.return)),s!==null&&l&4&&Nd(t,t.memoizedProps,s.memoizedProps);break;case 5:if($n(i,t),Kn(t),l&512&&(Ot||s===null||Yr(s,s.return)),t.flags&32){f=t.stateNode;try{ur(f,"")}catch(J){bt(t,t.return,J)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Nd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Md=!0);break;case 6:if($n(i,t),Kn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(J){bt(t,t.return,J)}}break;case 3:if(Zc=null,f=Cr,Cr=Xc(i.containerInfo),$n(i,t),Cr=f,Kn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{eu(i.containerInfo)}catch(J){bt(t,t.return,J)}Md&&(Md=!1,Rv(t));break;case 4:l=Cr,Cr=Xc(t.stateNode.containerInfo),$n(i,t),Kn(t),Cr=l;break;case 12:$n(i,t),Kn(t);break;case 13:$n(i,t),Kn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(jd=Rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pd(t,l)));break;case 22:f=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,Q=Ni,ne=Ot;if(Ni=Q||f,Ot=ne||N,$n(i,t),Ot=ne,Ni=Q,Kn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||N||Ni||Ot||Es(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(d=N.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=N.stateNode;var oe=N.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;w.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){bt(N,N.return,J)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(J){bt(N,N.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Pd(t,s))));break;case 19:$n(i,t),Kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pd(t,l)));break;case 30:break;case 21:break;default:$n(i,t),Kn(t)}}function Kn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(vv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=xd(t);Lc(t,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(ur(E,""),s.flags&=-33);var w=xd(t);Lc(t,w,E);break;case 3:case 4:var N=s.stateNode.containerInfo,Q=xd(t);Od(t,Q,N);break;default:throw Error(a(161))}}catch(ne){bt(t,t.return,ne)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Rv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Rv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ca(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tv(t,i.alternate,i),i=i.sibling}function Es(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ua(4,i,i.return),Es(i);break;case 1:Yr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&gv(i,i.return,s),Es(i);break;case 27:$l(i.stateNode);case 26:case 5:Yr(i,i.return),Es(i);break;case 22:i.memoizedState===null&&Es(i);break;case 30:Es(i);break;default:Es(i)}t=t.sibling}}function ha(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ha(f,d,s),Vl(4,d);break;case 1:if(ha(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){bt(l,l.return,Q)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)ty(N[f],w)}catch(Q){bt(l,l.return,Q)}}s&&E&64&&pv(d),Ll(d,d.return);break;case 27:_v(d);case 26:case 5:ha(f,d,s),s&&l===null&&E&4&&yv(d),Ll(d,d.return);break;case 12:ha(f,d,s);break;case 13:ha(f,d,s),s&&E&4&&Av(f,d);break;case 22:d.memoizedState===null&&ha(f,d,s),Ll(d,d.return);break;case 30:break;default:ha(f,d,s)}i=i.sibling}}function kd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&bl(s))}function Vd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&bl(t))}function Qr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cv(t,i,s,l),i=i.sibling}function Cv(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Qr(t,i,s,l),f&2048&&Vl(9,i);break;case 1:Qr(t,i,s,l);break;case 3:Qr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&bl(t)));break;case 12:if(f&2048){Qr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){bt(i,i.return,N)}}else Qr(t,i,s,l);break;case 13:Qr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Qr(t,i,s,l):Ul(t,i):d._visibility&2?Qr(t,i,s,l):(d._visibility|=2,go(t,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&kd(E,i);break;case 24:Qr(t,i,s,l),f&2048&&Vd(i.alternate,i);break;default:Qr(t,i,s,l)}}function go(t,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,w=s,N=l,Q=E.flags;switch(E.tag){case 0:case 11:case 15:go(d,E,w,N,f),Vl(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?go(d,E,w,N,f):Ul(d,E):(ne._visibility|=2,go(d,E,w,N,f)),f&&Q&2048&&kd(E.alternate,E);break;case 24:go(d,E,w,N,f),f&&Q&2048&&Vd(E.alternate,E);break;default:go(d,E,w,N,f)}i=i.sibling}}function Ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:Ul(s,l),f&2048&&kd(l.alternate,l);break;case 24:Ul(s,l),f&2048&&Vd(l.alternate,l);break;default:Ul(s,l)}i=i.sibling}}var Bl=8192;function yo(t){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)Iv(t),t=t.sibling}function Iv(t){switch(t.tag){case 26:yo(t),t.flags&Bl&&t.memoizedState!==null&&tA(Cr,t.memoizedState,t.memoizedProps);break;case 5:yo(t);break;case 3:case 4:var i=Cr;Cr=Xc(t.stateNode.containerInfo),yo(t),Cr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Bl,Bl=16777216,yo(t),Bl=i):yo(t));break;default:yo(t)}}function Dv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function jl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,xv(l,t)}Dv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nv(t),t=t.sibling}function Nv(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&ua(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Uc(t)):jl(t);break;default:jl(t)}}function Uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,xv(l,t)}Dv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ua(8,i,i.return),Uc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Uc(i));break;default:Uc(i)}t=t.sibling}}function xv(t,i){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:ua(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else e:for(s=t;tn!==null;){l=tn;var f=l.sibling,d=l.return;if(bv(l),l===s){tn=null;break e}if(f!==null){f.return=d,tn=f;break e}tn=d}}}var yw={getCacheForType:function(t){var i=_n($t),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},vw=typeof WeakMap=="function"?WeakMap:Map,mt=0,wt=null,We=null,at=0,pt=0,Yn=null,fa=!1,vo=!1,Ld=!1,Oi=0,Dt=0,da=0,Ts=0,Ud=0,vr=0,_o=0,zl=null,Vn=null,Bd=!1,jd=0,Bc=1/0,jc=null,ma=null,un=0,pa=null,Eo=null,To=0,zd=0,Hd=null,Ov=null,Hl=0,qd=null;function Qn(){if((mt&2)!==0&&at!==0)return at&-at;if(X.T!==null){var t=oo;return t!==0?t:Xd()}return M()}function Mv(){vr===0&&(vr=(at&536870912)===0||ct?fi():536870912);var t=yr.current;return t!==null&&(t.flags|=32),vr}function Xn(t,i,s){(t===wt&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(bo(t,0),ga(t,at,vr,!1)),Ar(t,s),((mt&2)===0||t!==wt)&&(t===wt&&((mt&2)===0&&(Ts|=s),Dt===4&&ga(t,at,vr,!1)),Xr(t))}function Pv(t,i,s){if((mt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||ar(t,i),f=l?Tw(t,i):$d(t,i,!0),d=l;do{if(f===0){vo&&!l&&ga(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!_w(s)){f=$d(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;f=zl;var N=w.current.memoizedState.isDehydrated;if(N&&(bo(w,E).flags|=256),E=$d(w,E,!1),E!==2){if(Ld&&!N){w.errorRecoveryDisabledLanes|=d,Ts|=d,f=4;break e}d=Vn,Vn=f,d!==null&&(Vn===null?Vn=d:Vn.push.apply(Vn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){bo(t,0),ga(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ga(l,i,vr,!fa);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=jd+300-Rn(),10<f)){if(ga(l,i,vr,!fa),hi(l,0,!0)!==0)break e;l.timeoutHandle=u_(kv.bind(null,l,s,Vn,jc,Bd,i,vr,Ts,_o,fa,d,2,-0,0),f);break e}kv(l,s,Vn,jc,Bd,i,vr,Ts,_o,fa,d,0,-0,0)}}break}while(!0);Xr(t)}function kv(t,i,s,l,f,d,E,w,N,Q,ne,oe,W,J){if(t.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:eA},Iv(i),oe=nA(),oe!==null)){t.cancelPendingCommit=oe(Hv.bind(null,t,i,d,s,l,f,E,w,N,ne,1,W,J)),ga(t,d,E,!Q);return}Hv(t,i,d,s,l,f,E,w,N)}function _w(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Fn(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ga(t,i,s,l){i&=~Ud,i&=~Ts,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Vt(f),E=1<<d;l[d]=-1,f&=~E}s!==0&&Cn(t,s,i)}function zc(){return(mt&6)===0?(ql(0),!1):!0}function Fd(){if(We!==null){if(pt===0)var t=We.return;else t=We,Ai=ps=null,od(t),mo=null,Ml=0,t=We;for(;t!==null;)mv(t.alternate,t),t=t.return;We=null}}function bo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Lw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Fd(),wt=t,We=s=Ti(t.current,null),at=i,pt=0,Yn=null,fa=!1,vo=ar(t,i),Ld=!1,_o=vr=Ud=Ts=da=Dt=0,Vn=zl=null,Bd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Vt(l),d=1<<f;i|=t[f],l&=~d}return Oi=i,uc(),s}function Vv(t,i){Ge=null,X.H=Ic,i===Al||i===vc?(i=Jg(),pt=3):i===Xg?(i=Jg(),pt=4):pt=i===ev?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,We===null&&(Dt=1,Mc(t,dr(i,t.current)))}function Lv(){var t=X.H;return X.H=Ic,t===null?Ic:t}function Uv(){var t=X.A;return X.A=yw,t}function Gd(){Dt=4,fa||(at&4194048)!==at&&yr.current!==null||(vo=!0),(da&134217727)===0&&(Ts&134217727)===0||wt===null||ga(wt,at,vr,!1)}function $d(t,i,s){var l=mt;mt|=2;var f=Lv(),d=Uv();(wt!==t||at!==i)&&(jc=null,bo(t,i)),i=!1;var E=Dt;e:do try{if(pt!==0&&We!==null){var w=We,N=Yn;switch(pt){case 8:Fd(),E=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(i=!0);var Q=pt;if(pt=0,Yn=null,wo(t,w,N,Q),s&&vo){E=0;break e}break;default:Q=pt,pt=0,Yn=null,wo(t,w,N,Q)}}Ew(),E=Dt;break}catch(ne){Vv(t,ne)}while(!0);return i&&t.shellSuspendCounter++,Ai=ps=null,mt=l,X.H=f,X.A=d,We===null&&(wt=null,at=0,uc()),E}function Ew(){for(;We!==null;)Bv(We)}function Tw(t,i){var s=mt;mt|=2;var l=Lv(),f=Uv();wt!==t||at!==i?(jc=null,Bc=Rn()+500,bo(t,i)):vo=ar(t,i);e:do try{if(pt!==0&&We!==null){i=We;var d=Yn;t:switch(pt){case 1:pt=0,Yn=null,wo(t,i,d,1);break;case 2:case 9:if(Wg(d)){pt=0,Yn=null,jv(i);break}i=function(){pt!==2&&pt!==9||wt!==t||(pt=7),Xr(t)},d.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Wg(d)?(pt=0,Yn=null,jv(i)):(pt=0,Yn=null,wo(t,i,d,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var w=We;if(!E||T_(E)){pt=0,Yn=null;var N=w.sibling;if(N!==null)We=N;else{var Q=w.return;Q!==null?(We=Q,Hc(Q)):We=null}break t}}pt=0,Yn=null,wo(t,i,d,5);break;case 6:pt=0,Yn=null,wo(t,i,d,6);break;case 8:Fd(),Dt=6;break e;default:throw Error(a(462))}}bw();break}catch(ne){Vv(t,ne)}while(!0);return Ai=ps=null,X.H=l,X.A=f,mt=s,We!==null?0:(wt=null,at=0,uc(),Dt)}function bw(){for(;We!==null&&!Ya();)Bv(We)}function Bv(t){var i=fv(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,i===null?Hc(t):We=i}function jv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=sv(s,i,i.pendingProps,i.type,void 0,at);break;case 11:i=sv(s,i,i.pendingProps,i.type.render,i.ref,at);break;case 5:od(i);default:mv(s,i),i=We=zg(i,Oi),i=fv(s,i,Oi)}t.memoizedProps=t.pendingProps,i===null?Hc(t):We=i}function wo(t,i,s,l){Ai=ps=null,od(i),mo=null,Ml=0;var f=i.return;try{if(hw(t,f,i,s,at)){Dt=1,Mc(t,dr(s,t.current)),We=null;return}}catch(d){if(f!==null)throw We=f,d;Dt=1,Mc(t,dr(s,t.current)),We=null;return}i.flags&32768?(ct||l===1?t=!0:vo||(at&536870912)!==0?t=!1:(fa=t=!0,(l===2||l===9||l===3||l===6)&&(l=yr.current,l!==null&&l.tag===13&&(l.flags|=16384))),zv(i,t)):Hc(i)}function Hc(t){var i=t;do{if((i.flags&32768)!==0){zv(i,fa);return}t=i.return;var s=dw(i.alternate,i,Oi);if(s!==null){We=s;return}if(i=i.sibling,i!==null){We=i;return}We=i=t}while(i!==null);Dt===0&&(Dt=5)}function zv(t,i){do{var s=mw(t.alternate,t);if(s!==null){s.flags&=32767,We=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){We=t;return}We=t=s}while(t!==null);Dt=6,We=null}function Hv(t,i,s,l,f,d,E,w,N){t.cancelPendingCommit=null;do qc();while(un!==0);if((mt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Vf,Wi(t,s,d,E,w,N),t===wt&&(We=wt=null,at=0),Eo=i,pa=t,To=s,zd=d,Hd=f,Ov=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Rw(ci,function(){return Kv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=de.p,de.p=2,E=mt,mt|=4;try{pw(t,i,s)}finally{mt=E,de.p=f,X.T=l}}un=1,qv(),Fv(),Gv()}}function qv(){if(un===1){un=0;var t=pa,i=Eo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=de.p;de.p=2;var f=mt;mt|=4;try{Sv(i,t);var d=im,E=xg(t.containerInfo),w=d.focusedElem,N=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&Ng(w.ownerDocument.documentElement,w)){if(N!==null&&xf(w)){var Q=N.start,ne=N.end;if(ne===void 0&&(ne=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(ne,w.value.length);else{var oe=w.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var J=W.getSelection(),ke=w.textContent.length,Ne=Math.min(N.start,ke),Et=N.end===void 0?Ne:Math.min(N.end,ke);!J.extend&&Ne>Et&&(E=Et,Et=Ne,Ne=E);var z=Dg(w,Ne),V=Dg(w,Et);if(z&&V&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==V.node||J.focusOffset!==V.offset)){var K=oe.createRange();K.setStart(z.node,z.offset),J.removeAllRanges(),Ne>Et?(J.addRange(K),J.extend(V.node,V.offset)):(K.setEnd(V.node,V.offset),J.addRange(K))}}}}for(oe=[],J=w;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<oe.length;w++){var re=oe[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}th=!!rm,im=rm=null}finally{mt=f,de.p=l,X.T=s}}t.current=i,un=2}}function Fv(){if(un===2){un=0;var t=pa,i=Eo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=de.p;de.p=2;var f=mt;mt|=4;try{Tv(t,i.alternate,i)}finally{mt=f,de.p=l,X.T=s}}un=3}}function Gv(){if(un===4||un===3){un=0,Hs();var t=pa,i=Eo,s=To,l=Ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?un=5:(un=0,Eo=pa=null,$v(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ma=null),Zi(s),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=de.p,de.p=2,X.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var w=l[E];d(w.value,{componentStack:w.stack})}}finally{X.T=i,de.p=f}}(To&3)!==0&&qc(),Xr(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===qd?Hl++:(Hl=0,qd=t):Hl=0,ql(0)}}function $v(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,bl(i)))}function qc(t){return qv(),Fv(),Gv(),Kv()}function Kv(){if(un!==5)return!1;var t=pa,i=zd;zd=0;var s=Zi(To),l=X.T,f=de.p;try{de.p=32>s?32:s,X.T=null,s=Hd,Hd=null;var d=pa,E=To;if(un=0,Eo=pa=null,To=0,(mt&6)!==0)throw Error(a(331));var w=mt;if(mt|=4,Nv(d.current),Cv(d,d.current,E,s),mt=w,ql(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{de.p=f,X.T=l,$v(t,i)}}function Yv(t,i,s){i=dr(s,i),i=Td(t.stateNode,i,2),t=aa(t,i,2),t!==null&&(Ar(t,2),Xr(t))}function bt(t,i,s){if(t.tag===3)Yv(t,t,s);else for(;i!==null;){if(i.tag===3){Yv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=dr(s,t),s=Zy(2),l=aa(i,s,2),l!==null&&(Jy(s,l,i,t),Ar(l,2),Xr(l));break}}i=i.return}}function Kd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new vw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Ld=!0,f.add(s),t=ww.bind(null,t,i,s),i.then(t,t))}function ww(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,wt===t&&(at&s)===s&&(Dt===4||Dt===3&&(at&62914560)===at&&300>Rn()-jd?(mt&2)===0&&bo(t,0):Ud|=s,_o===at&&(_o=0)),Xr(t)}function Qv(t,i){i===0&&(i=Xa()),t=ro(t,i),t!==null&&(Ar(t,i),Xr(t))}function Aw(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Qv(t,s)}function Sw(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Qv(t,s)}function Rw(t,i){return ui(t,i)}var Fc=null,Ao=null,Yd=!1,Gc=!1,Qd=!1,bs=0;function Xr(t){t!==Ao&&t.next===null&&(Ao===null?Fc=Ao=t:Ao=Ao.next=t),Gc=!0,Yd||(Yd=!0,Iw())}function ql(t,i){if(!Qd&&Gc){Qd=!0;do for(var s=!1,l=Fc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Vt(42|t)+1)-1,d&=f&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Jv(l,d))}else d=at,d=hi(l,l===wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ar(l,d)||(s=!0,Jv(l,d));l=l.next}while(s);Qd=!1}}function Cw(){Xv()}function Xv(){Gc=Yd=!1;var t=0;bs!==0&&(Vw()&&(t=bs),bs=0);for(var i=Rn(),s=null,l=Fc;l!==null;){var f=l.next,d=Wv(l,i);d===0?(l.next=null,s===null?Fc=f:s.next=f,f===null&&(Ao=s)):(s=l,(t!==0||(d&3)!==0)&&(Gc=!0)),l=f}ql(t)}function Wv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Vt(d),w=1<<E,N=f[E];N===-1?((w&s)===0||(w&l)!==0)&&(f[E]=Xi(w,i)):N<=i&&(t.expiredLanes|=w),d&=~w}if(i=wt,s=at,s=hi(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ar(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Sn(l),Zi(s)){case 2:case 8:s=Ki;break;case 32:s=ci;break;case 268435456:s=rr;break;default:s=ci}return l=Zv.bind(null,t),s=ui(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Sn(l),t.callbackPriority=2,t.callbackNode=null,2}function Zv(t,i){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(qc()&&t.callbackNode!==s)return null;var l=at;return l=hi(t,t===wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pv(t,l,i),Wv(t,Rn()),t.callbackNode!=null&&t.callbackNode===s?Zv.bind(null,t):null)}function Jv(t,i){if(qc())return null;Pv(t,i,!0)}function Iw(){Uw(function(){(mt&6)!==0?ui(Qa,Cw):Xv()})}function Xd(){return bs===0&&(bs=fi()),bs}function e_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gs(""+t)}function t_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Dw(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=e_((f[he]||null).action),E=l.submitter;E&&(i=(i=E[he]||null)?e_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var w=new $s("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(bs!==0){var N=E?t_(f,E):new FormData(f);gd(s,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=E?t_(f,E):new FormData(f),gd(s,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Wd=0;Wd<kf.length;Wd++){var Zd=kf[Wd],Nw=Zd.toLowerCase(),xw=Zd[0].toUpperCase()+Zd.slice(1);Rr(Nw,"on"+xw)}Rr(Pg,"onAnimationEnd"),Rr(kg,"onAnimationIteration"),Rr(Vg,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Y1,"onTransitionRun"),Rr(Q1,"onTransitionStart"),Rr(X1,"onTransitionCancel"),Rr(Lg,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function n_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],N=w.instance,Q=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=Q;try{d(f)}catch(ne){Oc(ne)}f.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(w=l[E],N=w.instance,Q=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=Q;try{d(f)}catch(ne){Oc(ne)}f.currentTarget=null,d=N}}}}function Ze(t,i){var s=i[Ce];s===void 0&&(s=i[Ce]=new Set);var l=t+"__bubble";s.has(l)||(r_(i,t,2,!1),s.add(l))}function Jd(t,i,s){var l=0;i&&(l|=4),r_(s,t,l,i)}var $c="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[$c]){t[$c]=!0,Ke.forEach(function(s){s!=="selectionchange"&&(Ow.has(s)||Jd(s,!1,t),Jd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[$c]||(i[$c]=!0,Jd("selectionchange",!1,i))}}function r_(t,i,s,l){switch(C_(i)){case 2:var f=aA;break;case 8:f=sA;break;default:f=mm}s=f.bind(null,i,s,t),f=void 0,!hr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function tm(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Oe(w),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue e}w=w.parentNode}}l=l.return}Yu(function(){var Q=d,ne=cr(s),oe=[];e:{var W=Ug.get(t);if(W!==void 0){var J=$s,ke=t;switch(t){case"keypress":if(zr(s)===0)break e;case"keydown":case"keyup":J=Zs;break;case"focusin":ke="focus",J=Qs;break;case"focusout":ke="blur",J=Qs;break;case"beforeblur":case"afterblur":J=Qs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=nc;break;case Pg:case kg:case Vg:J=Xs;break;case Lg:J=ic;break;case"scroll":case"scrollend":J=Qu;break;case"wheel":J=Js;break;case"copy":case"cut":case"paste":J=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ml;break;case"toggle":case"beforetoggle":J=sc}var Ne=(i&4)!==0,Et=!Ne&&(t==="scroll"||t==="scrollend"),z=Ne?W!==null?W+"Capture":null:W;Ne=[];for(var V=Q,K;V!==null;){var re=V;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||z===null||(re=ts(V,z),re!=null&&Ne.push(Gl(V,re,K))),Et)break;V=V.return}0<Ne.length&&(W=new J(W,ke,null,s,ne),oe.push({event:W,listeners:Ne}))}}if((i&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",W&&s!==pi&&(ke=s.relatedTarget||s.fromElement)&&(Oe(ke)||ke[ge]))break e;if((J||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,J?(ke=s.relatedTarget||s.toElement,J=Q,ke=ke?Oe(ke):null,ke!==null&&(Et=u(ke),Ne=ke.tag,ke!==Et||Ne!==5&&Ne!==27&&Ne!==6)&&(ke=null)):(J=null,ke=Q),J!==ke)){if(Ne=fr,re="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=ml,re="onPointerLeave",z="onPointerEnter",V="pointer"),Et=J==null?W:ht(J),K=ke==null?W:ht(ke),W=new Ne(re,V+"leave",J,s,ne),W.target=Et,W.relatedTarget=K,re=null,Oe(ne)===Q&&(Ne=new Ne(z,V+"enter",ke,s,ne),Ne.target=K,Ne.relatedTarget=Et,re=Ne),Et=re,J&&ke)t:{for(Ne=J,z=ke,V=0,K=Ne;K;K=So(K))V++;for(K=0,re=z;re;re=So(re))K++;for(;0<V-K;)Ne=So(Ne),V--;for(;0<K-V;)z=So(z),K--;for(;V--;){if(Ne===z||z!==null&&Ne===z.alternate)break t;Ne=So(Ne),z=So(z)}Ne=null}else Ne=null;J!==null&&i_(oe,W,J,Ne,!1),ke!==null&&Et!==null&&i_(oe,Et,ke,Ne,!0)}}e:{if(W=Q?ht(Q):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Ee=wg;else if(Gt(W))if(Ag)Ee=G1;else{Ee=q1;var Ye=H1}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&ol(Q.elementType)&&(Ee=wg):Ee=F1;if(Ee&&(Ee=Ee(t,Q))){Ei(oe,Ee,s,ne);break e}Ye&&Ye(t,W,Q),t==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&ea(W,"number",W.value)}switch(Ye=Q?ht(Q):window,t){case"focusin":(Gt(Ye)||Ye.contentEditable==="true")&&(eo=Ye,Of=Q,yl=null);break;case"focusout":yl=Of=eo=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Og(oe,s,ne);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":Og(oe,s,ne)}var Se;if(Fr)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else rt?ee(t,s)&&(Me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(_&&s.locale!=="ko"&&(rt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&rt&&(Se=ul()):(jr=ne,ta="value"in jr?jr.value:jr.textContent,rt=!0)),Ye=Kc(Q,Me),0<Ye.length&&(Me=new fl(Me,t,null,s,ne),oe.push({event:Me,listeners:Ye}),Se?Me.data=Se:(Se=me(s),Se!==null&&(Me.data=Se)))),(Se=y?Ft(t,s):it(t,s))&&(Me=Kc(Q,"onBeforeInput"),0<Me.length&&(Ye=new fl("onBeforeInput","beforeinput",null,s,ne),oe.push({event:Ye,listeners:Me}),Ye.data=Se)),Dw(oe,t,Q,s,ne)}n_(oe,i)})}function Gl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Kc(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ts(t,s),f!=null&&l.unshift(Gl(t,f,d)),f=ts(t,i),f!=null&&l.push(Gl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function So(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,i,s,l,f){for(var d=i._reactName,E=[];s!==null&&s!==l;){var w=s,N=w.alternate,Q=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||Q===null||(N=Q,f?(Q=ts(s,d),Q!=null&&E.unshift(Gl(s,Q,N))):f||(Q=ts(s,d),Q!=null&&E.push(Gl(s,Q,N)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var Mw=/\r\n?/g,Pw=/\u0000|\uFFFD/g;function a_(t){return(typeof t=="string"?t:""+t).replace(Mw,`
`).replace(Pw,"")}function s_(t,i){return i=a_(i),a_(t)===i}function Yc(){}function _t(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ur(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ur(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,s,l);break;case"style":sl(t,l,d);break;case"data":if(i!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Gs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&_t(t,i,"name",f.name,f,null),_t(t,i,"formEncType",f.formEncType,f,null),_t(t,i,"formMethod",f.formMethod,f,null),_t(t,i,"formTarget",f.formTarget,f,null)):(_t(t,i,"encType",f.encType,f,null),_t(t,i,"method",f.method,f,null),_t(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Gs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Yc);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Gs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),vn(t,"popover",l);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Sf.get(s)||s,vn(t,s,l))}}function nm(t,i,s,l,f,d){switch(s){case"style":sl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?ur(t,l):(typeof l=="number"||typeof l=="bigint")&&ur(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!or.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[he]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):vn(t,s,l)}}}function cn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,d,E,s,null)}}f&&_t(t,i,"srcSet",s.srcSet,s,null),l&&_t(t,i,"src",s.src,s,null);return;case"input":Ze("invalid",t);var w=d=E=f=null,N=null,Q=null;for(l in s)if(s.hasOwnProperty(l)){var ne=s[l];if(ne!=null)switch(l){case"name":f=ne;break;case"type":E=ne;break;case"checked":N=ne;break;case"defaultChecked":Q=ne;break;case"value":d=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,i));break;default:_t(t,i,l,ne,s,null)}}Za(t,d,w,N,Q,E,f,!1),Fs(t);return;case"select":Ze("invalid",t),l=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:_t(t,i,f,w,s,null)}i=d,s=E,t.multiple=!!l,i!=null?mi(t,!!l,i,!1):s!=null&&mi(t,!!l,s,!0);return;case"textarea":Ze("invalid",t),d=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(w=s[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:_t(t,i,E,w,s,null)}Ja(t,l,f,d),Fs(t);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_t(t,i,N,l,s,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Ze(Fl[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(l=s[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,Q,l,s,null)}return;default:if(ol(i)){for(ne in s)s.hasOwnProperty(ne)&&(l=s[ne],l!==void 0&&nm(t,i,ne,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&_t(t,i,w,l,s,null))}function kw(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,w=null,N=null,Q=null,ne=null;for(J in s){var oe=s[J];if(s.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=oe;default:l.hasOwnProperty(J)||_t(t,i,J,null,l,oe)}}for(var W in l){var J=l[W];if(oe=s[W],l.hasOwnProperty(W)&&(J!=null||oe!=null))switch(W){case"type":d=J;break;case"name":f=J;break;case"checked":Q=J;break;case"defaultChecked":ne=J;break;case"value":E=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==oe&&_t(t,i,W,J,l,oe)}}qn(t,E,w,N,Q,ne,d,f);return;case"select":J=E=w=W=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":J=N;default:l.hasOwnProperty(d)||_t(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=s[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":W=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==N&&_t(t,i,f,d,l,N)}i=w,s=E,l=J,W!=null?mi(t,!!s,W,!1):!!l!=!!s&&(i!=null?mi(t,!!s,i,!0):mi(t,!!s,s?[]:"",!1));return;case"textarea":J=W=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:_t(t,i,w,null,l,f)}for(E in l)if(f=l[E],d=s[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":W=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&_t(t,i,E,f,l,d)}yt(t,W,J);return;case"option":for(var ke in s)if(W=s[ke],s.hasOwnProperty(ke)&&W!=null&&!l.hasOwnProperty(ke))switch(ke){case"selected":t.selected=!1;break;default:_t(t,i,ke,null,l,W)}for(N in l)if(W=l[N],J=s[N],l.hasOwnProperty(N)&&W!==J&&(W!=null||J!=null))switch(N){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:_t(t,i,N,W,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in s)W=s[Ne],s.hasOwnProperty(Ne)&&W!=null&&!l.hasOwnProperty(Ne)&&_t(t,i,Ne,null,l,W);for(Q in l)if(W=l[Q],J=s[Q],l.hasOwnProperty(Q)&&W!==J&&(W!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:_t(t,i,Q,W,l,J)}return;default:if(ol(i)){for(var Et in s)W=s[Et],s.hasOwnProperty(Et)&&W!==void 0&&!l.hasOwnProperty(Et)&&nm(t,i,Et,void 0,l,W);for(ne in l)W=l[ne],J=s[ne],!l.hasOwnProperty(ne)||W===J||W===void 0&&J===void 0||nm(t,i,ne,W,l,J);return}}for(var z in s)W=s[z],s.hasOwnProperty(z)&&W!=null&&!l.hasOwnProperty(z)&&_t(t,i,z,null,l,W);for(oe in l)W=l[oe],J=s[oe],!l.hasOwnProperty(oe)||W===J||W==null&&J==null||_t(t,i,oe,W,l,J)}var rm=null,im=null;function Qc(t){return t.nodeType===9?t:t.ownerDocument}function o_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function am(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function Vw(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(Bw)}:u_;function Bw(t){setTimeout(function(){throw t})}function ya(t){return t==="head"}function h_(t,i){var s=i,l=0,f=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&$l(E.documentElement),s&2&&$l(E.body),s&4)for(s=E.head,$l(s),E=s.firstChild;E;){var w=E.nextSibling,N=E.nodeName;E[De]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=w}}if(f===0){t.removeChild(d),eu(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);eu(i)}function om(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":om(s),be(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function jw(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[De])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ir(t.nextSibling),t===null)break}return null}function zw(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ir(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Hw(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ir(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var um=null;function f_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function d_(t,i,s){switch(i=Qc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function $l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);be(t)}var _r=new Map,m_=new Set;function Xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=de.d;de.d={f:qw,r:Fw,D:Gw,C:$w,L:Kw,m:Yw,X:Xw,S:Qw,M:Ww};function qw(){var t=Mi.f(),i=zc();return t||i}function Fw(t){var i=Xe(t);i!==null&&i.tag===5&&i.type==="form"?Py(i):Mi.r(t)}var Ro=typeof document>"u"?null:document;function p_(t,i,s){var l=Ro;if(l&&typeof i=="string"&&i){var f=Ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),m_.has(f)||(m_.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),cn(i,"link",t),nt(i),l.head.appendChild(i)))}}function Gw(t){Mi.D(t),p_("dns-prefetch",t,null)}function $w(t,i){Mi.C(t,i),p_("preconnect",t,i)}function Kw(t,i,s){Mi.L(t,i,s);var l=Ro;if(l&&t&&i){var f='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ut(s.imageSizes)+'"]')):f+='[href="'+Ut(t)+'"]';var d=f;switch(i){case"style":d=Co(t);break;case"script":d=Io(t)}_r.has(d)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),_r.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Kl(d))||i==="script"&&l.querySelector(Yl(d))||(i=l.createElement("link"),cn(i,"link",t),nt(i),l.head.appendChild(i)))}}function Yw(t,i){Mi.m(t,i);var s=Ro;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Io(t)}if(!_r.has(d)&&(t=v({rel:"modulepreload",href:t},i),_r.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yl(d)))return}l=s.createElement("link"),cn(l,"link",t),nt(l),s.head.appendChild(l)}}}function Qw(t,i,s){Mi.S(t,i,s);var l=Ro;if(l&&t){var f=ot(l).hoistableStyles,d=Co(t);i=i||"default";var E=f.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Kl(d)))w.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=_r.get(d))&&cm(t,s);var N=E=l.createElement("link");nt(N),cn(N,"link",t),N._p=new Promise(function(Q,ne){N.onload=Q,N.onerror=ne}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Wc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(d,E)}}}function Xw(t,i){Mi.X(t,i);var s=Ro;if(s&&t){var l=ot(s).hoistableScripts,f=Io(t),d=l.get(f);d||(d=s.querySelector(Yl(f)),d||(t=v({src:t,async:!0},i),(i=_r.get(f))&&hm(t,i),d=s.createElement("script"),nt(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ww(t,i){Mi.M(t,i);var s=Ro;if(s&&t){var l=ot(s).hoistableScripts,f=Io(t),d=l.get(f);d||(d=s.querySelector(Yl(f)),d||(t=v({src:t,async:!0,type:"module"},i),(i=_r.get(f))&&hm(t,i),d=s.createElement("script"),nt(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function g_(t,i,s,l){var f=(f=Re.current)?Xc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Co(s.href),s=ot(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Co(s.href);var d=ot(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Kl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),_r.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},_r.set(t,s),d||Zw(f,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Io(s),s=ot(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Co(t){return'href="'+Ut(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Zw(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",s),nt(i),t.head.appendChild(i))}function Io(t){return'[src="'+Ut(t)+'"]'}function Yl(t){return"script[async]"+t}function v_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(s.href)+'"]');if(l)return i.instance=l,nt(l),l;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),cn(l,"style",f),Wc(l,s.precedence,t),i.instance=l;case"stylesheet":f=Co(s.href);var d=t.querySelector(Kl(f));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=y_(s),(f=_r.get(f))&&cm(l,f),d=(t.ownerDocument||t).createElement("link"),nt(d);var E=d;return E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),cn(d,"link",l),i.state.loading|=4,Wc(d,s.precedence,t),i.instance=d;case"script":return d=Io(s.src),(f=t.querySelector(Yl(d)))?(i.instance=f,nt(f),f):(l=s,(f=_r.get(d))&&(l=v({},s),hm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),nt(f),cn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wc(l,s.precedence,t));return i.instance}function Wc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Zc=null;function __(t,i,s){if(Zc===null){var l=new Map,f=Zc=new Map;f.set(s,l)}else f=Zc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[De]||d[ae]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function E_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Jw(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ql=null;function eA(){}function tA(t,i,s){if(Ql===null)throw Error(a(475));var l=Ql;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Co(s.href),d=t.querySelector(Kl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Jc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,s=y_(s),(f=_r.get(f))&&cm(s,f),d=d.createElement("link"),nt(d);var E=d;E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),cn(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Jc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function nA(){if(Ql===null)throw Error(a(475));var t=Ql;return t.stylesheets&&t.count===0&&fm(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&fm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function fm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,i.forEach(rA,t),eh=null,Jc.call(t))}function rA(t,i){if(!(i.state.loading&4)){var s=eh.get(t);if(s)var l=s.get(null);else{s=new Map,eh.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||l,d===l&&s.set(null,f),s.set(E,f),this.count++,l=Jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Xl={$$typeof:te,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function iA(t,i,s,l,f,d,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function b_(t,i,s,l,f,d,E,w,N,Q,ne,oe){return t=new iA(t,i,s,E,w,N,Q,oe),i=1,d===!0&&(i|=24),d=Gn(3,null,null,i),t.current=d,d.stateNode=t,i=Kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Wf(d),t}function w_(t){return t?(t=io,t):io}function A_(t,i,s,l,f,d){f=w_(f),l.context===null?l.context=f:l.pendingContext=f,l=ia(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=aa(t,l,i),s!==null&&(Xn(s,t,i),Rl(s,t,i))}function S_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function dm(t,i){S_(t,i),(t=t.alternate)&&S_(t,i)}function R_(t){if(t.tag===13){var i=ro(t,67108864);i!==null&&Xn(i,t,67108864),dm(t,67108864)}}var th=!0;function aA(t,i,s,l){var f=X.T;X.T=null;var d=de.p;try{de.p=2,mm(t,i,s,l)}finally{de.p=d,X.T=f}}function sA(t,i,s,l){var f=X.T;X.T=null;var d=de.p;try{de.p=8,mm(t,i,s,l)}finally{de.p=d,X.T=f}}function mm(t,i,s,l){if(th){var f=pm(l);if(f===null)tm(t,i,l,nh,s),I_(t,l);else if(lA(f,t,i,s,l))l.stopPropagation();else if(I_(t,l),i&4&&-1<oA.indexOf(t)){for(;f!==null;){var d=Xe(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=jn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var N=1<<31-Vt(E);w.entanglements[1]|=N,E&=~N}Xr(d),(mt&6)===0&&(Bc=Rn()+500,ql(0))}}break;case 13:w=ro(d,2),w!==null&&Xn(w,d,2),zc(),dm(d,2)}if(d=pm(l),d===null&&tm(t,i,l,nh,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else tm(t,i,l,null,s)}}function pm(t){return t=cr(t),gm(t)}var nh=null;function gm(t){if(nh=null,t=Oe(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return nh=t,null}function C_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rl()){case Qa:return 2;case Ki:return 8;case ci:case wr:return 32;case rr:return 268435456;default:return 32}default:return 32}}var ym=!1,va=null,_a=null,Ea=null,Wl=new Map,Zl=new Map,Ta=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,i){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(i.pointerId)}}function Jl(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Xe(i),i!==null&&R_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function lA(t,i,s,l,f){switch(i){case"focusin":return va=Jl(va,t,i,s,l,f),!0;case"dragenter":return _a=Jl(_a,t,i,s,l,f),!0;case"mouseover":return Ea=Jl(Ea,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return Wl.set(d,Jl(Wl.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Zl.set(d,Jl(Zl.get(d)||null,t,i,s,l,f)),!0}return!1}function D_(t){var i=Oe(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,q(t.priority,function(){if(s.tag===13){var l=Qn();l=Vr(l);var f=ro(s,l);f!==null&&Xn(f,s,l),dm(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=pm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);pi=l,s.target.dispatchEvent(l),pi=null}else return i=Xe(s),i!==null&&R_(i),t.blockedOn=s,!1;i.shift()}return!0}function N_(t,i,s){rh(t)&&s.delete(i)}function uA(){ym=!1,va!==null&&rh(va)&&(va=null),_a!==null&&rh(_a)&&(_a=null),Ea!==null&&rh(Ea)&&(Ea=null),Wl.forEach(N_),Zl.forEach(N_)}function ih(t,i){t.blockedOn===i&&(t.blockedOn=null,ym||(ym=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uA)))}var ah=null;function x_(t){ah!==t&&(ah=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ah===t&&(ah=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(gm(l||s)===null)continue;break}var d=Xe(s);d!==null&&(t.splice(i,3),i-=3,gd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function eu(t){function i(N){return ih(N,t)}va!==null&&ih(va,t),_a!==null&&ih(_a,t),Ea!==null&&ih(Ea,t),Wl.forEach(i),Zl.forEach(i);for(var s=0;s<Ta.length;s++){var l=Ta[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ta.length&&(s=Ta[0],s.blockedOn===null);)D_(s),s.blockedOn===null&&Ta.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],E=f[he]||null;if(typeof d=="function")E||x_(s);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[he]||null)w=E.formAction;else if(gm(f)!==null)continue}else w=E.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),x_(s)}}}function vm(t){this._internalRoot=t}sh.prototype.render=vm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Qn();A_(s,l,t,i,null,null)},sh.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;A_(t.current,2,null,t,null,null),zc(),i[ge]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var i=M();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ta.length&&i!==0&&i<Ta[s].priority;s++);Ta.splice(s,0,t),s===0&&D_(t)}};var O_=e.version;if(O_!=="19.1.0")throw Error(a(527,O_,"19.1.0"));de.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var cA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{ut=oh.inject(cA),Fe=oh}catch{}}return nu.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=Yy,d=Qy,E=Xy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=b_(t,1,!1,null,null,s,l,f,d,E,w,null),t[ge]=i.current,em(t),new vm(i)},nu.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=Yy,E=Qy,w=Xy,N=null,Q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(Q=s.formState)),i=b_(t,1,!0,i,s??null,l,f,d,E,w,N,Q),i.context=w_(null),s=i.current,l=Qn(),l=Vr(l),f=ia(l),f.callback=null,aa(s,f,l),s=l,i.current.lanes=s,Ar(i,s),Xr(i),t[ge]=i.current,em(t),new sh(i)},nu.version="19.1.0",nu}var H_;function _A(){if(H_)return Tm.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=vA(),Tm.exports}var EA=_A(),ru={},q_;function TA(){if(q_)return ru;q_=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.parse=h,ru.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,C){const x=new u,B=T.length;if(B<2)return x;const U=(C==null?void 0:C.decode)||v;let H=0;do{const Z=T.indexOf("=",H);if(Z===-1)break;const te=T.indexOf(";",H),fe=te===-1?B:te;if(Z>fe){H=T.lastIndexOf(";",Z-1)+1;continue}const se=m(T,H,Z),F=p(T,Z,se),P=T.slice(se,F);if(x[P]===void 0){let S=m(T,Z+1,fe),R=p(T,fe,S);const k=U(T.slice(S,R));x[P]=k}H=fe+1}while(H<B);return x}function m(T,C,x){do{const B=T.charCodeAt(C);if(B!==32&&B!==9)return C}while(++C<x);return x}function p(T,C,x){for(;C>x;){const B=T.charCodeAt(--C);if(B!==32&&B!==9)return C+1}return x}function g(T,C,x){const B=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const U=B(C);if(!e.test(U))throw new TypeError(`argument val is invalid: ${C}`);let H=T+"="+U;if(!x)return H;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);H+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);H+="; Domain="+x.domain}if(x.path){if(!a.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);H+="; Path="+x.path}if(x.expires){if(!b(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);H+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(H+="; HttpOnly"),x.secure&&(H+="; Secure"),x.partitioned&&(H+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return H}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return o.call(T)==="[object Date]"}return ru}TA();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HE=r=>{throw TypeError(r)},bA=(r,e,n)=>e.has(r)||HE("Cannot "+n),Sm=(r,e,n)=>(bA(r,e,"read from private field"),n?n.call(r):e.get(r)),wA=(r,e,n)=>e.has(r)?HE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),F_="popstate";function AA(r={}){function e(a,o){let{pathname:u,search:h,hash:m}=a.location;return Eu("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Va(o)}return RA(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ht(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SA(){return Math.random().toString(36).substring(2,10)}function G_(r,e){return{usr:r.state,key:r.key,idx:e}}function Eu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Fa(e):e,state:n,key:e&&e.key||a||SA()}}function Va({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Fa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function RA(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function b(){m="POP";let U=v(),H=U==null?null:U-g;g=U,p&&p({action:m,location:B.location,delta:H})}function T(U,H){m="PUSH";let Z=Eu(B.location,U,H);g=v()+1;let te=G_(Z,g),fe=B.createHref(Z);try{h.pushState(te,"",fe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(fe)}u&&p&&p({action:m,location:B.location,delta:1})}function C(U,H){m="REPLACE";let Z=Eu(B.location,U,H);g=v();let te=G_(Z,g),fe=B.createHref(Z);h.replaceState(te,"",fe),u&&p&&p({action:m,location:B.location,delta:0})}function x(U){return qE(U)}let B={get action(){return m},get location(){return r(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(F_,b),p=U,()=>{o.removeEventListener(F_,b),p=null}},createHref(U){return e(o,U)},createURL:x,encodeLocation(U){let H=x(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:C,go(U){return h.go(U)}};return B}function qE(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Va(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var ou,$_=class{constructor(r){if(wA(this,ou,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Sm(this,ou).has(r))return Sm(this,ou).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Sm(this,ou).set(r,e)}};ou=new WeakMap;var CA=new Set(["lazy","caseSensitive","path","id","index","children"]);function IA(r){return CA.has(r)}var DA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function NA(r){return DA.has(r)}function xA(r){return r.index===!0}function Ih(r,e,n=[],a={}){return r.map((o,u)=>{let h=[...n,String(u)],m=typeof o.id=="string"?o.id:h.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),xA(o)){let p={...o,...e(o),id:m};return a[m]=p,p}else{let p={...o,...e(o),id:m,children:void 0};return a[m]=p,o.children&&(p.children=Ih(o.children,e,h,a)),p}})}function Sa(r,e,n="/"){return gh(r,e,n,!1)}function gh(r,e,n,a){let o=typeof e=="string"?Fa(e):e,u=br(o.pathname||"/",n);if(u==null)return null;let h=FE(r);MA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=FA(u);m=HA(h[p],g,a)}return m}function OA(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function FE(r,e=[],n=[],a=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Jr([a,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FE(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:jA(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of GE(u.path))o(u,h,p)}),e}function GE(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=GE(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function MA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:zA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var PA=/^:[\w-]+$/,kA=3,VA=2,LA=1,UA=10,BA=-2,K_=r=>r==="*";function jA(r,e){let n=r.split("/"),a=n.length;return n.some(K_)&&(a+=BA),e&&(a+=VA),n.filter(o=>!K_(o)).reduce((o,u)=>o+(PA.test(u)?kA:u===""?LA:UA),a)}function zA(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function HA(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!b&&g&&n&&!a[a.length-1].route.index&&(b=Dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Jr([u,b.pathname]),pathnameBase:KA(Jr([u,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(u=Jr([u,b.pathnameBase]))}return h}function Dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=qA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let x=m[T]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const C=m[T];return b&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function qA(r,e=!1,n=!0){Ht(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function FA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ht(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function br(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function GA(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Fa(r):r;return{pathname:n?n.startsWith("/")?n:$A(n,e):e,search:YA(a),hash:QA(o)}}function $A(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $E(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tp(r){let e=$E(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function bp(r,e,n,a=!1){let o;typeof r=="string"?o=Fa(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!a&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}m=b>=0?e[b]:"/"}let p=GA(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Jr=r=>r.join("/").replace(/\/\/+/g,"/"),KA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),YA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,QA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,XA=(r,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let a=new Headers(n.headers);return a.set("Location",r),new Response(null,{...n,headers:a})},Nh=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var KE=["POST","PUT","PATCH","DELETE"],WA=new Set(KE),ZA=["GET",...KE],JA=new Set(ZA),eS=new Set([301,302,303,307,308]),tS=new Set([307,308]),Cm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},iu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rS=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),YE="remix-router-transitions",QE=Symbol("ResetLoaderData");function iS(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||rS,u={},h=Ih(r.routes,o,void 0,u),m,p=r.basename||"/",g=r.dataStrategy||uS,v={unstable_middleware:!1,...r.future},b=null,T=new Set,C=null,x=null,B=null,U=r.hydrationData!=null,H=Sa(h,r.history.location,p),Z=!1,te=null,fe;if(H==null&&!r.patchRoutesOnNavigation){let M=Er(404,{pathname:r.history.location.pathname}),{matches:q,route:Y}=a0(h);fe=!0,H=q,te={[Y.id]:M}}else if(H&&!r.hydrationData&&Cn(H,h,r.history.location.pathname).active&&(H=null),H)if(H.some(M=>M.route.lazy))fe=!1;else if(!H.some(M=>M.route.loader))fe=!0;else{let M=r.hydrationData?r.hydrationData.loaderData:null,q=r.hydrationData?r.hydrationData.errors:null;if(q){let Y=H.findIndex(ae=>q[ae.route.id]!==void 0);fe=H.slice(0,Y+1).every(ae=>!Fm(ae.route,M,q))}else fe=H.every(Y=>!Fm(Y.route,M,q))}else{fe=!1,H=[];let M=Cn(null,h,r.history.location.pathname);M.active&&M.matches&&(Z=!0,H=M.matches)}let se,F={historyAction:r.history.action,location:r.history.location,matches:H,initialized:fe,navigation:Cm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||te,fetchers:new Map,blockers:new Map},P="POP",S=!1,R,k=!1,L=new Map,j=null,I=!1,He=!1,Qe=new Set,X=new Map,de=0,ve=-1,Ue=new Map,O=new Set,ie=new Map,pe=new Map,ue=new Set,we=new Map,ze,Re=null;function kt(){if(b=r.history.listen(({action:M,location:q,delta:Y})=>{if(ze){ze(),ze=void 0;return}Ht(we.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Xi({currentLocation:F.location,nextLocation:q,historyAction:M});if(ae&&Y!=null){let he=new Promise(ge=>{ze=ge});r.history.go(Y*-1),ar(ae,{state:"blocked",location:q,proceed(){ar(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),he.then(()=>r.history.go(Y))},reset(){let ge=new Map(F.blockers);ge.set(ae,iu),At({blockers:ge})}});return}return Sn(M,q)}),n){ES(e,L);let M=()=>TS(e,L);e.addEventListener("pagehide",M),j=()=>e.removeEventListener("pagehide",M)}return F.initialized||Sn("POP",F.location,{initialHydration:!0}),se}function gt(){b&&b(),j&&j(),T.clear(),R&&R.abort(),F.fetchers.forEach((M,q)=>Vt(q)),F.blockers.forEach((M,q)=>hi(q))}function nr(M){return T.add(M),()=>T.delete(M)}function At(M,q={}){F={...F,...M};let Y=[],ae=[];F.fetchers.forEach((he,ge)=>{he.state==="idle"&&(ue.has(ge)?Y.push(ge):ae.push(ge))}),ue.forEach(he=>{!F.fetchers.has(he)&&!X.has(he)&&Y.push(he)}),[...T].forEach(he=>he(F,{deletedFetchers:Y,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),Y.forEach(he=>Vt(he)),ae.forEach(he=>F.fetchers.delete(he))}function gn(M,q,{flushSync:Y}={}){var Ae,De;let ae=F.actionData!=null&&F.navigation.formMethod!=null&&Jn(F.navigation.formMethod)&&F.navigation.state==="loading"&&((Ae=M.state)==null?void 0:Ae._isRedirect)!==!0,he;q.actionData?Object.keys(q.actionData).length>0?he=q.actionData:he=null:ae?he=F.actionData:he=null;let ge=q.loaderData?r0(F.loaderData,q.loaderData,q.matches||[],q.errors):F.loaderData,Ce=F.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((be,Oe)=>Ce.set(Oe,iu)));let _e=S===!0||F.navigation.formMethod!=null&&Jn(F.navigation.formMethod)&&((De=M.state)==null?void 0:De._isRedirect)!==!0;m&&(h=m,m=void 0),I||P==="POP"||(P==="PUSH"?r.history.push(M,M.state):P==="REPLACE"&&r.history.replace(M,M.state));let Te;if(P==="POP"){let be=L.get(F.location.pathname);be&&be.has(M.pathname)?Te={currentLocation:F.location,nextLocation:M}:L.has(M.pathname)&&(Te={currentLocation:M,nextLocation:F.location})}else if(k){let be=L.get(F.location.pathname);be?be.add(M.pathname):(be=new Set([M.pathname]),L.set(F.location.pathname,be)),Te={currentLocation:F.location,nextLocation:M}}At({...q,actionData:he,loaderData:ge,historyAction:P,location:M,initialized:!0,navigation:Cm,revalidation:"idle",restoreScrollPosition:Wi(M,q.matches||F.matches),preventScrollReset:_e,blockers:Ce},{viewTransitionOpts:Te,flushSync:Y===!0}),P="POP",S=!1,k=!1,I=!1,He=!1,Re==null||Re.resolve(),Re=null}async function xr(M,q){if(typeof M=="number"){r.history.go(M);return}let Y=qm(F.location,F.matches,p,M,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:ae,submission:he,error:ge}=Y_(!1,Y,q),Ce=F.location,_e=Eu(F.location,ae,q&&q.state);_e={..._e,...r.history.encodeLocation(_e)};let Te=q&&q.replace!=null?q.replace:void 0,Ae="PUSH";Te===!0?Ae="REPLACE":Te===!1||he!=null&&Jn(he.formMethod)&&he.formAction===F.location.pathname+F.location.search&&(Ae="REPLACE");let De=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,be=(q&&q.flushSync)===!0,Oe=Xi({currentLocation:Ce,nextLocation:_e,historyAction:Ae});if(Oe){ar(Oe,{state:"blocked",location:_e,proceed(){ar(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),xr(M,q)},reset(){let Xe=new Map(F.blockers);Xe.set(Oe,iu),At({blockers:Xe})}});return}await Sn(Ae,_e,{submission:he,pendingError:ge,preventScrollReset:De,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:be})}function ui(){Re||(Re=bS()),Qi(),At({revalidation:"loading"});let M=Re.promise;return F.navigation.state==="submitting"?M:F.navigation.state==="idle"?(Sn(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),M):(Sn(P||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:k===!0}),M)}async function Sn(M,q,Y){R&&R.abort(),R=null,P=M,I=(Y&&Y.startUninterruptedRevalidation)===!0,Ar(F.location,F.matches),S=(Y&&Y.preventScrollReset)===!0,k=(Y&&Y.enableViewTransition)===!0;let ae=m||h,he=Y&&Y.overrideNavigation,ge=Y!=null&&Y.initialHydration&&F.matches&&F.matches.length>0&&!Z?F.matches:Sa(ae,q,p),Ce=(Y&&Y.flushSync)===!0;if(ge&&F.initialized&&!He&&pS(F.location,q)&&!(Y&&Y.submission&&Jn(Y.submission.formMethod))){gn(q,{matches:ge},{flushSync:Ce});return}let _e=Cn(ge,ae,q.pathname);if(_e.active&&_e.matches&&(ge=_e.matches),!ge){let{error:ot,notFoundMatches:nt,route:Ke}=fi(q.pathname);gn(q,{matches:nt,loaderData:{},errors:{[Ke.id]:ot}},{flushSync:Ce});return}R=new AbortController;let Te=xo(r.history,q,R.signal,Y&&Y.submission),Ae=new $_(r.unstable_getContext?await r.unstable_getContext():void 0),De;if(Y&&Y.pendingError)De=[As(ge).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Jn(Y.submission.formMethod)){let ot=await Ya(Te,q,Y.submission,ge,Ae,_e.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:Ce});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[nt,Ke]=ot.pendingActionResult;if(Zn(Ke)&&Tu(Ke.error)&&Ke.error.status===404){R=null,gn(q,{matches:ot.matches,loaderData:{},errors:{[nt]:Ke.error}});return}}ge=ot.matches||ge,De=ot.pendingActionResult,he=Im(q,Y.submission),Ce=!1,_e.active=!1,Te=xo(r.history,Te.url,Te.signal)}let{shortCircuited:be,matches:Oe,loaderData:Xe,errors:ht}=await Hs(Te,q,ge,Ae,_e.active,he,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ce,De);be||(R=null,gn(q,{matches:Oe||ge,...i0(De),loaderData:Xe,errors:ht}))}async function Ya(M,q,Y,ae,he,ge,Ce,_e={}){Qi();let Te=vS(q,Y);if(At({navigation:Te},{flushSync:_e.flushSync===!0}),ge){let be=await kr(ae,q.pathname,M.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let Oe=As(be.partialMatches).route.id;return{matches:be.partialMatches,pendingActionResult:[Oe,{type:"error",error:be.error}]}}else if(be.matches)ae=be.matches;else{let{notFoundMatches:Oe,error:Xe,route:ht}=fi(q.pathname);return{matches:Oe,pendingActionResult:[ht.id,{type:"error",error:Xe}]}}}let Ae,De=lu(ae,q);if(!De.route.action&&!De.route.lazy)Ae={type:"error",error:Er(405,{method:M.method,pathname:q.pathname,routeId:De.route.id})};else{let be=Lo(o,u,M,ae,De,Ce?[]:a,he),Oe=await rr(M,be,he,null);if(Ae=Oe[De.route.id],!Ae){for(let Xe of ae)if(Oe[Xe.route.id]){Ae=Oe[Xe.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(Ss(Ae)){let be;return _e&&_e.replace!=null?be=_e.replace:be=e0(Ae.response.headers.get("Location"),new URL(M.url),p)===F.location.pathname+F.location.search,await wr(M,Ae,!0,{submission:Y,replace:be}),{shortCircuited:!0}}if(Zn(Ae)){let be=As(ae,De.route.id);return(_e&&_e.replace)!==!0&&(P="PUSH"),{matches:ae,pendingActionResult:[be.route.id,Ae,De.route.id]}}return{matches:ae,pendingActionResult:[De.route.id,Ae]}}async function Hs(M,q,Y,ae,he,ge,Ce,_e,Te,Ae,De,be){let Oe=ge||Im(q,Ce),Xe=Ce||_e||o0(Oe),ht=!I&&!Ae;if(he){if(ht){let Lt=Rn(be);At({navigation:Oe,...Lt!==void 0?{actionData:Lt}:{}},{flushSync:De})}let Le=await kr(Y,q.pathname,M.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let Lt=As(Le.partialMatches).route.id;return{matches:Le.partialMatches,loaderData:{},errors:{[Lt]:Le.error}}}else if(Le.matches)Y=Le.matches;else{let{error:Lt,notFoundMatches:Hn,route:Mn}=fi(q.pathname);return{matches:Hn,loaderData:{},errors:{[Mn.id]:Lt}}}}let ot=m||h,{dsMatches:nt,revalidatingFetchers:Ke}=Q_(M,ae,o,u,r.history,F,Y,Xe,q,Ae?[]:a,Ae===!0,He,Qe,ue,ie,O,ot,p,be);if(ve=++de,!r.dataStrategy&&!nt.some(Le=>Le.shouldLoad)&&Ke.length===0){let Le=Mr();return gn(q,{matches:Y,loaderData:{},errors:be&&Zn(be[1])?{[be[0]]:be[1].error}:null,...i0(be),...Le?{fetchers:new Map(F.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(ht){let Le={};if(!he){Le.navigation=Oe;let Lt=Rn(be);Lt!==void 0&&(Le.actionData=Lt)}Ke.length>0&&(Le.fetchers=rl(Ke)),At(Le,{flushSync:De})}Ke.forEach(Le=>{ir(Le.key),Le.controller&&X.set(Le.key,Le.controller)});let or=()=>Ke.forEach(Le=>ir(Le.key));R&&R.signal.addEventListener("abort",or);let{loaderResults:qt,fetcherResults:In}=await Yi(nt,Ke,M,ae);if(M.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",or),Ke.forEach(Le=>X.delete(Le.key));let an=lh(qt);if(an)return await wr(M,an.result,!0,{replace:Te}),{shortCircuited:!0};if(an=lh(In),an)return O.add(an.key),await wr(M,an.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:Lr,errors:zn}=n0(F,Y,qt,be,Ke,In);Ae&&F.errors&&(zn={...F.errors,...zn});let Ji=Mr(),vn=Pr(ve),Dn=Ji||vn||Ke.length>0;return{matches:Y,loaderData:Lr,errors:zn,...Dn?{fetchers:new Map(F.fetchers)}:{}}}function Rn(M){if(M&&!Zn(M[1]))return{[M[0]]:M[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function rl(M){return M.forEach(q=>{let Y=F.fetchers.get(q.key),ae=au(void 0,Y?Y.data:void 0);F.fetchers.set(q.key,ae)}),new Map(F.fetchers)}async function Qa(M,q,Y,ae){ir(M);let he=(ae&&ae.flushSync)===!0,ge=m||h,Ce=qm(F.location,F.matches,p,Y,q,ae==null?void 0:ae.relative),_e=Sa(ge,Ce,p),Te=Cn(_e,ge,Ce);if(Te.active&&Te.matches&&(_e=Te.matches),!_e){Fe(M,q,Er(404,{pathname:Ce}),{flushSync:he});return}let{path:Ae,submission:De,error:be}=Y_(!0,Ce,ae);if(be){Fe(M,q,be,{flushSync:he});return}let Oe=lu(_e,Ae),Xe=new $_(r.unstable_getContext?await r.unstable_getContext():void 0),ht=(ae&&ae.preventScrollReset)===!0;if(De&&Jn(De.formMethod)){await Ki(M,q,Ae,Oe,_e,Xe,Te.active,he,ht,De);return}ie.set(M,{routeId:q,path:Ae}),await ci(M,q,Ae,Oe,_e,Xe,Te.active,he,ht,De)}async function Ki(M,q,Y,ae,he,ge,Ce,_e,Te,Ae){Qi(),ie.delete(M);function De(Tt){if(!Tt.route.action&&!Tt.route.lazy){let lr=Er(405,{method:Ae.formMethod,pathname:Y,routeId:q});return Fe(M,q,lr,{flushSync:_e}),!0}return!1}if(!Ce&&De(ae))return;let be=F.fetchers.get(M);ut(M,_S(Ae,be),{flushSync:_e});let Oe=new AbortController,Xe=xo(r.history,Y,Oe.signal,Ae);if(Ce){let Tt=await kr(he,Y,Xe.signal,M);if(Tt.type==="aborted")return;if(Tt.type==="error"){Fe(M,q,Tt.error,{flushSync:_e});return}else if(Tt.matches){if(he=Tt.matches,ae=lu(he,Y),De(ae))return}else{Fe(M,q,Er(404,{pathname:Y}),{flushSync:_e});return}}X.set(M,Oe);let ht=de,ot=Lo(o,u,Xe,he,ae,a,ge),Ke=(await rr(Xe,ot,ge,M))[ae.route.id];if(Xe.signal.aborted){X.get(M)===Oe&&X.delete(M);return}if(ue.has(M)){if(Ss(Ke)||Zn(Ke)){ut(M,Aa(void 0));return}}else{if(Ss(Ke))if(X.delete(M),ve>ht){ut(M,Aa(void 0));return}else return O.add(M),ut(M,au(Ae)),wr(Xe,Ke,!1,{fetcherSubmission:Ae,preventScrollReset:Te});if(Zn(Ke)){Fe(M,q,Ke.error);return}}let or=F.navigation.location||F.location,qt=xo(r.history,or,Oe.signal),In=m||h,an=F.navigation.state!=="idle"?Sa(In,F.navigation.location,p):F.matches;Je(an,"Didn't find any matches after fetcher action");let Lr=++de;Ue.set(M,Lr);let zn=au(Ae,Ke.data);F.fetchers.set(M,zn);let{dsMatches:Ji,revalidatingFetchers:vn}=Q_(qt,ge,o,u,r.history,F,an,Ae,or,a,!1,He,Qe,ue,ie,O,In,p,[ae.route.id,Ke]);vn.filter(Tt=>Tt.key!==M).forEach(Tt=>{let lr=Tt.key,di=F.fetchers.get(lr),sn=au(void 0,di?di.data:void 0);F.fetchers.set(lr,sn),ir(lr),Tt.controller&&X.set(lr,Tt.controller)}),At({fetchers:new Map(F.fetchers)});let Dn=()=>vn.forEach(Tt=>ir(Tt.key));Oe.signal.addEventListener("abort",Dn);let{loaderResults:Le,fetcherResults:Lt}=await Yi(Ji,vn,qt,ge);if(Oe.signal.aborted)return;if(Oe.signal.removeEventListener("abort",Dn),Ue.delete(M),X.delete(M),vn.forEach(Tt=>X.delete(Tt.key)),F.fetchers.has(M)){let Tt=Aa(Ke.data);F.fetchers.set(M,Tt)}let Hn=lh(Le);if(Hn)return wr(qt,Hn.result,!1,{preventScrollReset:Te});if(Hn=lh(Lt),Hn)return O.add(Hn.key),wr(qt,Hn.result,!1,{preventScrollReset:Te});let{loaderData:Mn,errors:Ur}=n0(F,an,Le,void 0,vn,Lt);Pr(Lr),F.navigation.state==="loading"&&Lr>ve?(Je(P,"Expected pending action"),R&&R.abort(),gn(F.navigation.location,{matches:an,loaderData:Mn,errors:Ur,fetchers:new Map(F.fetchers)})):(At({errors:Ur,loaderData:r0(F.loaderData,Mn,an,Ur),fetchers:new Map(F.fetchers)}),He=!1)}async function ci(M,q,Y,ae,he,ge,Ce,_e,Te,Ae){let De=F.fetchers.get(M);ut(M,au(Ae,De?De.data:void 0),{flushSync:_e});let be=new AbortController,Oe=xo(r.history,Y,be.signal);if(Ce){let Ke=await kr(he,Y,Oe.signal,M);if(Ke.type==="aborted")return;if(Ke.type==="error"){Fe(M,q,Ke.error,{flushSync:_e});return}else if(Ke.matches)he=Ke.matches,ae=lu(he,Y);else{Fe(M,q,Er(404,{pathname:Y}),{flushSync:_e});return}}X.set(M,be);let Xe=de,ht=Lo(o,u,Oe,he,ae,a,ge),nt=(await rr(Oe,ht,ge,M))[ae.route.id];if(X.get(M)===be&&X.delete(M),!Oe.signal.aborted){if(ue.has(M)){ut(M,Aa(void 0));return}if(Ss(nt))if(ve>Xe){ut(M,Aa(void 0));return}else{O.add(M),await wr(Oe,nt,!1,{preventScrollReset:Te});return}if(Zn(nt)){Fe(M,q,nt.error);return}ut(M,Aa(nt.data))}}async function wr(M,q,Y,{submission:ae,fetcherSubmission:he,preventScrollReset:ge,replace:Ce}={}){q.response.headers.has("X-Remix-Revalidate")&&(He=!0);let _e=q.response.headers.get("Location");Je(_e,"Expected a Location header on the redirect Response"),_e=e0(_e,new URL(M.url),p);let Te=Eu(F.location,_e,{_isRedirect:!0});if(n){let ht=!1;if(q.response.headers.has("X-Remix-Reload-Document"))ht=!0;else if(wp.test(_e)){const ot=qE(_e,!0);ht=ot.origin!==e.location.origin||br(ot.pathname,p)==null}if(ht){Ce?e.location.replace(_e):e.location.assign(_e);return}}R=null;let Ae=Ce===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:be,formEncType:Oe}=F.navigation;!ae&&!he&&De&&be&&Oe&&(ae=o0(F.navigation));let Xe=ae||he;if(tS.has(q.response.status)&&Xe&&Jn(Xe.formMethod))await Sn(Ae,Te,{submission:{...Xe,formAction:_e},preventScrollReset:ge||S,enableViewTransition:Y?k:void 0});else{let ht=Im(Te,ae);await Sn(Ae,Te,{overrideNavigation:ht,fetcherSubmission:he,preventScrollReset:ge||S,enableViewTransition:Y?k:void 0})}}async function rr(M,q,Y,ae){let he,ge={};try{he=await cS(g,M,q,ae,Y,!1)}catch(Ce){return q.filter(_e=>_e.shouldLoad).forEach(_e=>{ge[_e.route.id]={type:"error",error:Ce}}),ge}if(M.signal.aborted)return ge;for(let[Ce,_e]of Object.entries(he))if(gS(_e)){let Te=_e.result;ge[Ce]={type:"redirect",response:dS(Te,M,Ce,q,p)}}else ge[Ce]=await fS(_e);return ge}async function Yi(M,q,Y,ae){let he=rr(Y,M,ae,null),ge=Promise.all(q.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let De=(await rr(Te.request,Te.matches,ae,Te.key))[Te.match.route.id];return{[Te.key]:De}}else return Promise.resolve({[Te.key]:{type:"error",error:Er(404,{pathname:Te.path})}})})),Ce=await he,_e=(await ge).reduce((Te,Ae)=>Object.assign(Te,Ae),{});return{loaderResults:Ce,fetcherResults:_e}}function Qi(){He=!0,ie.forEach((M,q)=>{X.has(q)&&Qe.add(q),ir(q)})}function ut(M,q,Y={}){F.fetchers.set(M,q),At({fetchers:new Map(F.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Fe(M,q,Y,ae={}){let he=As(F.matches,q);Vt(M),At({errors:{[he.route.id]:Y},fetchers:new Map(F.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function yn(M){return pe.set(M,(pe.get(M)||0)+1),ue.has(M)&&ue.delete(M),F.fetchers.get(M)||nS}function Vt(M){let q=F.fetchers.get(M);X.has(M)&&!(q&&q.state==="loading"&&Ue.has(M))&&ir(M),ie.delete(M),Ue.delete(M),O.delete(M),ue.delete(M),Qe.delete(M),F.fetchers.delete(M)}function qs(M){let q=(pe.get(M)||0)-1;q<=0?(pe.delete(M),ue.add(M)):pe.set(M,q),At({fetchers:new Map(F.fetchers)})}function ir(M){let q=X.get(M);q&&(q.abort(),X.delete(M))}function Or(M){for(let q of M){let Y=yn(q),ae=Aa(Y.data);F.fetchers.set(q,ae)}}function Mr(){let M=[],q=!1;for(let Y of O){let ae=F.fetchers.get(Y);Je(ae,`Expected fetcher: ${Y}`),ae.state==="loading"&&(O.delete(Y),M.push(Y),q=!0)}return Or(M),q}function Pr(M){let q=[];for(let[Y,ae]of Ue)if(ae<M){let he=F.fetchers.get(Y);Je(he,`Expected fetcher: ${Y}`),he.state==="loading"&&(ir(Y),Ue.delete(Y),q.push(Y))}return Or(q),q.length>0}function jn(M,q){let Y=F.blockers.get(M)||iu;return we.get(M)!==q&&we.set(M,q),Y}function hi(M){F.blockers.delete(M),we.delete(M)}function ar(M,q){let Y=F.blockers.get(M)||iu;Je(Y.state==="unblocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="proceeding"||Y.state==="blocked"&&q.state==="unblocked"||Y.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${q.state}`);let ae=new Map(F.blockers);ae.set(M,q),At({blockers:ae})}function Xi({currentLocation:M,nextLocation:q,historyAction:Y}){if(we.size===0)return;we.size>1&&Ht(!1,"A router only supports one blocker at a time");let ae=Array.from(we.entries()),[he,ge]=ae[ae.length-1],Ce=F.blockers.get(he);if(!(Ce&&Ce.state==="proceeding")&&ge({currentLocation:M,nextLocation:q,historyAction:Y}))return he}function fi(M){let q=Er(404,{pathname:M}),Y=m||h,{matches:ae,route:he}=a0(Y);return{notFoundMatches:ae,route:he,error:q}}function Xa(M,q,Y){if(C=M,B=q,x=Y||null,!U&&F.navigation===Cm){U=!0;let ae=Wi(F.location,F.matches);ae!=null&&At({restoreScrollPosition:ae})}return()=>{C=null,B=null,x=null}}function sr(M,q){return x&&x(M,q.map(ae=>OA(ae,F.loaderData)))||M.key}function Ar(M,q){if(C&&B){let Y=sr(M,q);C[Y]=B()}}function Wi(M,q){if(C){let Y=sr(M,q),ae=C[Y];if(typeof ae=="number")return ae}return null}function Cn(M,q,Y){if(r.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:gh(q,Y,p,!0)}}else return{active:!0,matches:gh(q,Y,p,!0)||[]};return{active:!1,matches:null}}async function kr(M,q,Y,ae){if(!r.patchRoutesOnNavigation)return{type:"success",matches:M};let he=M;for(;;){let ge=m==null,Ce=m||h,_e=u;try{await r.patchRoutesOnNavigation({signal:Y,path:q,matches:he,fetcherKey:ae,patch:(De,be)=>{Y.aborted||X_(De,be,Ce,_e,o)}})}catch(De){return{type:"error",error:De,partialMatches:he}}finally{ge&&!Y.aborted&&(h=[...h])}if(Y.aborted)return{type:"aborted"};let Te=Sa(Ce,q,p);if(Te)return{type:"success",matches:Te};let Ae=gh(Ce,q,p,!0);if(!Ae||he.length===Ae.length&&he.every((De,be)=>De.route.id===Ae[be].route.id))return{type:"success",matches:null};he=Ae}}function Vr(M){u={},m=Ih(M,o,void 0,u)}function Zi(M,q){let Y=m==null;X_(M,q,m||h,u,o),Y&&(h=[...h],At({}))}return se={get basename(){return p},get future(){return v},get state(){return F},get routes(){return h},get window(){return e},initialize:kt,subscribe:nr,enableScrollRestoration:Xa,navigate:xr,fetch:Qa,revalidate:ui,createHref:M=>r.history.createHref(M),encodeLocation:M=>r.history.encodeLocation(M),getFetcher:yn,deleteFetcher:qs,dispose:gt,getBlocker:jn,deleteBlocker:hi,patchRoutes:Zi,_internalFetchControllers:X,_internalSetRoutes:Vr},se}function aS(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function qm(r,e,n,a,o,u){let h,m;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){m=g;break}}else h=e,m=e[e.length-1];let p=bp(a||".",Tp(h),br(r.pathname,n)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=Ap(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let v=new URLSearchParams(p.search),b=v.getAll("index");v.delete("index"),b.filter(C=>C).forEach(C=>v.append("index",C));let T=v.toString();p.search=T?`?${T}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Jr([n,p.pathname])),Va(p)}function Y_(r,e,n){if(!n||!aS(n))return{path:e};if(n.formMethod&&!yS(n.formMethod))return{path:e,error:Er(405,{method:n.formMethod})};let a=()=>({path:e,error:Er(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=tT(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Jn(u))return a();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[C,x])=>`${T}${C}=${x}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!Jn(u))return a();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return a()}}}Je(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=$m(n.formData),p=n.formData;else if(n.body instanceof FormData)m=$m(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=t0(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=t0(m)}catch{return a()}let g={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Jn(g.formMethod))return{path:e,submission:g};let v=Fa(e);return r&&v.search&&Ap(v.search)&&m.append("index",""),v.search=`?${m}`,{path:Va(v),submission:g}}function Q_(r,e,n,a,o,u,h,m,p,g,v,b,T,C,x,B,U,H,Z){var j;let te=Z?Zn(Z[1])?Z[1].error:Z[1].data:void 0,fe=o.createURL(u.location),se=o.createURL(p),F;if(v&&u.errors){let I=Object.keys(u.errors)[0];F=h.findIndex(He=>He.route.id===I)}else if(Z&&Zn(Z[1])){let I=Z[0];F=h.findIndex(He=>He.route.id===I)-1}let P=Z?Z[1].statusCode:void 0,S=P&&P>=400,R={currentUrl:fe,currentParams:((j=u.matches[0])==null?void 0:j.params)||{},nextUrl:se,nextParams:h[0].params,...m,actionResult:te,actionStatus:P},k=h.map((I,He)=>{let{route:Qe}=I,X=null;if(F!=null&&He>F?X=!1:Qe.lazy?X=!0:Qe.loader==null?X=!1:v?X=Fm(Qe,u.loaderData,u.errors):sS(u.loaderData,u.matches[He],I)&&(X=!0),X!==null)return Gm(n,a,r,I,g,e,X);let de=S?!1:b||fe.pathname+fe.search===se.pathname+se.search||fe.search!==se.search||oS(u.matches[He],I),ve={...R,defaultShouldRevalidate:de},Ue=xh(I,ve);return Gm(n,a,r,I,g,e,Ue,ve)}),L=[];return x.forEach((I,He)=>{if(v||!h.some(ie=>ie.route.id===I.routeId)||C.has(He))return;let Qe=Sa(U,I.path,H);if(!Qe){L.push({key:He,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(B.has(He))return;let X=u.fetchers.get(He),de=lu(Qe,I.path),ve=new AbortController,Ue=xo(o,I.path,ve.signal),O=null;if(T.has(He))T.delete(He),O=Lo(n,a,Ue,Qe,de,g,e);else if(X&&X.state!=="idle"&&X.data===void 0)b&&(O=Lo(n,a,Ue,Qe,de,g,e));else{let ie={...R,defaultShouldRevalidate:S?!1:b};xh(de,ie)&&(O=Lo(n,a,Ue,Qe,de,g,e,ie))}O&&L.push({key:He,routeId:I.routeId,path:I.path,matches:O,match:de,request:Ue,controller:ve})}),{dsMatches:k,revalidatingFetchers:L}}function Fm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function sS(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function oS(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function xh(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function X_(r,e,n,a,o){let u;if(r){let p=a[r];Je(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),u=p.children}else u=n;let h=e.filter(p=>!u.some(g=>XE(p,g))),m=Ih(h,o,[r||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...m)}function XE(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>XE(n,u))}):!1}var W_=new WeakMap,WE=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Je(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let h=W_.get(o);h||(h={},W_.set(o,h));let m=h[r];if(m)return m;let p=(async()=>{let g=IA(r),b=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Ht(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),h[r]=Promise.resolve();else if(b)Ht(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let T=await u();T!=null&&(Object.assign(o,{[r]:T}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(T=>T===void 0)&&(o.lazy=void 0))})();return h[r]=p,p},Z_=new WeakMap;function lS(r,e,n,a,o){let u=n[r.id];if(Je(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=Z_.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let b=(async()=>{Je(typeof r.lazy=="function","No lazy route function found");let T=await r.lazy(),C={};for(let x in T){let B=T[x];if(B===void 0)continue;let U=NA(x),Z=u[x]!==void 0&&x!=="hasErrorBoundary";U?Ht(!U,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Z?Ht(!Z,`Route "${u.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):C[x]=B}Object.assign(u,C),Object.assign(u,{...a(u),lazy:void 0})})();return Z_.set(u,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let h=Object.keys(r.lazy),m=[],p;for(let v of h){if(o&&o.includes(v))continue;let b=WE({key:v,route:r,manifest:n,mapRouteProperties:a});b&&(m.push(b),v===e&&(p=b))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function J_(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function uS(r){return r.matches.some(e=>e.route.unstable_middleware)?ZE(r,!1,()=>J_(r),(e,n)=>({[n]:{type:"error",result:e}})):J_(r)}async function ZE(r,e,n,a){let{matches:o,request:u,params:h,context:m}=r,p={handlerResult:void 0};try{let g=o.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(T=>[b.route.id,T]):[]),v=await JE({request:u,params:h,context:m},g,e,p,n);return e?v:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let v=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,v):v}}async function JE(r,e,n,a,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[p,g]=m,v=!1,b,T=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await JE(r,e,n,a,o,u+1)};try{let C=await g({request:r.request,params:r.params,context:r.context},T);return v?C===void 0?b:C:T()}catch(C){throw a.middlewareError?a.middlewareError.error!==C&&(a.middlewareError={routeId:p,error:C}):a.middlewareError={routeId:p,error:C},C}}function eT(r,e,n,a,o){let u=WE({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),h=lS(a.route,Jn(n.method)?"action":"loader",e,r,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function Gm(r,e,n,a,o,u,h,m=null){let p=!1,g=eT(r,e,n,a,o);return{...a,_lazyPromises:g,shouldLoad:h,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(v){return p=!0,m?typeof v=="boolean"?xh(a,{...m,defaultShouldRevalidate:v}):xh(a,m):h},resolve(v){return p||h||v&&n.method==="GET"&&(a.route.lazy||a.route.loader)?hS({request:n,match:a,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Lo(r,e,n,a,o,u,h,m=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:eT(r,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Gm(r,e,n,p,u,h,!0,m))}async function cS(r,e,n,a,o,u){n.some(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(n.map(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware}));let h={request:e,params:n[0].params,context:o,matches:n},p=await r({...h,fetcherKey:a,unstable_runClientMiddleware:g=>{let v=h;return ZE(v,!1,()=>g({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,T)=>({[T]:{type:"error",result:b}}))}});try{await Promise.all(n.flatMap(g=>{var v,b;return[(v=g._lazyPromises)==null?void 0:v.handler,(b=g._lazyPromises)==null?void 0:b.route]}))}catch{}return p}async function hS({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let h,m,p=Jn(r.method),g=p?"action":"loader",v=b=>{let T,C=new Promise((U,H)=>T=H);m=()=>T(),r.signal.addEventListener("abort",m);let x=U=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):b({request:r,params:e.params,context:u},...U!==void 0?[U]:[]),B=(async()=>{try{return{type:"data",result:await(o?o(H=>x(H)):x())}}catch(U){return{type:"error",result:U}}})();return Promise.race([B,C])};try{let b=p?e.route.action:e.route.loader;if(n||a)if(b){let T,[C]=await Promise.all([v(b).catch(x=>{T=x}),n,a]);if(T!==void 0)throw T;h=C}else{await n;let T=p?e.route.action:e.route.loader;if(T)[h]=await Promise.all([v(T),a]);else if(g==="action"){let C=new URL(r.url),x=C.pathname+C.search;throw Er(405,{method:r.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)h=await v(b);else{let T=new URL(r.url),C=T.pathname+T.search;throw Er(404,{pathname:C})}}catch(b){return{type:"error",result:b}}finally{m&&r.signal.removeEventListener("abort",m)}return h}async function fS(r){var a,o,u,h,m,p;let{result:e,type:n}=r;if(nT(e)){let g;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(v){return{type:"error",error:v}}return n==="error"?{type:"error",error:new Nh(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?s0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Nh(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Tu(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Tu(e)?e.status:void 0}:s0(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function dS(r,e,n,a,o){let u=r.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!wp.test(u)){let h=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=qm(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function e0(r,e,n){if(wp.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=br(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function xo(r,e,n,a){let o=r.createURL(tT(e)).toString(),u={signal:n};if(a&&Jn(a.formMethod)){let{formMethod:h,formEncType:m}=a;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=$m(a.formData):u.body=a.formData}return new Request(o,u)}function $m(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function t0(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function mS(r,e,n,a=!1,o=!1){let u={},h=null,m,p=!1,g={},v=n&&Zn(n[1])?n[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in e))return;let T=b.route.id,C=e[T];if(Je(!Ss(C),"Cannot handle redirect results in processLoaderData"),Zn(C)){let x=C.error;if(v!==void 0&&(x=v,v=void 0),h=h||{},o)h[T]=x;else{let B=As(r,T);h[B.route.id]==null&&(h[B.route.id]=x)}a||(u[T]=QE),p||(p=!0,m=Tu(C.error)?C.error.status:500),C.headers&&(g[T]=C.headers)}else u[T]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(m=C.statusCode),C.headers&&(g[T]=C.headers)}),v!==void 0&&n&&(h={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:g}}function n0(r,e,n,a,o,u){let{loaderData:h,errors:m}=mS(e,n,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:b}=p,T=u[g];if(Je(T,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Zn(T)){let C=As(r.matches,v==null?void 0:v.route.id);m&&m[C.route.id]||(m={...m,[C.route.id]:T.error}),r.fetchers.delete(g)}else if(Ss(T))Je(!1,"Unhandled fetcher revalidation redirect");else{let C=Aa(T.data);r.fetchers.set(g,C)}}),{loaderData:h,errors:m}}function r0(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==QE).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function i0(r){return r?Zn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function As(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function a0(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Er(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(h="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",m=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Nh(r||500,h,new Error(m),!0)}function lh(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(Ss(o))return{key:a,result:o}}}function tT(r){let e=typeof r=="string"?Fa(r):r;return Va({...e,hash:""})}function pS(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function gS(r){return nT(r.result)&&eS.has(r.result.status)}function Zn(r){return r.type==="error"}function Ss(r){return(r&&r.type)==="redirect"}function s0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function nT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function yS(r){return JA.has(r.toUpperCase())}function Jn(r){return WA.has(r.toUpperCase())}function Ap(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function lu(r,e){let n=typeof e=="string"?Fa(e).search:e.search;if(r[r.length-1].route.index&&Ap(n||""))return r[r.length-1];let a=$E(r);return a[a.length-1]}function o0(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:h,text:void 0}}}function Im(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vS(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function au(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _S(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Aa(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function ES(r,e){try{let n=r.sessionStorage.getItem(YE);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function TS(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(YE,JSON.stringify(n))}catch(a){Ht(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function bS(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ls=$.createContext(null);Ls.displayName="DataRouter";var Mu=$.createContext(null);Mu.displayName="DataRouterState";var Sp=$.createContext({isTransitioning:!1});Sp.displayName="ViewTransition";var rT=$.createContext(new Map);rT.displayName="Fetchers";var wS=$.createContext(null);wS.displayName="Await";var oi=$.createContext(null);oi.displayName="Navigation";var Jh=$.createContext(null);Jh.displayName="Location";var li=$.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Rp=$.createContext(null);Rp.displayName="RouteError";function AS(r,{relative:e}={}){Je(Pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=$.useContext(oi),{hash:o,pathname:u,search:h}=ku(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Jr([n,u])),a.createHref({pathname:m,search:h,hash:o})}function Pu(){return $.useContext(Jh)!=null}function Us(){return Je(Pu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Jh).location}var iT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aT(r){$.useContext(oi).static||$.useLayoutEffect(r)}function Ga(){let{isDataRoute:r}=$.useContext(li);return r?BS():SS()}function SS(){Je(Pu(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(Ls),{basename:e,navigator:n}=$.useContext(oi),{matches:a}=$.useContext(li),{pathname:o}=Us(),u=JSON.stringify(Tp(a)),h=$.useRef(!1);return aT(()=>{h.current=!0}),$.useCallback((p,g={})=>{if(Ht(h.current,iT),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=bp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Jr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}var sT=$.createContext(null);function Xo(){return $.useContext(sT)}function RS(r){let e=$.useContext(li).outlet;return e&&$.createElement(sT.Provider,{value:r},e)}function ku(r,{relative:e}={}){let{matches:n}=$.useContext(li),{pathname:a}=Us(),o=JSON.stringify(Tp(n));return $.useMemo(()=>bp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function CS(r,e,n,a){Je(Pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=$.useContext(oi),{matches:h}=$.useContext(li),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let Z=b&&b.path||"";oT(g,!b||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let T=Us(),C;C=T;let x=C.pathname||"/",B=x;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");B="/"+x.replace(/^\//,"").split("/").slice(Z.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:Sa(r,{pathname:B});return Ht(b||U!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Ht(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),OS(U&&U.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Jr([v,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:Jr([v,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),h,n,a)}function IS(){let r=US(),e=Tu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:o},n):null,h)}var DS=$.createElement(IS,null),NS=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?$.createElement(li.Provider,{value:this.props.routeContext},$.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xS({routeContext:r,match:e,children:n}){let a=$.useContext(Ls);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(li.Provider,{value:r},n)}function OS(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:b}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let b,T=!1,C=null,x=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||DS,h&&(m<0&&v===0?(oT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):m===v&&(T=!0,x=g.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,v+1)),U=()=>{let H;return b?H=C:T?H=x:g.route.Component?H=$.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,$.createElement(xS,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:n!=null},children:H})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?$.createElement(NS,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:U(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):U()},null)}function Cp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(r){let e=$.useContext(Ls);return Je(e,Cp(r)),e}function Ip(r){let e=$.useContext(Mu);return Je(e,Cp(r)),e}function PS(r){let e=$.useContext(li);return Je(e,Cp(r)),e}function ef(r){let e=PS(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function kS(){return ef("useRouteId")}function VS(){return Ip("useNavigation").navigation}function LS(){let r=Ip("useActionData"),e=ef("useLoaderData");return r.actionData?r.actionData[e]:void 0}function US(){var a;let r=$.useContext(Rp),e=Ip("useRouteError"),n=ef("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function BS(){let{router:r}=MS("useNavigate"),e=ef("useNavigate"),n=$.useRef(!1);return aT(()=>{n.current=!0}),$.useCallback(async(o,u={})=>{Ht(n.current,iT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var l0={};function oT(r,e,n){!e&&!l0[r]&&(l0[r]=!0,Ht(!1,n))}var u0={};function c0(r,e){!r&&!u0[e]&&(u0[e]=!0,console.warn(e))}function jS(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Ht(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Ht(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Ht(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var zS=["HydrateFallback","hydrateFallbackElement"],HS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function qS({router:r,flushSync:e}){let[n,a]=$.useState(r.state),[o,u]=$.useState(),[h,m]=$.useState({isTransitioning:!1}),[p,g]=$.useState(),[v,b]=$.useState(),[T,C]=$.useState(),x=$.useRef(new Map),B=$.useCallback((te,{deletedFetchers:fe,flushSync:se,viewTransitionOpts:F})=>{te.fetchers.forEach((S,R)=>{S.data!==void 0&&x.current.set(R,S.data)}),fe.forEach(S=>x.current.delete(S)),c0(se===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(c0(F==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!P){e&&se?e(()=>a(te)):$.startTransition(()=>a(te));return}if(e&&se){e(()=>{v&&(p&&p.resolve(),v.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let S=r.window.document.startViewTransition(()=>{e(()=>a(te))});S.finished.finally(()=>{e(()=>{g(void 0),b(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>b(S));return}v?(p&&p.resolve(),v.skipTransition(),C({state:te,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(te),m({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[r.window,e,v,p]);$.useLayoutEffect(()=>r.subscribe(B),[r,B]),$.useEffect(()=>{h.isTransitioning&&!h.flushSync&&g(new HS)},[h]),$.useEffect(()=>{if(p&&o&&r.window){let te=o,fe=p.promise,se=r.window.document.startViewTransition(async()=>{$.startTransition(()=>a(te)),await fe});se.finished.finally(()=>{g(void 0),b(void 0),u(void 0),m({isTransitioning:!1})}),b(se)}},[o,p,r.window]),$.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,v,n.location,o]),$.useEffect(()=>{!h.isTransitioning&&T&&(u(T.state),m({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),C(void 0))},[h.isTransitioning,T]);let U=$.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:te=>r.navigate(te),push:(te,fe,se)=>r.navigate(te,{state:fe,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(te,fe,se)=>r.navigate(te,{replace:!0,state:fe,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[r]),H=r.basename||"/",Z=$.useMemo(()=>({router:r,navigator:U,static:!1,basename:H}),[r,U,H]);return $.createElement($.Fragment,null,$.createElement(Ls.Provider,{value:Z},$.createElement(Mu.Provider,{value:n},$.createElement(rT.Provider,{value:x.current},$.createElement(Sp.Provider,{value:h},$.createElement($S,{basename:H,location:n.location,navigationType:n.historyAction,navigator:U},$.createElement(FS,{routes:r.routes,future:r.future,state:n})))))),null)}var FS=$.memo(GS);function GS({routes:r,future:e,state:n}){return CS(r,void 0,n,e)}function Oh(r){return RS(r.context)}function $S({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Je(!Pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Fa(n));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:T="default"}=n,C=$.useMemo(()=>{let x=br(p,h);return x==null?null:{location:{pathname:x,search:g,hash:v,state:b,key:T},navigationType:a}},[h,p,g,v,b,T,a]);return Ht(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:$.createElement(oi.Provider,{value:m},$.createElement(Jh.Provider,{children:e,value:C}))}var yh="get",vh="application/x-www-form-urlencoded";function tf(r){return r!=null&&typeof r.tagName=="string"}function KS(r){return tf(r)&&r.tagName.toLowerCase()==="button"}function YS(r){return tf(r)&&r.tagName.toLowerCase()==="form"}function QS(r){return tf(r)&&r.tagName.toLowerCase()==="input"}function XS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function WS(r,e){return r.button===0&&(!e||e==="_self")&&!XS(r)}var uh=null;function ZS(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var JS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(r){return r!=null&&!JS.has(r)?(Ht(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):r}function eR(r,e){let n,a,o,u,h;if(YS(r)){let m=r.getAttribute("action");a=m?br(m,e):null,n=r.getAttribute("method")||yh,o=Dm(r.getAttribute("enctype"))||vh,u=new FormData(r)}else if(KS(r)||QS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?br(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||yh,o=Dm(r.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||vh,u=new FormData(m,r),!ZS()){let{name:g,type:v,value:b}=r;if(v==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,b)}}else{if(tf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yh,a=null,o=vh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Dp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function tR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rR(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await tR(u,n);return h.links?h.links():[]}return[]}));return oR(a.flat(1).filter(nR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h0(r,e,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function iR(r,e,{includeHydrateFallback:n}={}){return aR(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function aR(r){return[...new Set(r)]}function sR(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function oR(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(sR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lR=new Set([100,101,204,205]);function uR(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&br(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function lT(){let r=$.useContext(Ls);return Dp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cR(){let r=$.useContext(Mu);return Dp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Np=$.createContext(void 0);Np.displayName="FrameworkContext";function uT(){let r=$.useContext(Np);return Dp(r,"You must render this element inside a <HydratedRouter> element"),r}function hR(r,e){let n=$.useContext(Np),[a,o]=$.useState(!1),[u,h]=$.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=$.useRef(null);$.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let B=H=>{H.forEach(Z=>{h(Z.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[r]),$.useEffect(()=>{if(a){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[a]);let C=()=>{o(!0)},x=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,T,{}]:[u,T,{onFocus:su(m,C),onBlur:su(p,x),onMouseEnter:su(g,C),onMouseLeave:su(v,x),onTouchStart:su(b,C)}]:[!1,T,{}]}function su(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function fR({page:r,...e}){let{router:n}=lT(),a=$.useMemo(()=>Sa(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?$.createElement(mR,{page:r,matches:a,...e}):null}function dR(r){let{manifest:e,routeModules:n}=uT(),[a,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return rR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function mR({page:r,matches:e,...n}){let a=Us(),{manifest:o,routeModules:u}=uT(),{basename:h}=lT(),{loaderData:m,matches:p}=cR(),g=$.useMemo(()=>h0(r,e,p,o,a,"data"),[r,e,p,o,a]),v=$.useMemo(()=>h0(r,e,p,o,a,"assets"),[r,e,p,o,a]),b=$.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let x=new Set,B=!1;if(e.forEach(H=>{var te;let Z=o.routes[H.route.id];!Z||!Z.hasLoader||(!g.some(fe=>fe.route.id===H.route.id)&&H.route.id in m&&((te=u[H.route.id])!=null&&te.shouldRevalidate)||Z.hasClientLoader?B=!0:x.add(H.route.id))}),x.size===0)return[];let U=uR(r,h);return B&&x.size>0&&U.searchParams.set("_routes",e.filter(H=>x.has(H.route.id)).map(H=>H.route.id).join(",")),[U.pathname+U.search]},[h,m,a,o,g,e,r,u]),T=$.useMemo(()=>iR(v,o),[v,o]),C=dR(v);return $.createElement($.Fragment,null,b.map(x=>$.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),T.map(x=>$.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),C.map(({key:x,link:B})=>$.createElement("link",{key:x,...B})))}function pR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cT&&(window.__reactRouterVersion="7.6.0")}catch{}function gR(r,e){return iS({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:AA({window:e==null?void 0:e.window}),hydrationData:yR(),routes:r,mapRouteProperties:jS,hydrationRouteProperties:zS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function yR(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:vR(r.errors)}),r}function vR(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Nh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[a]=h}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cs=$.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,...T},C){let{basename:x}=$.useContext(oi),B=typeof g=="string"&&hT.test(g),U,H=!1;if(typeof g=="string"&&B&&(U=g,cT))try{let R=new URL(window.location.href),k=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=br(k.pathname,x);k.origin===R.origin&&L!=null?g=L+k.search+k.hash:H=!0}catch{Ht(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=AS(g,{relative:o}),[te,fe,se]=hR(a,T),F=TR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function P(R){e&&e(R),R.defaultPrevented||F(R)}let S=$.createElement("a",{...T,...se,href:U||Z,onClick:H||u?e:P,ref:pR(C,fe),target:p,"data-discover":!B&&n==="render"?"true":void 0});return te&&!B?$.createElement($.Fragment,null,S,$.createElement(fR,{page:Z})):S});Cs.displayName="Link";var _R=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let b=ku(h,{relative:g.relative}),T=Us(),C=$.useContext(Mu),{navigator:x,basename:B}=$.useContext(oi),U=C!=null&&RR(b)&&m===!0,H=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,Z=T.pathname,te=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),te=te?te.toLowerCase():null,H=H.toLowerCase()),te&&B&&(te=br(te,B)||te);const fe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let se=Z===H||!o&&Z.startsWith(H)&&Z.charAt(fe)==="/",F=te!=null&&(te===H||!o&&te.startsWith(H)&&te.charAt(H.length)==="/"),P={isActive:se,isPending:F,isTransitioning:U},S=se?e:void 0,R;typeof a=="function"?R=a(P):R=[a,se?"active":null,F?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(P):u;return $.createElement(Cs,{...g,"aria-current":S,className:R,ref:v,style:k,to:h,viewTransition:m},typeof p=="function"?p(P):p)});_R.displayName="NavLink";var fT=$.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=yh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...T},C)=>{let x=AR(),B=SR(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&hT.test(m),Z=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let fe=te.nativeEvent.submitter,se=(fe==null?void 0:fe.getAttribute("formmethod"))||h;x(fe||te.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return $.createElement("form",{ref:C,method:U,action:B,onSubmit:a?p:Z,...T,"data-discover":!H&&r==="render"?"true":void 0})});fT.displayName="Form";function ER(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(r){let e=$.useContext(Ls);return Je(e,ER(r)),e}function TR(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Ga(),p=Us(),g=ku(r,{relative:u});return $.useCallback(v=>{if(WS(v,e)){v.preventDefault();let b=n!==void 0?n:Va(p)===Va(g);m(r,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,a,e,r,o,u,h])}var bR=0,wR=()=>`__${String(++bR)}__`;function AR(){let{router:r}=dT("useSubmit"),{basename:e}=$.useContext(oi),n=kS();return $.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=eR(a,e);if(o.navigate===!1){let v=o.fetcherKey||wR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function SR(r,{relative:e}={}){let{basename:n}=$.useContext(oi),a=$.useContext(li);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...ku(r||".",{relative:e})},h=Us();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Jr([n,u.pathname])),Va(u)}function RR(r,e={}){let n=$.useContext(Sp);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=dT("useViewTransitionState"),o=ku(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=br(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=br(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Dh(o.pathname,h)!=null||Dh(o.pathname,u)!=null}[...lR];var CR=zE();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IR(r){return $.createElement(qS,{flushSync:CR.flushSync,...r})}const DR="eyRcOq_createAccountButton",NR="eyRcOq_errorFeedback",xR="eyRcOq_input",OR="eyRcOq_label",MR="eyRcOq_loginButton",PR="eyRcOq_loginContainer",kR="eyRcOq_mainContainer",Pi={createAccountButton:DR,errorFeedback:NR,input:xR,label:OR,loginButton:MR,loginContainer:PR,mainContainer:kR},VR="FBbTMG_spinnerContainer",LR="FBbTMG_spinnerIcon",f0={spinnerContainer:VR,spinnerIcon:LR};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),d0=r=>{const e=BR(r);return e.charAt(0).toUpperCase()+e.slice(1)},mT=(...r)=>r.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=$.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:h,...m},p)=>$.createElement("svg",{ref:p,...jR,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:mT("lucide",o),...m},[...h.map(([g,v])=>$.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=(r,e)=>{const n=$.forwardRef(({className:a,...o},u)=>$.createElement(zR,{ref:u,iconNode:e,className:mT(`lucide-${UR(d0(r))}`,`lucide-${r}`,a),...o}));return n.displayName=d0(r),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],pT=Bn("box",HR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],xp=Bn("boxes",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GR=Bn("chevron-left",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],KR=Bn("chevron-right",$R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],QR=Bn("coffee",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gT=Bn("loader-circle",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M5 12h14",key:"1ays0h"}]],ZR=Bn("minus",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],yT=Bn("package-minus",JR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]],tC=Bn("package-open",eC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],vT=Bn("package-plus",nC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],iC=Bn("pencil",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sC=Bn("plus",aC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],lC=Bn("search",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],cC=Bn("truck",uC);function La({marginTop:r}){return D.jsx("div",{className:f0.spinnerContainer,children:D.jsx(gT,{className:f0.spinnerIcon,style:{marginTop:r}})})}const hC=()=>{};var m0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fC=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,C=g&63;p||(C=64,h||(T=64)),a.push(n[v],n[b],n[T],n[C])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_T(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):fC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new dC;const T=u<<2|m>>4;if(a.push(T),g!==64){const C=m<<4&240|g>>2;if(a.push(C),b!==64){const x=g<<6&192|b;a.push(x)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mC=function(r){const e=_T(r);return ET.encodeByteArray(e,!0)},Mh=function(r){return mC(r).replace(/\./g,"")},TT=function(r){try{return ET.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=()=>pC().__FIREBASE_DEFAULTS__,yC=()=>{if(typeof process>"u"||typeof m0>"u")return;const r=m0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&TT(r[1]);return e&&JSON.parse(e)},nf=()=>{try{return hC()||gC()||yC()||vC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bT=r=>{var e,n;return(n=(e=nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},_C=r=>{const e=bT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},wT=()=>{var r;return(r=nf())===null||r===void 0?void 0:r.config},AT=r=>{var e;return(e=nf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(r){return r.endsWith(".cloudworkstations.dev")}async function ST(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mh(JSON.stringify(n)),Mh(JSON.stringify(h)),""].join(".")}const mu={};function bC(){const r={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?r.emulator.push(e):r.prod.push(e);return r}function wC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let p0=!1;function RT(r,e){if(typeof window>"u"||typeof document>"u"||!Vu(window.location.host)||mu[r]===e||mu[r]||p0)return;mu[r]=e;function n(T){return`__firebase__banner__${T}`}const a="__firebase__banner",u=bC().prod.length>0;function h(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{p0=!0,h()},T}function v(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=wC(a),C=n("text"),x=document.getElementById(C)||document.createElement("span"),B=n("learnmore"),U=document.getElementById(B)||document.createElement("a"),H=n("preprendIcon"),Z=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const te=T.element;m(te),v(U,B);const fe=g();p(Z,H),te.append(Z,x,U,fe),document.body.appendChild(te)}u?(x.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function SC(){var r;const e=(r=nf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DC(){const r=An();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NC(){return!SC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xC(){try{return typeof indexedDB=="object"}catch{return!1}}function OC(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="FirebaseError";class Fi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=MC,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?PC(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Fi(o,m,a)}}function PC(r,e){return r.replace(kC,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const kC=/\{\$([^}]+)}/g;function VC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Is(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(g0(u)&&g0(h)){if(!Is(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function g0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function uu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function cu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function LC(r,e){const n=new UC(r,e);return n.subscribe.bind(n)}class UC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");BC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r){return r&&r._delegate?r._delegate:r}class Ds{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new EC;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HC(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zC(r){return r===ws?void 0:r}function HC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const FC={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},GC=et.INFO,$C={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},KC=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=$C[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=GC,this._logHandler=KC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const YC=(r,e)=>e.some(n=>r instanceof n);let y0,v0;function QC(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XC(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Km=new WeakMap,IT=new WeakMap,xm=new WeakMap,Mp=new WeakMap;function WC(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(xa(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,r)}).catch(()=>{}),Mp.set(e,r),e}function ZC(r){if(Km.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Km.set(r,e)}let Ym={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||IT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function JC(r){Ym=r(Ym)}function eI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Om(this),e,...n);return IT.set(a,e.sort?e.sort():[e]),xa(a)}:XC().includes(r)?function(...e){return r.apply(Om(this),e),xa(CT.get(this))}:function(...e){return xa(r.apply(Om(this),e))}}function tI(r){return typeof r=="function"?eI(r):(r instanceof IDBTransaction&&ZC(r),YC(r,QC())?new Proxy(r,Ym):r)}function xa(r){if(r instanceof IDBRequest)return WC(r);if(xm.has(r))return xm.get(r);const e=tI(r);return e!==r&&(xm.set(r,e),Mp.set(e,r)),e}const Om=r=>Mp.get(r);function nI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=xa(h);return a&&h.addEventListener("upgradeneeded",p=>{a(xa(h.result),p.oldVersion,p.newVersion,xa(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const rI=["get","getKey","getAll","getAllKeys","count"],iI=["put","add","delete","clear"],Mm=new Map;function _0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=iI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||rI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Mm.set(e,u),u}JC(r=>({...r,get:(e,n,a)=>_0(e,n)||r.get(e,n,a),has:(e,n)=>!!_0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function sI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",E0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Op("@firebase/app"),oI="@firebase/app-compat",lI="@firebase/analytics-compat",uI="@firebase/analytics",cI="@firebase/app-check-compat",hI="@firebase/app-check",fI="@firebase/auth",dI="@firebase/auth-compat",mI="@firebase/database",pI="@firebase/data-connect",gI="@firebase/database-compat",yI="@firebase/functions",vI="@firebase/functions-compat",_I="@firebase/installations",EI="@firebase/installations-compat",TI="@firebase/messaging",bI="@firebase/messaging-compat",wI="@firebase/performance",AI="@firebase/performance-compat",SI="@firebase/remote-config",RI="@firebase/remote-config-compat",CI="@firebase/storage",II="@firebase/storage-compat",DI="@firebase/firestore",NI="@firebase/ai",xI="@firebase/firestore-compat",OI="firebase",MI="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",PI={[Qm]:"fire-core",[oI]:"fire-core-compat",[uI]:"fire-analytics",[lI]:"fire-analytics-compat",[hI]:"fire-app-check",[cI]:"fire-app-check-compat",[fI]:"fire-auth",[dI]:"fire-auth-compat",[mI]:"fire-rtdb",[pI]:"fire-data-connect",[gI]:"fire-rtdb-compat",[yI]:"fire-fn",[vI]:"fire-fn-compat",[_I]:"fire-iid",[EI]:"fire-iid-compat",[TI]:"fire-fcm",[bI]:"fire-fcm-compat",[wI]:"fire-perf",[AI]:"fire-perf-compat",[SI]:"fire-rc",[RI]:"fire-rc-compat",[CI]:"fire-gcs",[II]:"fire-gcs-compat",[DI]:"fire-fst",[xI]:"fire-fst-compat",[NI]:"fire-vertex","fire-js":"fire-js",[OI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,kI=new Map,Wm=new Map;function T0(r,e){try{r.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ho(r){const e=r.name;if(Wm.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,r);for(const n of Ph.values())T0(n,r);for(const n of kI.values())T0(n,r);return!0}function Pp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Tr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Lu("app","Firebase",VI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=MI;function DT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Oa.create("bad-app-name",{appName:String(o)});if(n||(n=wT()),!n)throw Oa.create("no-options");const u=Ph.get(o);if(u){if(Is(n,u.options)&&Is(a,u.config))return u;throw Oa.create("duplicate-app",{appName:o})}const h=new qC(o);for(const p of Wm.values())h.addComponent(p);const m=new LI(n,a,h);return Ph.set(o,m),m}function NT(r=Xm){const e=Ph.get(r);if(!e&&r===Xm&&wT())return DT();if(!e)throw Oa.create("no-app",{appName:r});return e}function Ma(r,e,n){var a;let o=(a=PI[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(m.join(" "));return}Ho(new Ds(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="firebase-heartbeat-database",BI=1,bu="firebase-heartbeat-store";let Pm=null;function xT(){return Pm||(Pm=nI(UI,BI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Oa.create("idb-open",{originalErrorMessage:r.message})})),Pm}async function jI(r){try{const n=(await xT()).transaction(bu),a=await n.objectStore(bu).get(OT(r));return await n.done,a}catch(e){if(e instanceof Fi)ji.warn(e.message);else{const n=Oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(n.message)}}}async function b0(r,e){try{const a=(await xT()).transaction(bu,"readwrite");await a.objectStore(bu).put(e,OT(r)),await a.done}catch(n){if(n instanceof Fi)ji.warn(n.message);else{const a=Oa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(a.message)}}}function OT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=1024,HI=30;class qI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=w0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>HI){const h=$I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ji.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w0(),{heartbeatsToSend:a,unsentEntries:o}=FI(this._heartbeatsCache.heartbeats),u=Mh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ji.warn(n),""}}}function w0(){return new Date().toISOString().substring(0,10)}function FI(r,e=zI){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),A0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),A0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class GI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xC()?OC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function A0(r){return Mh(JSON.stringify({version:2,heartbeats:r})).length}function $I(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r){Ho(new Ds("platform-logger",e=>new aI(e),"PRIVATE")),Ho(new Ds("heartbeat",e=>new qI(e),"PRIVATE")),Ma(Qm,E0,r),Ma(Qm,E0,"esm2017"),Ma("fire-js","")}KI("");function kp(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YI=MT,PT=new Lu("auth","Firebase",MT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Op("@firebase/auth");function QI(r,...e){kh.logLevel<=et.WARN&&kh.warn(`Auth (${Wo}): ${r}`,...e)}function _h(r,...e){kh.logLevel<=et.ERROR&&kh.error(`Auth (${Wo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,...e){throw Vp(r,...e)}function ei(r,...e){return Vp(r,...e)}function kT(r,e,n){const a=Object.assign(Object.assign({},YI()),{[e]:n});return new Lu("auth","Firebase",a).create(e,{appName:r.name})}function Bi(r){return kT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return PT.create(r,...e)}function Pe(r,e,...n){if(!r)throw Vp(e,...n)}function Li(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _h(e),new Error(e)}function zi(r,e){r||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function XI(){return S0()==="http:"||S0()==="https:"}function S0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XI()||CC()||"connection"in navigator)?navigator.onLine:!0}function ZI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=AC()||IC()}get(){return WI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r,e){zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t2=new Bu(3e4,6e4);function Gi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function $i(r,e,n,a,o={}){return LT(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=Uu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return RC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Vu(r.emulatorConfig.host)&&(g.credentials="include"),VT.fetch()(await UT(r,r.config.apiHost,n,m),g)})}async function LT(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},JI),e);try{const o=new r2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ch(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw ch(r,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kT(r,v,g);Nr(r,v)}}catch(o){if(o instanceof Fi)throw o;Nr(r,"network-request-failed",{message:String(o)})}}async function ju(r,e,n,a,o={}){const u=await $i(r,e,n,a,o);return"mfaPendingCredential"in u&&Nr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function UT(r,e,n,a){const o=`${e}${n}?${a}`,u=r,h=u.config.emulator?Lp(r.config,o):`${r.config.apiScheme}://${o}`;return e2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function n2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ei(this.auth,"network-request-failed")),t2.get())})}}function ch(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ei(r,e,a);return o.customData._tokenResponse=n,o}function R0(r){return r!==void 0&&r.enterprise!==void 0}class i2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return n2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a2(r,e){return $i(r,"GET","/v2/recaptchaConfig",Gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(r,e){return $i(r,"POST","/v1/accounts:delete",e)}async function Vh(r,e){return $i(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o2(r,e=!1){const n=mn(r),a=await n.getIdToken(e),o=Up(a);Pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:pu(km(o.auth_time)),issuedAtTime:pu(km(o.iat)),expirationTime:pu(km(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function km(r){return Number(r)*1e3}function Up(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=TT(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function C0(r){const e=Up(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Fi&&l2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function l2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await wu(r,Vh(n,{idToken:a}));Pe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?BT(u.providerUserInfo):[],m=h2(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Jm(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,b)}async function c2(r){const e=mn(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h2(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function BT(r){return r.map(e=>{var{providerId:n}=e,a=kp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(r,e){const n=await LT(r,{},async()=>{const a=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await UT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",VT.fetch()(h,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d2(r,e){return $i(r,"POST","/v2/accounts:revokeToken",Gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=C0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await f2(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new Uo;return a&&(Pe(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(Pe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Pe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Jm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o2(this,e)}reload(){return c2(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await wu(this,s2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,h,m,p,g,v;const b=(a=n.displayName)!==null&&a!==void 0?a:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,C=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=n.photoURL)!==null&&h!==void 0?h:void 0,B=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Z=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:te,emailVerified:fe,isAnonymous:se,providerData:F,stsTokenManager:P}=n;Pe(te&&P,e,"internal-error");const S=Uo.fromJSON(this.name,P);Pe(typeof te=="string",e,"internal-error"),wa(b,e.name),wa(T,e.name),Pe(typeof fe=="boolean",e,"internal-error"),Pe(typeof se=="boolean",e,"internal-error"),wa(C,e.name),wa(x,e.name),wa(B,e.name),wa(U,e.name),wa(H,e.name),wa(Z,e.name);const R=new Dr({uid:te,auth:e,email:T,emailVerified:fe,displayName:b,isAnonymous:se,photoURL:x,phoneNumber:C,tenantId:B,stsTokenManager:S,createdAt:H,lastLoginAt:Z});return F&&Array.isArray(F)&&(R.providerData=F.map(k=>Object.assign({},k))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,n,a=!1){const o=new Uo;o.updateFromServerResponse(n);const u=new Dr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Lh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Uo;m.updateFromIdToken(a);const p=new Dr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=new Map;function Ui(r){zi(r instanceof Function,"Expected a class definition");let e=I0.get(r);return e?(zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,I0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jT.type="NONE";const D0=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r,e,n){return`firebase:${r}:${e}:${n}`}class Bo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?Dr._fromGetAccountInfoResponse(this.auth,n,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Bo(Ui(D0),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ui(D0);const h=Eh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const T=await Vh(e,{idToken:v}).catch(()=>{});if(!T)break;b=await Dr._fromGetAccountInfoResponse(e,T,v)}else b=Dr._fromJSON(e,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Bo(u,e,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Bo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($T(e))return"Blackberry";if(KT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||qT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function zT(r=An()){return/firefox\//i.test(r)}function HT(r=An()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qT(r=An()){return/crios\//i.test(r)}function FT(r=An()){return/iemobile/i.test(r)}function GT(r=An()){return/android/i.test(r)}function $T(r=An()){return/blackberry/i.test(r)}function KT(r=An()){return/webos/i.test(r)}function Bp(r=An()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function m2(r=An()){var e;return Bp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p2(){return DC()&&document.documentMode===10}function YT(r=An()){return Bp(r)||GT(r)||KT(r)||$T(r)||/windows phone/i.test(r)||FT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(r,e=[]){let n;switch(r){case"Browser":n=N0(An());break;case"Worker":n=`${N0(An())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(r,e={}){return $i(r,"GET","/v2/passwordPolicy",Gi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=6;class _2{constructor(e){var n,a,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:v2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new g2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),a=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Bi(this));const n=e?mn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y2(this),n=new _2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await d2(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ui(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&QI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bs(r){return mn(r)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=LC(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T2(r){rf=r}function XT(r){return rf.loadJS(r)}function b2(){return rf.recaptchaEnterpriseScript}function w2(){return rf.gapiScript}function A2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class S2{constructor(){this.enterprise=new R2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class R2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const C2="recaptcha-enterprise",WT="NO_RECAPTCHA";class I2{constructor(e){this.type=C2,this.auth=Bs(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{a2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new i2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;R0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(WT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&R0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=b2();p.length!==0&&(p+=m),XT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function O0(r,e,n,a=!1,o=!1){const u=new I2(r);let h;if(o)h=WT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ep(r,e,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await O0(r,e,n,n==="getOobCode");return a(r,h)}else return a(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await O0(r,e,n,n==="getOobCode");return a(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r,e){const n=Pp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Is(u,e??{}))return o;Nr(o,"already-initialized")}return n.initialize({options:e})}function N2(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ui);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function x2(r,e,n){const a=Bs(r);Pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=ZT(e),{host:h,port:m}=O2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Pe(Is(g,a.config.emulator)&&Is(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Vu(h)?(ST(`${u}//${h}${p}`),RT("Auth",!0)):M2()}function ZT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function O2(r){const e=ZT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:M0(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:M0(h)}}}function M0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function M2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,n){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}async function P2(r,e){return $i(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(r,e){return ju(r,"POST","/v1/accounts:signInWithPassword",Gi(r,e))}async function V2(r,e){return $i(r,"POST","/v1/accounts:sendOobCode",Gi(r,e))}async function L2(r,e){return V2(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(r,e){return ju(r,"POST","/v1/accounts:signInWithEmailLink",Gi(r,e))}async function B2(r,e){return ju(r,"POST","/v1/accounts:signInWithEmailLink",Gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends jp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Au(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Au(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,n,"signInWithPassword",k2);case"emailLink":return U2(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,a,"signUpPassword",P2);case"emailLink":return B2(e,{idToken:n,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r,e){return ju(r,"POST","/v1/accounts:signInWithIdp",Gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="http://localhost";class Ns extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=kp(n,["providerId","signInMethod"]);if(!a||!o)return null;const h=new Ns(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return jo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,jo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jo(e,n)}buildRequest(){const e={requestUri:j2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(r){const e=uu(cu(r)).link,n=e?uu(cu(e)).deep_link_id:null,a=uu(cu(r)).deep_link_id;return(a?uu(cu(a)).link:null)||a||n||e||r}class zp{constructor(e){var n,a,o,u,h,m;const p=uu(cu(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,b=z2((o=p.mode)!==null&&o!==void 0?o:null);Pe(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=H2(e);try{return new zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return Au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=zp.parseLink(n);return Pe(a,"argument-error"),Au._fromEmailAndCode(e,a.code,a.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends JT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends zu{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ca.credential(n,a)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends zu{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends zu{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Da.credential(n,a)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(r,e){return ju(r,"POST","/v1/accounts:signUp",Gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Dr._fromIdTokenResponse(e,a,o),h=P0(a);return new xs({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=P0(a);return new xs({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function P0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Fi{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Uh(e,n,a,o)}}function eb(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,u,e,a):u})}async function F2(r,e,n=!1){const a=await wu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return xs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,e,n=!1){const{auth:a}=r;if(Tr(a.app))return Promise.reject(Bi(a));const o="reauthenticate";try{const u=await wu(r,eb(a,o,e,r),n);Pe(u.idToken,a,"internal-error");const h=Up(u.idToken);Pe(h,a,"internal-error");const{sub:m}=h;return Pe(r.uid===m,a,"user-mismatch"),xs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Nr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(r,e,n=!1){if(Tr(r.app))return Promise.reject(Bi(r));const a="signIn",o=await eb(r,a,e),u=await xs._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function $2(r,e){return tb(Bs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(r){const e=Bs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K2(r,e,n){if(Tr(r.app))return Promise.reject(Bi(r));const a=Bs(r),h=await ep(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&nb(r),p}),m=await xs._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function Y2(r,e,n){return Tr(r.app)?Promise.reject(Bi(r)):$2(mn(r),Zo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&nb(r),a})}async function Q2(r,e){const n=mn(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await L2(n.auth,o);u!==r.email&&await r.reload()}function X2(r,e,n,a){return mn(r).onIdTokenChanged(e,n,a)}function W2(r,e,n){return mn(r).beforeAuthStateChanged(e,n)}function Z2(r,e,n,a){return mn(r).onAuthStateChanged(e,n,a)}function J2(r){return mn(r).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=1e3,tD=10;class ib extends rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);p2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tD):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ib.type="LOCAL";const nD=ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ab.type="SESSION";const sb=ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new af(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await rD(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Hp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function aD(r){ti().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function sD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function lD(){return ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebaseLocalStorageDb",uD=1,jh="firebaseLocalStorage",ub="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(r,e){return r.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function cD(){const r=indexedDB.deleteDatabase(lb);return new Hu(r).toPromise()}function tp(){const r=indexedDB.open(lb,uD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(jh,{keyPath:ub})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(jh)?e(a):(a.close(),await cD(),e(await tp()))})})}async function k0(r,e,n){const a=sf(r,!0).put({[ub]:e,value:n});return new Hu(a).toPromise()}async function hD(r,e){const n=sf(r,!1).get(e),a=await new Hu(n).toPromise();return a===void 0?null:a.value}function V0(r,e){const n=sf(r,!0).delete(e);return new Hu(n).toPromise()}const fD=800,dD=3;class cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>dD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(lD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sD(),!this.activeServiceWorker)return;this.sender=new iD(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await k0(e,Bh,"1"),await V0(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>k0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>hD(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new Hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cb.type="LOCAL";const mD=cb;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r,e){return e?Ui(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gD(r){return tb(r.auth,new qp(r),r.bypassAuthState)}function yD(r){const{auth:e,user:n}=r;return Pe(n,e,"internal-error"),G2(n,new qp(r),r.bypassAuthState)}async function vD(r){const{auth:e,user:n}=r;return Pe(n,e,"internal-error"),F2(n,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gD;case"linkViaPopup":case"linkViaRedirect":return vD;case"reauthViaPopup":case"reauthViaRedirect":return yD;default:Nr(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new Bu(2e3,1e4);class Vo extends hb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_D.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="pendingRedirect",Th=new Map;class TD extends hb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const a=await bD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bD(r,e){const n=SD(e),a=AD(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function wD(r,e){Th.set(r._key(),e)}function AD(r){return Ui(r._redirectPersistence)}function SD(r){return Eh(ED,r.config.apiKey,r.name)}async function RD(r,e,n=!1){if(Tr(r.app))return Promise.reject(Bi(r));const a=Bs(r),o=pD(a,e),h=await new TD(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=10*60*1e3;class ID{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!fb(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(ei(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CD&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(r,e={}){return $i(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OD=/^https?/;async function MD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ND(r);for(const n of e)try{if(PD(n))return}catch{}Nr(r,"unauthorized-domain")}function PD(r){const e=Zm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!OD.test(n))return!1;if(xD.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Bu(3e4,6e4);function U0(){const r=ti().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function VD(r){return new Promise((e,n)=>{var a,o,u;function h(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(ei(r,"network-request-failed"))},timeout:kD.get()})}if(!((o=(a=ti().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ti().gapi)===null||u===void 0)&&u.load)h();else{const m=A2("iframefcb");return ti()[m]=()=>{gapi.load?h():n(ei(r,"network-request-failed"))},XT(`${w2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw bh=null,e})}let bh=null;function LD(r){return bh=bh||VD(r),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new Bu(5e3,15e3),BD="__/auth/iframe",jD="emulator/auth/iframe",zD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qD(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Lp(e,jD):`https://${r.config.authDomain}/${BD}`,a={apiKey:e.apiKey,appName:r.name,v:Wo},o=HD.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Uu(a).slice(1)}`}async function FD(r){const e=await LD(r),n=ti().gapi;return Pe(n,r,"internal-error"),e.open({where:document.body,url:qD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zD,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=ei(r,"network-request-failed"),m=ti().setTimeout(()=>{u(h)},UD.get());function p(){ti().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$D=500,KD=600,YD="_blank",QD="http://localhost";class B0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XD(r,e,n,a=$D,o=KD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},GD),{width:a.toString(),height:o.toString(),top:u,left:h}),g=An().toLowerCase();n&&(m=qT(g)?YD:n),zT(g)&&(e=e||QD,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[C,x])=>`${T}${C}=${x},`,"");if(m2(g)&&m!=="_self")return WD(e||"",m),new B0(null);const b=window.open(e||"",m,v);Pe(b,r,"popup-blocked");try{b.focus()}catch{}return new B0(b)}function WD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="__/auth/handler",JD="emulator/auth/handler",eN=encodeURIComponent("fac");async function j0(r,e,n,a,o,u){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Wo,eventId:o};if(e instanceof JT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",VC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof zu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${eN}=${encodeURIComponent(p)}`:"";return`${tN(r)}?${Uu(m).slice(1)}${g}`}function tN({config:r}){return r.emulator?Lp(r,JD):`https://${r.authDomain}/${ZD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class nN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sb,this._completeRedirectFn=RD,this._overrideRedirectResult=wD}async _openPopup(e,n,a,o){var u;zi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await j0(e,n,a,Zm(),o);return XD(e,h,Hp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await j0(e,n,a,Zm(),o);return aD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(zi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await FD(e),a=new ID(e);return n.register("authEvent",o=>(Pe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Vm];h!==void 0&&n(!!h),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YT()||HT()||Bp()}}const rN=nN;var z0="@firebase/auth",H0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sN(r){Ho(new Ds("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;Pe(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(r)},g=new E2(a,o,u,p);return N2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Ho(new Ds("auth-internal",e=>{const n=Bs(e.getProvider("auth").getImmediate());return(a=>new iN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(z0,H0,aN(r)),Ma(z0,H0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=5*60,lN=AT("authIdTokenMaxAge")||oN;let q0=null;const uN=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>lN)return;const o=n==null?void 0:n.token;q0!==o&&(q0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cN(r=NT()){const e=Pp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=D2(r,{popupRedirectResolver:rN,persistence:[mD,nD,sb]}),a=AT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=uN(u.toString());W2(n,h,()=>h(n.currentUser)),X2(n,m=>h(m))}}const o=bT("auth");return o&&x2(n,`http://${o}`),n}function hN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}T2({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ei("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",hN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sN("Browser");var fN="firebase",dN="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(fN,dN,"app");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,db;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function R(){}R.prototype=S.prototype,P.D=S.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(k,L,j){for(var I=Array(arguments.length-2),He=2;He<arguments.length;He++)I[He-2]=arguments[He];return S.prototype[L].apply(k,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,R){R||(R=0);var k=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)k[L]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(L=0;16>L;++L)k[L]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=P.g[0],R=P.g[1],L=P.g[2];var j=P.g[3],I=S+(j^R&(L^j))+k[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=j+(L^S&(R^L))+k[1]+3905402710&4294967295,j=S+(I<<12&4294967295|I>>>20),I=L+(R^j&(S^R))+k[2]+606105819&4294967295,L=j+(I<<17&4294967295|I>>>15),I=R+(S^L&(j^S))+k[3]+3250441966&4294967295,R=L+(I<<22&4294967295|I>>>10),I=S+(j^R&(L^j))+k[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=j+(L^S&(R^L))+k[5]+1200080426&4294967295,j=S+(I<<12&4294967295|I>>>20),I=L+(R^j&(S^R))+k[6]+2821735955&4294967295,L=j+(I<<17&4294967295|I>>>15),I=R+(S^L&(j^S))+k[7]+4249261313&4294967295,R=L+(I<<22&4294967295|I>>>10),I=S+(j^R&(L^j))+k[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=j+(L^S&(R^L))+k[9]+2336552879&4294967295,j=S+(I<<12&4294967295|I>>>20),I=L+(R^j&(S^R))+k[10]+4294925233&4294967295,L=j+(I<<17&4294967295|I>>>15),I=R+(S^L&(j^S))+k[11]+2304563134&4294967295,R=L+(I<<22&4294967295|I>>>10),I=S+(j^R&(L^j))+k[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=j+(L^S&(R^L))+k[13]+4254626195&4294967295,j=S+(I<<12&4294967295|I>>>20),I=L+(R^j&(S^R))+k[14]+2792965006&4294967295,L=j+(I<<17&4294967295|I>>>15),I=R+(S^L&(j^S))+k[15]+1236535329&4294967295,R=L+(I<<22&4294967295|I>>>10),I=S+(L^j&(R^L))+k[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=j+(R^L&(S^R))+k[6]+3225465664&4294967295,j=S+(I<<9&4294967295|I>>>23),I=L+(S^R&(j^S))+k[11]+643717713&4294967295,L=j+(I<<14&4294967295|I>>>18),I=R+(j^S&(L^j))+k[0]+3921069994&4294967295,R=L+(I<<20&4294967295|I>>>12),I=S+(L^j&(R^L))+k[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=j+(R^L&(S^R))+k[10]+38016083&4294967295,j=S+(I<<9&4294967295|I>>>23),I=L+(S^R&(j^S))+k[15]+3634488961&4294967295,L=j+(I<<14&4294967295|I>>>18),I=R+(j^S&(L^j))+k[4]+3889429448&4294967295,R=L+(I<<20&4294967295|I>>>12),I=S+(L^j&(R^L))+k[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=j+(R^L&(S^R))+k[14]+3275163606&4294967295,j=S+(I<<9&4294967295|I>>>23),I=L+(S^R&(j^S))+k[3]+4107603335&4294967295,L=j+(I<<14&4294967295|I>>>18),I=R+(j^S&(L^j))+k[8]+1163531501&4294967295,R=L+(I<<20&4294967295|I>>>12),I=S+(L^j&(R^L))+k[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=j+(R^L&(S^R))+k[2]+4243563512&4294967295,j=S+(I<<9&4294967295|I>>>23),I=L+(S^R&(j^S))+k[7]+1735328473&4294967295,L=j+(I<<14&4294967295|I>>>18),I=R+(j^S&(L^j))+k[12]+2368359562&4294967295,R=L+(I<<20&4294967295|I>>>12),I=S+(R^L^j)+k[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=j+(S^R^L)+k[8]+2272392833&4294967295,j=S+(I<<11&4294967295|I>>>21),I=L+(j^S^R)+k[11]+1839030562&4294967295,L=j+(I<<16&4294967295|I>>>16),I=R+(L^j^S)+k[14]+4259657740&4294967295,R=L+(I<<23&4294967295|I>>>9),I=S+(R^L^j)+k[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=j+(S^R^L)+k[4]+1272893353&4294967295,j=S+(I<<11&4294967295|I>>>21),I=L+(j^S^R)+k[7]+4139469664&4294967295,L=j+(I<<16&4294967295|I>>>16),I=R+(L^j^S)+k[10]+3200236656&4294967295,R=L+(I<<23&4294967295|I>>>9),I=S+(R^L^j)+k[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=j+(S^R^L)+k[0]+3936430074&4294967295,j=S+(I<<11&4294967295|I>>>21),I=L+(j^S^R)+k[3]+3572445317&4294967295,L=j+(I<<16&4294967295|I>>>16),I=R+(L^j^S)+k[6]+76029189&4294967295,R=L+(I<<23&4294967295|I>>>9),I=S+(R^L^j)+k[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=j+(S^R^L)+k[12]+3873151461&4294967295,j=S+(I<<11&4294967295|I>>>21),I=L+(j^S^R)+k[15]+530742520&4294967295,L=j+(I<<16&4294967295|I>>>16),I=R+(L^j^S)+k[2]+3299628645&4294967295,R=L+(I<<23&4294967295|I>>>9),I=S+(L^(R|~j))+k[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=j+(R^(S|~L))+k[7]+1126891415&4294967295,j=S+(I<<10&4294967295|I>>>22),I=L+(S^(j|~R))+k[14]+2878612391&4294967295,L=j+(I<<15&4294967295|I>>>17),I=R+(j^(L|~S))+k[5]+4237533241&4294967295,R=L+(I<<21&4294967295|I>>>11),I=S+(L^(R|~j))+k[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=j+(R^(S|~L))+k[3]+2399980690&4294967295,j=S+(I<<10&4294967295|I>>>22),I=L+(S^(j|~R))+k[10]+4293915773&4294967295,L=j+(I<<15&4294967295|I>>>17),I=R+(j^(L|~S))+k[1]+2240044497&4294967295,R=L+(I<<21&4294967295|I>>>11),I=S+(L^(R|~j))+k[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=j+(R^(S|~L))+k[15]+4264355552&4294967295,j=S+(I<<10&4294967295|I>>>22),I=L+(S^(j|~R))+k[6]+2734768916&4294967295,L=j+(I<<15&4294967295|I>>>17),I=R+(j^(L|~S))+k[13]+1309151649&4294967295,R=L+(I<<21&4294967295|I>>>11),I=S+(L^(R|~j))+k[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=j+(R^(S|~L))+k[11]+3174756917&4294967295,j=S+(I<<10&4294967295|I>>>22),I=L+(S^(j|~R))+k[2]+718787259&4294967295,L=j+(I<<15&4294967295|I>>>17),I=R+(j^(L|~S))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+j&4294967295}a.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var R=S-this.blockSize,k=this.B,L=this.h,j=0;j<S;){if(L==0)for(;j<=R;)o(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<S;)if(k[L++]=P.charCodeAt(j++),L==this.blockSize){o(this,k),L=0;break}}else for(;j<S;)if(k[L++]=P[j++],L==this.blockSize){o(this,k),L=0;break}}this.h=L,this.o+=S},a.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var R=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=R&255,R/=256;for(this.u(P),P=Array(16),S=R=0;4>S;++S)for(var k=0;32>k;k+=8)P[R++]=this.g[S]>>>k&255;return P};function u(P,S){var R=m;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=S(P)}function h(P,S){this.h=S;for(var R=[],k=!0,L=P.length-1;0<=L;L--){var j=P[L]|0;k&&j==S||(R[L]=j,k=!1)}this.g=R}var m={};function p(P){return-128<=P&&128>P?u(P,function(S){return new h([S|0],0>S?-1:0)}):new h([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return U(g(-P));for(var S=[],R=1,k=0;P>=R;k++)S[k]=P/R|0,R*=4294967296;return new h(S,0)}function v(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return U(v(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),k=b,L=0;L<P.length;L+=8){var j=Math.min(8,P.length-L),I=parseInt(P.substring(L,L+j),S);8>j?(j=g(Math.pow(S,j)),k=k.j(j).add(g(I))):(k=k.j(R),k=k.add(g(I)))}return k}var b=p(0),T=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(B(this))return-U(this).m();for(var P=0,S=1,R=0;R<this.g.length;R++){var k=this.i(R);P+=(0<=k?k:4294967296+k)*S,S*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(B(this))return"-"+U(this).toString(P);for(var S=g(Math.pow(P,6)),R=this,k="";;){var L=fe(R,S).g;R=H(R,L.j(S));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=L,x(R))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function B(P){return P.h==-1}r.l=function(P){return P=H(this,P),B(P)?-1:x(P)?0:1};function U(P){for(var S=P.g.length,R=[],k=0;k<S;k++)R[k]=~P.g[k];return new h(R,~P.h).add(T)}r.abs=function(){return B(this)?U(this):this},r.add=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],k=0,L=0;L<=S;L++){var j=k+(this.i(L)&65535)+(P.i(L)&65535),I=(j>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);k=I>>>16,j&=65535,I&=65535,R[L]=I<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function H(P,S){return P.add(U(S))}r.j=function(P){if(x(this)||x(P))return b;if(B(this))return B(P)?U(this).j(U(P)):U(U(this).j(P));if(B(P))return U(this.j(U(P)));if(0>this.l(C)&&0>P.l(C))return g(this.m()*P.m());for(var S=this.g.length+P.g.length,R=[],k=0;k<2*S;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<P.g.length;L++){var j=this.i(k)>>>16,I=this.i(k)&65535,He=P.i(L)>>>16,Qe=P.i(L)&65535;R[2*k+2*L]+=I*Qe,Z(R,2*k+2*L),R[2*k+2*L+1]+=j*Qe,Z(R,2*k+2*L+1),R[2*k+2*L+1]+=I*He,Z(R,2*k+2*L+1),R[2*k+2*L+2]+=j*He,Z(R,2*k+2*L+2)}for(k=0;k<S;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=S;k<2*S;k++)R[k]=0;return new h(R,0)};function Z(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function te(P,S){this.g=P,this.h=S}function fe(P,S){if(x(S))throw Error("division by zero");if(x(P))return new te(b,b);if(B(P))return S=fe(U(P),S),new te(U(S.g),U(S.h));if(B(S))return S=fe(P,U(S)),new te(U(S.g),S.h);if(30<P.g.length){if(B(P)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,k=S;0>=k.l(P);)R=se(R),k=se(k);var L=F(R,1),j=F(k,1);for(k=F(k,2),R=F(R,2);!x(k);){var I=j.add(k);0>=I.l(P)&&(L=L.add(R),j=I),k=F(k,1),R=F(R,1)}return S=H(P,L.j(S)),new te(L,S)}for(L=b;0<=P.l(S);){for(R=Math.max(1,Math.floor(P.m()/S.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=g(R),I=j.j(S);B(I)||0<I.l(P);)R-=k,j=g(R),I=j.j(S);x(j)&&(j=T),L=L.add(j),P=H(P,I)}return new te(L,P)}r.A=function(P){return fe(this,P).h},r.and=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)&P.i(k);return new h(R,this.h&P.h)},r.or=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)|P.i(k);return new h(R,this.h|P.h)},r.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)^P.i(k);return new h(R,this.h^P.h)};function se(P){for(var S=P.g.length+1,R=[],k=0;k<S;k++)R[k]=P.i(k)<<1|P.i(k-1)>>>31;return new h(R,P.h)}function F(P,S){var R=S>>5;S%=32;for(var k=P.g.length-R,L=[],j=0;j<k;j++)L[j]=0<S?P.i(j+R)>>>S|P.i(j+R+1)<<32-S:P.i(j+R);return new h(L,P.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,db=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Pa=h}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mb,hu,pb,wh,np,gb,yb,vb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var G=c[A];if(!(G in _))break e;_=_[G]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,G={next:function(){if(!A&&_<c.length){var ee=_++;return{value:y(ee,c[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function T(c,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function C(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,G,ee){for(var me=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)me[rt-2]=arguments[rt];return y.prototype[G].apply(A,me)}}function B(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const G=c.length||0,ee=A.length||0;c.length=G+ee;for(let me=0;me<ee;me++)c[G+me]=A[me]}else c.push(A)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var se=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function F(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function P(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let _,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(_ in A)c[_]=A[_];for(let ee=0;ee<R.length;ee++)_=R[ee],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Ue;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class He{constructor(){this.h=this.g=null}add(y,_){const A=Qe.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Qe=new H(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ve=!1,Ue=new He,O=()=>{const c=m.Promise.resolve(void 0);de=()=>{c.then(ie)}};var ie=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){j(_)}var y=Qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ve=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function ze(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{fe(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ze.aa.h.call(this)}}x(ze,ue);var Re={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function nr(c,y,_,A,G){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=G,this.key=++gt,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gn(c){this.src=c,this.g={},this.h=0}gn.prototype.add=function(c,y,_,A,G){var ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);var me=ui(c,y,A,G);return-1<me?(y=c[me],_||(y.fa=!1)):(y=new nr(y,this.src,ee,!!A,G),y.fa=_,c.push(y)),y};function xr(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],G=Array.prototype.indexOf.call(A,y,void 0),ee;(ee=0<=G)&&Array.prototype.splice.call(A,G,1),ee&&(At(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ui(c,y,_,A){for(var G=0;G<c.length;++G){var ee=c[G];if(!ee.da&&ee.listener==y&&ee.capture==!!_&&ee.ha==A)return G}return-1}var Sn="closure_lm_"+(1e6*Math.random()|0),Ya={};function Hs(c,y,_,A,G){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)Hs(c,y[ee],_,A,G);return null}return _=Qi(_),c&&c[kt]?c.K(y,_,g(A)?!!A.capture:!1,G):Rn(c,y,_,!1,A,G)}function Rn(c,y,_,A,G,ee){if(!y)throw Error("Invalid event type");var me=g(G)?!!G.capture:!!G,rt=rr(c);if(rt||(c[Sn]=rt=new gn(c)),_=rt.add(y,_,A,me,ee),_.proxy)return _;if(A=rl(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)we||(G=me),G===void 0&&(G=!1),c.addEventListener(y.toString(),A,G);else if(c.attachEvent)c.attachEvent(ci(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function rl(){function c(_){return y.call(c.src,c.listener,_)}const y=wr;return c}function Qa(c,y,_,A,G){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)Qa(c,y[ee],_,A,G);else A=g(A)?!!A.capture:!!A,_=Qi(_),c&&c[kt]?(c=c.i,y=String(y).toString(),y in c.g&&(ee=c.g[y],_=ui(ee,_,A,G),-1<_&&(At(ee[_]),Array.prototype.splice.call(ee,_,1),ee.length==0&&(delete c.g[y],c.h--)))):c&&(c=rr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ui(y,_,A,G)),(_=-1<c?y[c]:null)&&Ki(_))}function Ki(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[kt])xr(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ci(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=rr(y))?(xr(_,c),_.h==0&&(_.src=null,y[Sn]=null)):At(c)}}}function ci(c){return c in Ya?Ya[c]:Ya[c]="on"+c}function wr(c,y){if(c.da)c=!0;else{y=new ze(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Ki(c),c=_.call(A,y)}return c}function rr(c){return c=c[Sn],c instanceof gn?c:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qi(c){return typeof c=="function"?c:(c[Yi]||(c[Yi]=function(y){return c.handleEvent(y)}),c[Yi])}function ut(){pe.call(this),this.i=new gn(this),this.M=this,this.F=null}x(ut,pe),ut.prototype[kt]=!0,ut.prototype.removeEventListener=function(c,y,_,A){Qa(this,c,y,_,A)};function Fe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var G=y;y=new ue(A,c),k(y,G)}if(G=!0,_)for(var ee=_.length-1;0<=ee;ee--){var me=y.g=_[ee];G=yn(me,A,!0,y)&&G}if(me=y.g=c,G=yn(me,A,!0,y)&&G,G=yn(me,A,!1,y)&&G,_)for(ee=0;ee<_.length;ee++)me=y.g=_[ee],G=yn(me,A,!1,y)&&G}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)At(_[A]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ut.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function yn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,ee=0;ee<y.length;++ee){var me=y[ee];if(me&&!me.da&&me.capture==_){var rt=me.listener,Ft=me.ha||me.src;me.fa&&xr(c.i,me),G=rt.call(Ft,A)!==!1&&G}}return G&&!A.defaultPrevented}function Vt(c,y,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function qs(c){c.g=Vt(()=>{c.g=null,c.i&&(c.i=!1,qs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ir extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(c){pe.call(this),this.h=c,this.g={}}x(Or,pe);var Mr=[];function Pr(c){F(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ki(y)},c),c.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Pr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,hi=m.JSON.parse,ar=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Xi(){}Xi.prototype.h=null;function fi(c){return c.h||(c.h=c.i())}function Xa(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ue.call(this,"d")}x(Ar,ue);function Wi(){ue.call(this,"c")}x(Wi,ue);var Cn={},kr=null;function Vr(){return kr=kr||new ut}Cn.La="serverreachability";function Zi(c){ue.call(this,Cn.La,c)}x(Zi,ue);function M(c){const y=Vr();Fe(y,new Zi(y))}Cn.STAT_EVENT="statevent";function q(c,y){ue.call(this,Cn.STAT_EVENT,c),this.stat=y}x(q,ue);function Y(c){const y=Vr();Fe(y,new q(y,c))}Cn.Ma="timingevent";function ae(c,y){ue.call(this,Cn.Ma,c),this.size=y}x(ae,ue);function he(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ge(){this.g=!0}ge.prototype.xa=function(){this.g=!1};function Ce(c,y,_,A,G,ee){c.info(function(){if(c.g)if(ee)for(var me="",rt=ee.split("&"),Ft=0;Ft<rt.length;Ft++){var it=rt[Ft].split("=");if(1<it.length){var Jt=it[0];it=it[1];var Gt=Jt.split("_");me=2<=Gt.length&&Gt[1]=="type"?me+(Jt+"="+it+"&"):me+(Jt+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+y+`
`+_+`
`+me})}function _e(c,y,_,A,G,ee,me){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+y+`
`+_+`
`+ee+" "+me})}function Te(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+De(c,_)+(A?" "+A:"")})}function Ae(c,y){c.info(function(){return"TIMEOUT: "+y})}ge.prototype.info=function(){};function De(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<G.length;me++)G[me]=""}}}}return jn(_)}catch{return y}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xe;function ht(){}x(ht,Xi),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},Xe=new ht;function ot(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var Ke={},or={};function qt(c,y,_){c.L=1,c.v=Ja(qn(y)),c.m=_,c.P=!0,In(c,null)}function In(c,y){c.F=Date.now(),zn(c),c.A=qn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),ll(_.i,"t",A),c.C=0,_=c.j.J,c.h=new nt,c.g=ic(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ir(T(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Mr[0]=G.toString()),G=Mr);for(var ee=0;ee<G.length;ee++){var me=Hs(_,G[ee],A||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),M(),Ce(c.i,c.u,c.A,c.l,c.R,c.m)}ot.prototype.ca=function(c){c=c.target;const y=this.M;y&&fr(c)==3?y.j():this.Y(c)},ot.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=fr(this.g);var y=this.g.Ba();const Ei=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=Ei?M(3):M(2)),vn(this);var _=this.g.Z();this.X=_;t:if(an(this)){var A=Xu(this.g);c="";var G=A.length,ee=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Dn(this);var me="";break t}this.h.i=new m.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(ee&&y==G-1)});A.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,_e(this.i,this.u,this.A,this.l,this.R,Gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Ft=this.g;if((rt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(rt)){var it=rt;break t}}it=null}if(_=it)Te(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lt(this,_);else{this.o=!1,this.s=3,Y(12),Le(this),Dn(this);break e}}if(this.P){_=!0;let on;for(;!this.J&&this.C<me.length;)if(on=Lr(this,me),on==or){Gt==4&&(this.s=4,Y(14),_=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Ke){this.s=4,Y(15),Te(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else Te(this.i,this.l,on,null),Lt(this,on);if(an(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||me.length!=0||this.h.h||(this.s=1,Y(16),_=!1),this.o=this.o&&_,!_)Te(this.i,this.l,me,"[Invalid Chunked Response]"),Le(this),Dn(this);else if(0<me.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),os(Jt),Jt.M=!0,Y(11))}}else Te(this.i,this.l,me,null),Lt(this,me);Gt==4&&Le(this),this.o&&!this.J&&(Gt==4?tc(this.j,this):(this.o=!1,zn(this)))}else Cf(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Le(this),Dn(this)}}}catch{}finally{}};function an(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?or:(_=Number(y.substring(_,A)),isNaN(_)?Ke:(A+=1,A+_>y.length?or:(y=y.slice(A,A+_),c.C=A+_,y)))}ot.prototype.cancel=function(){this.J=!0,Le(this)};function zn(c){c.S=Date.now()+c.I,Ji(c,c.I)}function Ji(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=he(T(c.ba,c),y)}function vn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ot.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ae(this.i,this.A),this.L!=2&&(M(),Y(17)),Le(this),this.s=2,Dn(this)):Ji(this,this.S-c)};function Dn(c){c.j.G==0||c.J||tc(c.j,c)}function Le(c){vn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Pr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Lt(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||lr(_.h,c))){if(!c.K&&lr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Zs(_),Xs(_);else break e;dl(_),Y(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=he(T(_.Za,_),6e3));if(1>=Tt(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _i(_,11)}else if((c.K||_.g==c)&&Zs(_),!Z(y))for(G=_.Da.g.parse(y),y=0;y<G.length;y++){let it=G[y];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];const Jt=it[3];Jt!=null&&(_.la=Jt,_.j.info("VER="+_.la));const Gt=it[4];Gt!=null&&(_.Aa=Gt,_.j.info("SVER="+_.Aa));const Ei=it[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(A=1.5*Ei,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const on=c.g;if(on){const Gr=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var ee=A.h;ee.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(di(ee,ee.h),ee.h=null))}if(A.D){const pl=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(A.ya=pl,yt(A.I,A.D,pl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var me=c;if(A.qa=rc(A,A.J?A.ia:null,A.W),me.K){sn(A.h,me);var rt=me,Ft=A.L;Ft&&(rt.I=Ft),rt.B&&(vn(rt),zn(rt)),A.g=me}else Ju(A);0<_.i.length&&Ws(_)}else it[0]!="stop"&&it[0]!="close"||_i(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?_i(_,7):hl(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}M(4)}catch{}}var Hn=class{constructor(c,y){this.g=c,this.map=y}};function Mn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ur(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tt(c){return c.h?1:c.g?c.g.size:0}function lr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function di(c,y){c.g?c.g.add(y):c.h=y}function sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mn.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return B(c.i)}function wf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Fs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function al(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Fs(c),A=wf(c),G=A.length,ee=0;ee<G;ee++)y.call(void 0,A[ee],_&&_[ee],c)}var Wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Af(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),G=null;if(0<=A){var ee=c[_].substring(0,A);G=c[_].substring(A+1)}else ee=c[_];y(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,Za(this,c.j),this.o=c.o,this.g=c.g,ea(this,c.s),this.l=c.l;var y=c.i,_=new pi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),mi(this,_),this.m=c.m}else c&&(y=String(c).match(Wa))?(this.h=!1,Za(this,y[1]||"",!0),this.o=ur(y[2]||""),this.g=ur(y[3]||"",!0),ea(this,y[4]),this.l=ur(y[5]||"",!0),mi(this,y[6]||"",!0),this.m=ur(y[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(es(y,sl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(es(y,sl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(es(_,_.charAt(0)=="/"?Sf:ol,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",es(_,Gs)),c.join("")};function qn(c){return new Ut(c)}function Za(c,y,_){c.j=_?ur(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ea(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function mi(c,y,_){y instanceof pi?(c.i=y,Yu(c.i,c.h)):(_||(y=es(y,Rf)),c.i=new pi(y,c.h))}function yt(c,y,_){c.i.set(y,_)}function Ja(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ur(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function es(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ku),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ku(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,ol=/[#\?:]/g,Sf=/[#\?]/g,Rf=/[#\?@]/g,Gs=/#/g;function pi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cr(c){c.g||(c.g=new Map,c.h=0,c.i&&Af(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=pi.prototype,r.add=function(c,y){cr(this),this.i=null,c=Br(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function gi(c,y){cr(c),y=Br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function yi(c,y){return cr(c),y=Br(c,y),c.g.has(y)}r.forEach=function(c,y){cr(this),this.g.forEach(function(_,A){_.forEach(function(G){c.call(y,G,A,this)},this)},this)},r.na=function(){cr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const G=c[A];for(let ee=0;ee<G.length;ee++)_.push(y[A])}return _},r.V=function(c){cr(this);let y=[];if(typeof c=="string")yi(this,c)&&(y=y.concat(this.g.get(Br(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return cr(this),this.i=null,c=Br(this,c),yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ll(c,y,_){gi(c,y),0<_.length&&(c.i=null,c.g.set(Br(c,y),B(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const ee=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var G=ee;me[A]!==""&&(G+="="+encodeURIComponent(String(me[A]))),c.push(G)}}return this.i=c.join("&")};function Br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Yu(c,y){y&&!c.j&&(cr(c),c.i=null,c.g.forEach(function(_,A){var G=A.toLowerCase();A!=G&&(gi(this,A),ll(this,G,_))},c)),c.j=y}function ts(c,y){const _=new ge;if(m.Image){const A=new Image;A.onload=C(hr,_,"TestLoadImage: loaded",!0,y,A),A.onerror=C(hr,_,"TestLoadImage: error",!1,y,A),A.onabort=C(hr,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(hr,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Sr(c,y){const _=new ge,A=new AbortController,G=setTimeout(()=>{A.abort(),hr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(ee=>{clearTimeout(G),ee.ok?hr(_,"TestPingServer: ok",!0,y):hr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),hr(_,"TestPingServer: error",!1,y)})}function hr(c,y,_,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(_)}catch{}}function ns(){this.g=new ar}function jr(c,y,_){const A=_||"";try{al(c,function(G,ee){let me=G;g(G)&&(me=jn(G)),y.push(A+ee+"="+encodeURIComponent(me))})}catch(G){throw y.push(A+"type="+encodeURIComponent("_badmap")),G}}function ta(c){this.l=c.Ub||null,this.j=c.eb||!1}x(ta,Xi),ta.prototype.g=function(){return new vi(this.l,this.j)},ta.prototype.i=function(c){return function(){return c}}({});function vi(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(vi,ut),r=vi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Hr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?zr(this):Hr(this),this.readyState==3&&ul(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,zr(this))},r.Qa=function(c){this.g&&(this.response=c,zr(this))},r.ga=function(){this.g&&zr(this)};function zr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Hr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cl(c){let y="";return F(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Zt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=cl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):yt(c,y,_))}function ft(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ft,ut);var $s=/^https?$/i,rs=["POST","PUT"];r=ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xe.g(),this.v=this.o?fi(this.o):fi(Xe),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(ee){Qu(this,ee);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)_.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())_.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(rs,y,void 0))||A||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of _)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(c),this.u=!1}catch(ee){Qu(this,ee)}};function Qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ks(c),qr(c)}function Ks(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qr(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ys(this):this.bb())},r.bb=function(){Ys(this)};function Ys(c){if(c.h&&typeof h<"u"&&(!c.v[1]||fr(c)!=4||c.Z()!=2)){if(c.u&&fr(c)==4)Vt(c.Ea,0,c);else if(Fe(c,"readystatechange"),fr(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=me===0){var G=String(c.D).match(Wa)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),A=!$s.test(G?G.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var ee=2<fr(c)?c.g.statusText:""}catch{ee=""}c.l=ee+" ["+c.Z()+"]",Ks(c)}}finally{qr(c)}}}}function qr(c,y){if(c.g){is(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function fr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),hi(y)}};function Xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Cf(c){const y={};c=(c.g&&2<=fr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Z(c[A]))continue;var _=L(c[A]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ee=y[G]||[];y[G]=ee,ee.push(_)}P(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Qs(c){this.Aa=0,this.i=[],this.j=new ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,c),this.cb=as("retryDelaySeedMs",1e4,c),this.Wa=as("forwardChannelMaxRetries",2,c),this.wa=as("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mn(c&&c.concurrentRequestLimit),this.Da=new ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){Y(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=rc(this,null,this.W),Ws(this)};function hl(c){if(Wu(c),c.G==3){var y=c.U++,_=qn(c.I);if(yt(_,"SID",c.K),yt(_,"RID",y),yt(_,"TYPE","terminate"),ss(c,_),y=new ot(c,c.j,y),y.L=2,y.v=Ja(qn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zn(y)}nc(c)}function Xs(c){c.g&&(os(c),c.g.cancel(),c.g=null)}function Wu(c){Xs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Zs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ws(c){if(!Ur(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||O(),ve||(de(),ve=!0),Ue.add(y,c),c.B=0}}function If(c,y){return Tt(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=he(T(c.Ga,c,y),ml(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new ot(this,this.j,c);let ee=this.o;if(this.S&&(ee?(ee=S(ee),k(ee,this.S)):ee=this.S),this.m!==null||this.O||(G.H=ee,ee=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Zu(this,G,y),_=qn(this.I),yt(_,"RID",c),yt(_,"CVER",22),this.D&&yt(_,"X-HTTP-Session-Id",this.D),ss(this,_),ee&&(this.O?y="headers="+encodeURIComponent(String(cl(ee)))+"&"+y:this.m&&Zt(_,this.m,ee)),di(this.h,G),this.Ua&&yt(_,"TYPE","init"),this.P?(yt(_,"$req",y),yt(_,"SID","null"),G.T=!0,qt(G,_,null)):qt(G,_,y),this.G=2}}else this.G==3&&(c?fl(this,c):this.i.length==0||Ur(this.h)||fl(this))};function fl(c,y){var _;y?_=y.l:_=c.U++;const A=qn(c.I);yt(A,"SID",c.K),yt(A,"RID",_),yt(A,"AID",c.T),ss(c,A),c.m&&c.o&&Zt(A,c.m,c.o),_=new ot(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),di(c.h,_),qt(_,A,y)}function ss(c,y){c.H&&F(c.H,function(_,A){yt(y,A,_)}),c.l&&al({},function(_,A){yt(y,A,_)})}function Zu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?T(c.l.Na,c.l,c):null;e:{var G=c.i;let ee=-1;for(;;){const me=["count="+_];ee==-1?0<_?(ee=G[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let rt=!0;for(let Ft=0;Ft<_;Ft++){let it=G[Ft].g;const Jt=G[Ft].map;if(it-=ee,0>it)ee=Math.max(0,G[Ft].g-100),rt=!1;else try{jr(Jt,me,"req"+it+"_")}catch{A&&A(Jt)}}if(rt){A=me.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||O(),ve||(de(),ve=!0),Ue.add(y,c),c.v=0}}function dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=he(T(c.Fa,c),ml(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=he(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),Xs(this),ec(this))};function os(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ec(c){c.g=new ot(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=qn(c.qa);yt(y,"RID","rpc"),yt(y,"SID",c.K),yt(y,"AID",c.T),yt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(y,"TO",c.ja),yt(y,"TYPE","xmlhttp"),ss(c,y),c.m&&c.o&&Zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ja(qn(y)),_.m=null,_.P=!0,In(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Xs(this),dl(this),Y(19))};function Zs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function tc(c,y){var _=null;if(c.g==y){Zs(c),os(c),c.g=null;var A=2}else if(lr(c.h,y))_=y.D,sn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;A=Vr(),Fe(A,new ae(A,_)),Ws(c)}else Ju(c);else if(G=y.s,G==3||G==0&&0<y.X||!(A==1&&If(c,y)||A==2&&dl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),G){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function ml(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function _i(c,y){if(c.j.info("Error code "+y),y==2){var _=T(c.fb,c),A=c.Xa;const G=!A;A=new Ut(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Za(A,"https"),Ja(A),G?ts(A.toString(),_):Sr(A.toString(),_)}else Y(2);c.G=0,c.l&&c.l.sa(y),nc(c),Wu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function nc(c){if(c.G=0,c.ka=[],c.l){const y=il(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function rc(c,y,_){var A=_ instanceof Ut?qn(_):new Ut(_);if(A.g!="")y&&(A.g=y+"."+A.g),ea(A,A.s);else{var G=m.location;A=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var ee=new Ut(null);A&&Za(ee,A),y&&(ee.g=y),G&&ea(ee,G),_&&(ee.l=_),A=ee}return _=c.D,y=c.ya,_&&y&&yt(A,_,y),yt(A,"VER",c.la),ss(c,A),A}function ic(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ft(new ta({eb:_})):new ft(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}r=ac.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Js(){}Js.prototype.g=function(c,y){return new Nn(c,y)};function Nn(c,y){ut.call(this),this.g=new Qs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Fr(this)}x(Nn,ut),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){hl(this.g)},Nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);y.i.push(new Hn(y.Ya++,c)),y.G==3&&Ws(y)},Nn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,Nn.aa.N.call(this)};function sc(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(sc,Ar);function oc(){Wi.call(this),this.status=1}x(oc,Wi);function Fr(c){this.g=c}x(Fr,ac),Fr.prototype.ua=function(){Fe(this.g,"a")},Fr.prototype.ta=function(c){Fe(this.g,new sc(c))},Fr.prototype.sa=function(c){Fe(this.g,new oc)},Fr.prototype.ra=function(){Fe(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,vb=function(){return new Js},yb=function(){return Vr()},gb=Cn,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,wh=be,Oe.COMPLETE="complete",pb=Oe,Xa.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,hu=Xa,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,mb=ft}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",$0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Op("@firebase/firestore");function Oo(){return Os.logLevel}function ye(r,...e){if(Os.logLevel<=et.DEBUG){const n=e.map(Fp);Os.debug(`Firestore (${Jo}): ${r}`,...n)}}function Hi(r,...e){if(Os.logLevel<=et.ERROR){const n=e.map(Fp);Os.error(`Firestore (${Jo}): ${r}`,...n)}}function qo(r,...e){if(Os.logLevel<=et.WARN){const n=e.map(Fp);Os.warn(`Firestore (${Jo}): ${r}`,...n)}}function Fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,_b(r,a,n)}function _b(r,e,n){let a=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Hi(a),new Error(a)}function dt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||_b(e,o,a)}function je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class pN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gN{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ka,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ka)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(dt(typeof a.accessToken=="string",31837,{l:a}),new Eb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class yN{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vN{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new yN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _N{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const a=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=EN(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function $e(r,e){return r<e?-1:r>e?1:0}function rp(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return $e(a,o);{const u=Tb(),h=TN(u.encode(Y0(r,n)),u.encode(Y0(e,n)));return h!==0?h:$e(a,o)}}n+=a>65535?2:1}return $e(r.length,e.length)}function Y0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function TN(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return $e(r[n],e[n]);return $e(r.length,e.length)}function Fo(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-62135596800,X0=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*X0);return new Xt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q0)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X0}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Xt(0,0))}static max(){return new Be(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__name__";class Zr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ve(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Zr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return $e(e.length,n.length)}static compareSegments(e,n){const a=Zr.isNumericId(e),o=Zr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Zr.extractNumericId(e).compare(Zr.extractNumericId(n)):rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pa.fromString(e.substring(4,e.length-2))}}class Nt extends Zr{construct(e,n,a){return new Nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const bN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Zr{construct(e,n,a){return new dn(e,n,a)}static isValidIdentifier(e){return bN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new dn([W0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ie(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ie(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new Ie(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Nt.fromString(e))}static fromName(e){return new xe(Nt.fromString(e).popFirst(5))}static empty(){return new xe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function wN(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(a===1e9?new Xt(n+1,0):new Xt(n,a));return new Ua(o,xe.empty(),e)}function AN(r){return new Ua(r.readTime,r.key,Su)}class Ua{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ua(Be.min(),xe.empty(),Su)}static max(){return new Ua(Be.max(),xe.empty(),Su)}}function SN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(r.documentKey,e.documentKey),n!==0?n:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r){if(r.code!==ce.FAILED_PRECONDITION||r.message!==RN)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,a)=>{n(e)})}static reject(e){return new le((n,a)=>{a(e)})}static waitFor(e){return new le((n,a)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>a(p))}),h=!0,u===o&&n()})}static or(e){let n=le.resolve(!1);for(const a of e)n=n.next(o=>o?le.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new le((a,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{h[g]=v,++m,m===u&&a(h)},v=>o(v))}})}static doWhile(e,n){return new le((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function IN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}of.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function lf(r){return r==null}function zh(r){return r===0&&1/r==-1/0}function DN(r){return typeof r=="number"&&Number.isInteger(r)&&!zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="";function NN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Z0(e)),e=xN(r.get(n),e);return Z0(e)}function xN(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case wb:n+="";break;default:n+=u}}return n}function Z0(r){return r+wb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function $a(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Ab(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new fn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(e){return new eE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class eE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new er([])}unionWith(e){let n=new Wt(dn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Sb("Invalid base64 string: "+u):u}}(e);return new pn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const ON=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(r){if(dt(!!r,39018),typeof r=="string"){let e=0;const n=ON.exec(r);if(dt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ja(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="server_timestamp",Cb="__type__",Ib="__previous_value__",Db="__local_write_time__";function $p(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cb])===null||n===void 0?void 0:n.stringValue)===Rb}function uf(r){const e=r.mapValue.fields[Ib];return $p(e)?uf(e):e}function Ru(r){const e=Ba(r.mapValue.fields[Db].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,a,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Hh="(default)";class Cu{constructor(e,n){this.projectId=e,this.database=n||Hh}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="__type__",PN="__max__",dh={mapValue:{}},xb="__vector__",qh="value";function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$p(r)?4:VN(r)?9007199254740991:kN(r)?10:11:Ve(28295,{value:r})}function ai(r,e){if(r===e)return!0;const n=za(r);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ru(r).isEqual(Ru(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ba(o.timestampValue),m=Ba(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ja(o.bytesValue).isEqual(ja(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Pt(o.doubleValue),m=Pt(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return Fo(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(J0(h)!==J0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ai(h[p],m[p])))return!1;return!0}(r,e);default:return Ve(52216,{left:r})}}function Iu(r,e){return(r.values||[]).find(n=>ai(n,e))!==void 0}function Go(r,e){if(r===e)return 0;const n=za(r),a=za(e);if(n!==a)return $e(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Pt(u.integerValue||u.doubleValue),p=Pt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return tE(r.timestampValue,e.timestampValue);case 4:return tE(Ru(r),Ru(e));case 5:return rp(r.stringValue,e.stringValue);case 6:return function(u,h){const m=ja(u),p=ja(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=$e(m[g],p[g]);if(v!==0)return v}return $e(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=$e(Pt(u.latitude),Pt(h.latitude));return m!==0?m:$e(Pt(u.longitude),Pt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return nE(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,v;const b=u.fields||{},T=h.fields||{},C=(m=b[qh])===null||m===void 0?void 0:m.arrayValue,x=(p=T[qh])===null||p===void 0?void 0:p.arrayValue,B=$e(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:nE(C,x)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===dh.mapValue&&h===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(h===dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const T=rp(p[b],v[b]);if(T!==0)return T;const C=Go(m[p[b]],g[v[b]]);if(C!==0)return C}return $e(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Ve(23264,{Pe:n})}}function tE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const n=Ba(r),a=Ba(e),o=$e(n.seconds,a.seconds);return o!==0?o:$e(n.nanos,a.nanos)}function nE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Go(n[o],a[o]);if(u)return u}return $e(n.length,a.length)}function $o(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Ba(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ja(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return xe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=ip(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${ip(n.fields[h])}`;return o+"}"}(r.mapValue):Ve(61005,{value:r})}function Ah(r){switch(za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(r);return e?16+Ah(e):16;case 5:return 2*r.stringValue.length;case 6:return ja(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Ah(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return $a(a.fields,(u,h)=>{o+=u.length+Ah(h)}),o}(r.mapValue);default:throw Ve(13486,{value:r})}}function ap(r){return!!r&&"integerValue"in r}function Kp(r){return!!r&&"arrayValue"in r}function rE(r){return!!r&&"nullValue"in r}function iE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sh(r){return!!r&&"mapValue"in r}function kN(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nb])===null||n===void 0?void 0:n.stringValue)===xb}function gu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return $a(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=gu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function VN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=dn.emptyPath(),a={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=gu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){$a(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new Un(gu(this.value))}}function Ob(r){const e=[];return $a(r.fields,(n,a)=>{const o=new dn([n]);if(Sh(a)){const u=Ob(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,a,o,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new wn(e,0,Be.min(),Be.min(),Be.min(),Un.empty(),0)}static newFoundDocument(e,n,a,o){return new wn(e,1,n,Be.min(),a,o,0)}static newNoDocument(e,n){return new wn(e,2,n,Be.min(),Be.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Be.min(),Be.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function aE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=xe.comparator(xe.fromName(h.referenceValue),n.key):a=Go(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function sE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ai(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function LN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{}class Qt extends Mb{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new BN(e,n,a):n==="array-contains"?new HN(e,a):n==="in"?new qN(e,a):n==="not-in"?new FN(e,a):n==="array-contains-any"?new GN(e,a):new Qt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new jN(e,a):new zN(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Go(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends Mb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new si(e,n)}matches(e){return Pb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Pb(r){return r.op==="and"}function kb(r){return UN(r)&&Pb(r)}function UN(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function sp(r){if(r instanceof Qt)return r.field.canonicalString()+r.op.toString()+$o(r.value);if(kb(r))return r.filters.map(e=>sp(e)).join(",");{const e=r.filters.map(n=>sp(n)).join(",");return`${r.op}(${e})`}}function Vb(r,e){return r instanceof Qt?function(a,o){return o instanceof Qt&&a.op===o.op&&a.field.isEqual(o.field)&&ai(a.value,o.value)}(r,e):r instanceof si?function(a,o){return o instanceof si&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,m)=>u&&Vb(h,o.filters[m]),!0):!1}(r,e):void Ve(19439)}function Lb(r){return r instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(r):r instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(Lb).join(" ,")+"}"}(r):"Filter"}class BN extends Qt{constructor(e,n,a){super(e,n,a),this.key=xe.fromName(a.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class jN extends Qt{constructor(e,n){super(e,"in",n),this.keys=Ub("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zN extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=Ub("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ub(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>xe.fromName(a.referenceValue))}class HN extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&Iu(n.arrayValue,this.value)}}class qN extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class FN extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Iu(this.value.arrayValue,n)}}class GN extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Iu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n=null,a=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function oE(r,e=null,n=[],a=[],o=null,u=null,h=null){return new $N(r,e,n,a,o,u,h)}function Yp(r){const e=je(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>sp(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>$o(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>$o(a)).join(",")),e.Ie=n}return e.Ie}function Qp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Vb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!sE(r.startAt,e.startAt)&&sE(r.endAt,e.endAt)}function op(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KN(r,e,n,a,o,u,h,m){return new cf(r,e,n,a,o,u,h,m)}function Xp(r){return new cf(r)}function lE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YN(r){return r.collectionGroup!==null}function yu(r){const e=je(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Wt(dn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Gh(u,a))}),n.has(dn.keyField().canonicalString())||e.Ee.push(new Gh(dn.keyField(),a))}return e.Ee}function ni(r){const e=je(r);return e.de||(e.de=QN(e,yu(r))),e.de}function QN(r,e){if(r.limitType==="F")return oE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Gh(o.field,u)});const n=r.endAt?new Fh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Fh(r.startAt.position,r.startAt.inclusive):null;return oE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function lp(r,e,n){return new cf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hf(r,e){return Qp(ni(r),ni(e))&&r.limitType===e.limitType}function Bb(r){return`${Yp(ni(r))}|lt:${r.limitType}`}function Mo(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>Lb(o)).join(", ")}]`),lf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>$o(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>$o(o)).join(",")),`Target(${a})`}(ni(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):xe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of yu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,m,p){const g=aE(h,m,p);return h.inclusive?g<=0:g<0}(a.startAt,yu(a),o)||a.endAt&&!function(h,m,p){const g=aE(h,m,p);return h.inclusive?g>=0:g>0}(a.endAt,yu(a),o))}(r,e)}function XN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jb(r){return(e,n)=>{let a=!1;for(const o of yu(r)){const u=WN(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function WN(r,e,n){const a=r.field.isKeyField()?xe.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Go(p,g):Ve(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return Ab(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Ct(xe.comparator);function qi(){return ZN}const zb=new Ct(xe.comparator);function fu(...r){let e=zb;for(const n of r)e=e.insert(n.key,n);return e}function Hb(r){let e=zb;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Rs(){return vu()}function qb(){return vu()}function vu(){return new js(r=>r.toString(),(r,e)=>r.isEqual(e))}const JN=new Ct(xe.comparator),ex=new Wt(xe.comparator);function tt(...r){let e=ex;for(const n of r)e=e.add(n);return e}const tx=new Wt($e);function nx(){return tx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function Fb(r){return{integerValue:""+r}}function rx(r,e){return DN(e)?Fb(e):Wp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function ix(r,e,n){return r instanceof $h?function(o,u){const h={fields:{[Cb]:{stringValue:Rb},[Db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$p(u)&&(u=uf(u)),u&&(h.fields[Ib]=u),{mapValue:h}}(n,e):r instanceof Du?$b(r,e):r instanceof Nu?Kb(r,e):function(o,u){const h=Gb(o,u),m=uE(h)+uE(o.Re);return ap(h)&&ap(o.Re)?Fb(m):Wp(o.serializer,m)}(r,e)}function ax(r,e,n){return r instanceof Du?$b(r,e):r instanceof Nu?Kb(r,e):n}function Gb(r,e){return r instanceof Kh?function(a){return ap(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class $h extends df{}class Du extends df{constructor(e){super(),this.elements=e}}function $b(r,e){const n=Yb(e);for(const a of r.elements)n.some(o=>ai(o,a))||n.push(a);return{arrayValue:{values:n}}}class Nu extends df{constructor(e){super(),this.elements=e}}function Kb(r,e){let n=Yb(e);for(const a of r.elements)n=n.filter(o=>!ai(o,a));return{arrayValue:{values:n}}}class Kh extends df{constructor(e,n){super(),this.serializer=e,this.Re=n}}function uE(r){return Pt(r.integerValue||r.doubleValue)}function Yb(r){return Kp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function sx(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Du&&o instanceof Du||a instanceof Nu&&o instanceof Nu?Fo(a.elements,o.elements,ai):a instanceof Kh&&o instanceof Kh?ai(a.Re,o.Re):a instanceof $h&&o instanceof $h}(r.transform,e.transform)}class ox{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function Qb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wb(r.key,ri.none()):new qu(r.key,r.data,ri.none());{const n=r.data,a=Un.empty();let o=new Wt(dn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Ka(r.key,a,new er(o.toArray()),ri.none())}}function lx(r,e,n){r instanceof qu?function(o,u,h){const m=o.value.clone(),p=hE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ka?function(o,u,h){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=hE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Xb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function _u(r,e,n,a){return r instanceof qu?function(u,h,m,p){if(!Rh(u.precondition,h))return m;const g=u.value.clone(),v=fE(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Ka?function(u,h,m,p){if(!Rh(u.precondition,h))return m;const g=fE(u.fieldTransforms,p,h),v=h.data;return v.setAll(Xb(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,a):function(u,h,m){return Rh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function ux(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=Gb(a.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(a.field,u))}return n||null}function cE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Fo(a,o,(u,h)=>sx(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class qu extends mf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ka extends mf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Xb(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function hE(r,e,n){const a=new Map;dt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);a.set(u.field,ax(h,m,n[o]))}return a}function fE(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,ix(u,h,e))}return a}class Wb extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cx extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&lx(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=_u(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=_u(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=qb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Qb(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Be.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(n,a)=>cE(n,a))&&Fo(this.baseMutations,e.baseMutations,(n,a)=>cE(n,a))}}class Zp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){dt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return JN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Zp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,st;function mx(r){switch(r){case ce.OK:return Ve(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ve(15467,{code:r})}}function Zb(r){if(r===void 0)return Hi("GRPC error has no .code"),ce.UNKNOWN;switch(r){case zt.OK:return ce.OK;case zt.CANCELLED:return ce.CANCELLED;case zt.UNKNOWN:return ce.UNKNOWN;case zt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case zt.INTERNAL:return ce.INTERNAL;case zt.UNAVAILABLE:return ce.UNAVAILABLE;case zt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case zt.NOT_FOUND:return ce.NOT_FOUND;case zt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case zt.ABORTED:return ce.ABORTED;case zt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case zt.DATA_LOSS:return ce.DATA_LOSS;default:return Ve(39323,{code:r})}}(st=zt||(zt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Pa([4294967295,4294967295],0);function dE(r){const e=Tb().encode(r),n=new db;return n.update(e),new Uint8Array(n.digest())}function mE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Pa([n,a],0),new Pa([o,u],0)]}class Jp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new du(`Invalid padding: ${n}`);if(a<0)throw new du(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new du(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Pa.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(Pa.fromNumber(a)));return o.compare(px)===1&&(o=new Pa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=dE(e),[a,o]=mE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(a,o,u);if(!this.Se(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Jp(u,o,n);return a.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const n=dE(e),[a,o]=mE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(a,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new pf(Be.min(),o,new Ct($e),qi(),tt())}}class Fu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Fu(a,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class Jb{constructor(e,n){this.targetId=e,this.Ce=n}}class e1{constructor(e,n,a=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class pE{constructor(){this.Fe=0,this.Me=gE(),this.xe=pn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),n=tt(),a=tt();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ve(38017,{changeType:u})}}),new Fu(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=gE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class gx{constructor(e){this.ze=e,this.je=new Map,this.He=qi(),this.Je=mh(),this.Ye=mh(),this.Ze=new Ct($e)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(op(u))if(a===0){const h=new xe(u.path);this.tt(n,h,wn.newNoDocument(h,Be.min()))}else dt(a===1,20013,{expectedCount:a});else{const h=this.ut(n);if(h!==a){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ja(a).toUint8Array()}catch(p){if(p instanceof Sb)return qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(h,o,u)}catch(p){return qo(p instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&op(m.target)){const p=new xe(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,wn.newNoDocument(p,e))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let a=tt();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new pf(e,n,this.Ze,this.He,a);return this.He=qi(),this.Je=mh(),this.Ye=mh(),this.Ze=new Ct($e),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new pE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Wt($e),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Wt($e),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new pE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function mh(){return new Ct(xe.comparator)}function gE(){return new Ct(xe.comparator)}const yx={asc:"ASCENDING",desc:"DESCENDING"},vx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_x={and:"AND",or:"OR"};class Ex{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(r,e){return r.useProto3Json||lf(e)?e:{value:e}}function Yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Tx(r,e){return Yh(r,e.toTimestamp())}function ii(r){return dt(!!r,49232),Be.fromTimestamp(function(n){const a=Ba(n);return new Xt(a.seconds,a.nanos)}(r))}function eg(r,e){return cp(r,e).canonicalString()}function cp(r,e){const n=function(o){return new Nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function n1(r){const e=Nt.fromString(r);return dt(o1(e),10190,{key:e.toString()}),e}function hp(r,e){return eg(r.databaseId,e.path)}function Lm(r,e){const n=n1(e);if(n.get(1)!==r.databaseId.projectId)throw new Ie(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ie(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new xe(i1(n))}function r1(r,e){return eg(r.databaseId,e)}function bx(r){const e=n1(r);return e.length===4?Nt.emptyPath():i1(e)}function fp(r){return new Nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function i1(r){return dt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yE(r,e,n){return{name:hp(r,e),fields:n.value.mapValue.fields}}function wx(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(dt(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(dt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?ce.UNKNOWN:Zb(g.code);return new Ie(v,g.message||"")}(h);n=new e1(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Lm(r,a.document.name),u=ii(a.document.updateTime),h=a.document.createTime?ii(a.document.createTime):Be.min(),m=new Un({mapValue:{fields:a.document.fields}}),p=wn.newFoundDocument(o,u,h,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new Ch(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Lm(r,a.document),u=a.readTime?ii(a.readTime):Be.min(),h=wn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Ch([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Lm(r,a.document),u=a.removedTargetIds||[];n=new Ch([],u,o,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new dx(o,u),m=a.targetId;n=new Jb(m,h)}}return n}function Ax(r,e){let n;if(e instanceof qu)n={update:yE(r,e.key,e.value)};else if(e instanceof Wb)n={delete:hp(r,e.key)};else if(e instanceof Ka)n={update:yE(r,e.key,e.data),updateMask:Mx(e.fieldMask)};else{if(!(e instanceof cx))return Ve(16599,{ft:e.type});n={verify:hp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const m=h.transform;if(m instanceof $h)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Nu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Ve(20930,{transform:h.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Tx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve(27497)}(r,e.precondition)),n}function Sx(r,e){return r&&r.length>0?(dt(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?ii(o.updateTime):ii(u);return h.isEqual(Be.min())&&(h=ii(u)),new ox(h,o.transformResults||[])}(n,e))):[]}function Rx(r,e){return{documents:[r1(r,e.path)]}}function Cx(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=r1(r,o);const u=function(g){if(g.length!==0)return s1(si.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Po(T.field),direction:Nx(T.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=up(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function Ix(r){let e=bx(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){dt(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(b){const T=a1(b);return T instanceof si&&kb(T)?T.getFilters():[T]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(T=>function(x){return new Gh(ko(x.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(b){let T;return T=typeof b=="object"?b.value:b,lf(T)?null:T}(n.limit));let p=null;n.startAt&&(p=function(b){const T=!!b.before,C=b.values||[];return new Fh(C,T)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const T=!b.before,C=b.values||[];return new Fh(C,T)}(n.endAt)),KN(e,o,h,u,m,"F",p,g)}function Dx(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ko(n.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ko(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ko(n.unaryFilter.field);return Qt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(r):r.fieldFilter!==void 0?function(n){return Qt.create(ko(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(a=>a1(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(r):Ve(30097,{filter:r})}function Nx(r){return yx[r]}function xx(r){return vx[r]}function Ox(r){return _x[r]}function Po(r){return{fieldPath:r.canonicalString()}}function ko(r){return dn.fromServerFormat(r.fieldPath)}function s1(r){return r instanceof Qt?function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(rE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(rE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:xx(n.op),value:n.value}}}(r):r instanceof si?function(n){const a=n.getFilters().map(o=>s1(o));return a.length===1?a[0]:{compositeFilter:{op:Ox(n.op),filters:a}}}(r):Ve(54877,{filter:r})}function Mx(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function o1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,a,o,u=Be.min(),h=Be.min(),m=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.wt=e}}function kx(r){const e=Ix({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.Cn=new Lx}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Ua.min())}updateCollectionGroup(e,n,a){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class Lx{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Wt(Nt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Wt(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l1=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(l1,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ko(0)}static lr(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="LruGarbageCollector",Ux=1048576;function EE([r,e],[n,a]){const o=$e(r,n);return o===0?$e(e,a):o}class Bx{constructor(e){this.Er=e,this.buffer=new Wt(EE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();EE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jx{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(_E,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?ye(_E,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.mr(3e5)})}}class zx{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return le.resolve(of.le);const a=new Bx(n);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(vE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,m=Date.now(),this.removeTargets(e,a,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),Oo()<=et.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function Hx(r,e){return new zx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.changes=new js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?le.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&_u(a.mutation,o,er.empty(),Xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,tt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=tt()){const o=Rs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let h=fu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=Rs();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,tt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,a,o){let u=qi();const h=vu(),m=function(){return vu()}();return n.forEach((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ka)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),_u(v.mutation,g,v.mutation.getFieldMask(),Xt.now())):h.set(g.key,er.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>{var b;return m.set(g,new Fx(v,(b=h.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const a=vu();let o=new Ct((h,m)=>h-m),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||er.empty();v=m.applyToLocalView(g,v),a.set(p,v);const b=(o.get(m.batchId)||tt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=qb();v.forEach(T=>{if(!u.has(T)){const C=Qb(n.get(T),a.get(T));C!==null&&b.set(T,C),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return le.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):le.resolve(Rs());let m=Su,p=u;return h.next(g=>le.forEach(g,(v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,tt())).next(v=>({batchId:m,changes:Hb(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(a=>{let o=fu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=fu();return this.indexManager.getCollectionParents(e,u).next(m=>le.forEach(m,p=>{const g=function(b,T){return new cf(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((b,T)=>{h=h.insert(b,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,wn.newInvalidDocument(v)))});let m=fu();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&_u(v.mutation,g,er.empty(),Xt.now()),ff(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return le.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:kx(o.bundledQuery),readTime:ii(o.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.overlays=new Ct(xe.comparator),this.Qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Rs();return le.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.bt(e,n,u)}),le.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),le.resolve()}getOverlaysForCollection(e,n,a){const o=Rs(),u=n.length+1,h=new xe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Ct((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=Rs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Rs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return le.resolve(m)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new fx(n,a));let u=this.Qr.get(n);u===void 0&&(u=tt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.$r=new Wt(rn.Ur),this.Kr=new Wt(rn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new rn(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new rn(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new xe(new Nt([])),a=new rn(n,e),o=new rn(n,e+1),u=[];return this.Kr.forEachInRange([a,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new xe(new Nt([])),a=new rn(n,e),o=new rn(n,e+1);let u=tt();return this.Kr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new rn(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return xe.comparator(e.key,n.key)||$e(e.Zr,n.Zr)}static Wr(e,n){return $e(e.Zr,n.Zr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Wt(rn.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new hx(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,n){return le.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Gp:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],h=>{const m=this.ei(h.Zr);u.push(m)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Wt($e);return n.forEach(o=>{const u=new rn(o,0),h=new rn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{a=a.add(m.Zr)})}),le.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;xe.isDocumentKey(u)||(u=u.child(""));const h=new rn(new xe(u),0);let m=new Wt($e);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),le.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){dt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return le.forEach(n.mutations,o=>{const u=new rn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new rn(n,0),o=this.Xr.firstAfterOrEqual(a);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.ii=e,this.docs=function(){return new Ct(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return le.resolve(a?a.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let a=qi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():wn.newInvalidDocument(o))}),le.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=qi();const h=n.path,m=new xe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||SN(AN(v),a)<=0||(o.has(v.key)||ff(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ve(9500)}si(e,n){return le.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new Wx(this)}getSize(e){return le.resolve(this.size)}}class Wx extends qx{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),le.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.persistence=e,this.oi=new js(n=>Yp(n),Qp),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this._i=0,this.ai=new tg,this.targetCount=0,this.ui=Ko.cr()}forEachTarget(e,n){return this.oi.forEach((a,o)=>n(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),le.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Tr(n),le.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return le.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),le.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return le.resolve(a)}containsKey(e,n){return le.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.ci={},this.overlays={},this.li=new of(0),this.hi=!1,this.hi=!0,this.Pi=new Yx,this.referenceDelegate=e(this),this.Ti=new Zx(this),this.indexManager=new Vx,this.remoteDocumentCache=function(o){return new Xx(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new Px(n),this.Ei=new $x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new Qx(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){ye("MemoryPersistence","Starting transaction:",e);const o=new Jx(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return le.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class Jx extends CN{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Vi=new tg,this.mi=null}static fi(e){return new ng(e)}get gi(){if(this.mi)return this.mi;throw Ve(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),le.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,a=>{const o=xe.fromPath(a);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Be.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return le.or([()=>le.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.yi=new js(a=>NN(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Hx(this,n)}static fi(e,n){return new Qh(e,n)}di(){}Ai(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}Sr(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return le.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(u=>u?le.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,n).next(m=>{m||(a++,u.removeEntry(h,Be.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),le.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}Dr(e,n,a){return le.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return le.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ds=a,this.As=o}static Rs(e,n){let a=tt(),o=tt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return NC()?8:IN(An())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ws(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Ss(e,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new eO;return this.bs(e,n,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,h,m.size)})}).next(()=>u.result)}Ds(e,n,a,o){return a.documentReadCount<this.gs?(Oo()<=et.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(Oo()<=et.DEBUG&&ye("QueryEngine","Query:",Mo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(Oo()<=et.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):le.resolve())}ws(e,n){if(lE(n))return le.resolve(null);let a=ni(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),a=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=tt(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,h,p.readTime)?this.ws(e,lp(n,null,"F")):this.Fs(e,g,n,p)}))})))}Ss(e,n,a,o){return lE(n)||o.isEqual(Be.min())?le.resolve(null):this.ys.getDocuments(e,a).next(u=>{const h=this.vs(n,u);return this.Cs(n,h,a,o)?le.resolve(null):(Oo()<=et.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(n)),this.Fs(e,h,n,wN(o,Su)).next(m=>m))})}vs(e,n){let a=new Wt(jb(e));return n.forEach((o,u)=>{ff(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,a){return Oo()<=et.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.ys.getDocumentsMatchingQuery(e,n,Ua.min(),a)}Fs(e,n,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",nO=3e8;class rO{constructor(e,n,a,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new Ct($e),this.Os=new js(u=>Yp(u),Qp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gx(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function iO(r,e,n,a){return new rO(r,e,n,a)}async function c1(r,e){const n=je(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],m=[];let p=tt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function aO(r,e){const n=je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const b=g.batch,T=b.keys();let C=le.resolve();return T.forEach(x=>{C=C.next(()=>v.getEntry(p,x)).next(B=>{const U=g.docVersions.get(x);dt(U!==null,48541),B.version.compareTo(U)<0&&(b.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=tt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function h1(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function sO(r,e){const n=je(r),a=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((v,b)=>{const T=o.get(b);if(!T)return;m.push(n.Ti.removeMatchingKeys(u,v.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(u,v.addedDocuments,b)));let C=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(pn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,a)),o=o.insert(b,C),function(B,U,H){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=nO?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,C,v)&&m.push(n.Ti.updateTargetData(u,C))});let p=qi(),g=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(oO(u,h,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!a.isEqual(Be.min())){const v=n.Ti.getLastRemoteSnapshotVersion(u).next(b=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(v)}return le.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function oO(r,e,n){let a=tt(),o=tt();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=qi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ye(ig,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function lO(r,e){const n=je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function uO(r,e){const n=je(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ti.getTargetData(a,e).next(u=>u?(o=u,le.resolve(o)):n.Ti.allocateTargetId(a).next(h=>(o=new Na(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function dp(r,e,n){const a=je(r),o=a.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!tl(h))throw h;ye(ig,`Failed to update sequence numbers for target ${e}: ${h}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function TE(r,e,n){const a=je(r);let o=Be.min(),u=tt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const b=je(p),T=b.Os.get(v);return T!==void 0?le.resolve(b.xs.get(T)):b.Ti.getTargetData(g,v)}(a,h,ni(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(h,e,n?o:Be.min(),n?u:tt())).next(m=>(cO(a,XN(e),m),{documents:m,$s:u})))}function cO(r,e,n){let a=r.Ns.get(e)||Be.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Ns.set(e,a)}class bE{constructor(){this.activeTargetIds=nx()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hO{constructor(){this.xo=new bE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new bE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class AE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(wE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function mp(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",dO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===Hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,n,a,o,u){const h=mp(),m=this.jo(e,n.toUriEncodedString());ye(Um,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),v=Vu(g);return this.Jo(e,m,p,a,v).then(b=>(ye(Um,`Received RPC '${e}' ${h}: `,b),b),b=>{throw qo(Um,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",a),b})}Yo(e,n,a,o,u,h){return this.zo(e,n,a,o,u)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const a=dO[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class gO extends mO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const h=mp();return new Promise((m,p)=>{const g=new mb;g.setWithCredentials(!0),g.listenOnce(pb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case wh.NO_ERROR:const b=g.getResponseJson();ye(Tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case wh.TIMEOUT:ye(Tn,`RPC '${e}' ${h} timed out`),p(new Ie(ce.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const T=g.getStatus();if(ye(Tn,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C==null?void 0:C.error;if(x&&x.status&&x.message){const B=function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Z)>=0?Z:ce.UNKNOWN}(x.status);p(new Ie(B,x.message))}else p(new Ie(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ie(ce.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(Tn,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ye(Tn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,a,15)})}T_(e,n,a){const o=mp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=vb(),m=yb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=u.join("");ye(Tn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);let T=!1,C=!1;const x=new pO({Zo:U=>{C?ye(Tn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(T||(ye(Tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),ye(Tn,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Xo:()=>b.close()}),B=(U,H,Z)=>{U.listen(H,te=>{try{Z(te)}catch(fe){setTimeout(()=>{throw fe},0)}})};return B(b,hu.EventType.OPEN,()=>{C||(ye(Tn,`RPC '${e}' stream ${o} transport opened.`),x.__())}),B(b,hu.EventType.CLOSE,()=>{C||(C=!0,ye(Tn,`RPC '${e}' stream ${o} transport closed`),x.u_())}),B(b,hu.EventType.ERROR,U=>{C||(C=!0,qo(Tn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),x.u_(new Ie(ce.UNAVAILABLE,"The operation could not be completed")))}),B(b,hu.EventType.MESSAGE,U=>{var H;if(!C){const Z=U.data[0];dt(!!Z,16349);const te=Z,fe=(te==null?void 0:te.error)||((H=te[0])===null||H===void 0?void 0:H.error);if(fe){ye(Tn,`RPC '${e}' stream ${o} received error:`,fe);const se=fe.status;let F=function(R){const k=zt[R];if(k!==void 0)return Zb(k)}(se),P=fe.message;F===void 0&&(F=ce.INTERNAL,P="Unknown error status: "+se+" with message "+fe.message),C=!0,x.u_(new Ie(F,P)),b.close()}else ye(Tn,`RPC '${e}' stream ${o} received:`,Z),x.c_(Z)}}),B(m,gb.STAT_EVENT,U=>{U.stat===np.PROXY?ye(Tn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===np.NOPROXY&&ye(Tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){return new Ex(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,a=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=a,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-a);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class d1{constructor(e,n,a,o,u,h,m,p){this.xi=e,this.y_=a,this.w_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new f1(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.S_===n&&this.K_(a,o)},a=>{e(()=>{const o=new Ie(ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(o)})})}K_(e,n){const a=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.W_(o))}),this.stream.onMessage(o=>{a(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ye(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ye(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yO extends d1{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=wx(this.serializer,e),a=function(u){if(!("targetChange"in u))return Be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Be.min():h.readTime?ii(h.readTime):Be.min()}(e);return this.listener.j_(n,a)}H_(e){const n={};n.database=fp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=op(p)?{documents:Rx(u,p)}:{query:Cx(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=t1(u,h.resumeToken);const g=up(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Be.min())>0){m.readTime=Yh(u,h.snapshotVersion.toTimestamp());const g=up(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=Dx(this.serializer,e);a&&(n.labels=a),this.L_(n)}J_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.L_(n)}}class vO extends d1{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=Sx(e.writeResults,e.commitTime),a=ii(e.commitTime);return this.listener.ea(a,n)}ta(){const e={};e.database=fp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>Ax(this.serializer,a))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{}class EO extends _O{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.na=!1}ra(){if(this.na)throw new Ie(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,cp(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ce.UNKNOWN,u.toString())})}Yo(e,n,a,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,cp(n,a),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ie(ce.UNKNOWN,h.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class TO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Hi(n),this.oa=!1):ye("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class bO{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(h=>{a.enqueueAndForget(async()=>{zs(this)&&(ye(Ms,"Restarting streams for network reachability change."),await async function(p){const g=je(p);g.Ta.add(4),await Gu(g),g.da.set("Unknown"),g.Ta.delete(4),await yf(g)}(this))})}),this.da=new TO(a,o)}}async function yf(r){if(zs(r))for(const e of r.Ia)await e(!0)}async function Gu(r){for(const e of r.Ia)await e(!1)}function m1(r,e){const n=je(r);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),lg(n)?og(n):nl(n).M_()&&sg(n,e))}function ag(r,e){const n=je(r),a=nl(n);n.Pa.delete(e),a.M_()&&p1(n,e),n.Pa.size===0&&(a.M_()?a.N_():zs(n)&&n.da.set("Unknown"))}function sg(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(r).H_(e)}function p1(r,e){r.Aa.Ke(e),nl(r).J_(e)}function og(r){r.Aa=new gx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),nl(r).start(),r.da._a()}function lg(r){return zs(r)&&!nl(r).F_()&&r.Pa.size>0}function zs(r){return je(r).Ta.size===0}function g1(r){r.Aa=void 0}async function wO(r){r.da.set("Online")}async function AO(r){r.Pa.forEach((e,n)=>{sg(r,e)})}async function SO(r,e){g1(r),lg(r)?(r.da.ca(e),og(r)):r.da.set("Unknown")}async function RO(r,e,n){if(r.da.set("Online"),e instanceof e1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Pa.delete(m),o.Aa.removeTarget(m))}(r,e)}catch(a){ye(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xh(r,a)}else if(e instanceof Ch?r.Aa.Xe(e):e instanceof Jb?r.Aa.ot(e):r.Aa.nt(e),!n.isEqual(Be.min()))try{const a=await h1(r.localStore);n.compareTo(a)>=0&&await function(u,h){const m=u.Aa.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Pa.get(g);v&&u.Pa.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Pa.get(p);if(!v)return;u.Pa.set(p,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),p1(u,p);const b=new Na(v.target,p,g,v.sequenceNumber);sg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ye(Ms,"Failed to raise snapshot:",a),await Xh(r,a)}}async function Xh(r,e,n){if(!tl(e))throw e;r.Ta.add(1),await Gu(r),r.da.set("Offline"),n||(n=()=>h1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(Ms,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await yf(r)})}function y1(r,e){return e().catch(n=>Xh(r,n,e))}async function vf(r){const e=je(r),n=Ha(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:Gp;for(;CO(e);)try{const o=await lO(e.localStore,a);if(o===null){e.ha.length===0&&n.N_();break}a=o.batchId,IO(e,o)}catch(o){await Xh(e,o)}v1(e)&&_1(e)}function CO(r){return zs(r)&&r.ha.length<10}function IO(r,e){r.ha.push(e);const n=Ha(r);n.M_()&&n.Y_&&n.Z_(e.mutations)}function v1(r){return zs(r)&&!Ha(r).F_()&&r.ha.length>0}function _1(r){Ha(r).start()}async function DO(r){Ha(r).ta()}async function NO(r){const e=Ha(r);for(const n of r.ha)e.Z_(n.mutations)}async function xO(r,e,n){const a=r.ha.shift(),o=Zp.from(a,e,n);await y1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await vf(r)}async function OO(r,e){e&&Ha(r).Y_&&await async function(a,o){if(function(h){return mx(h)&&h!==ce.ABORTED}(o.code)){const u=a.ha.shift();Ha(a).O_(),await y1(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await vf(a)}}(r,e),v1(r)&&_1(r)}async function RE(r,e){const n=je(r);n.asyncQueue.verifyOperationInProgress(),ye(Ms,"RemoteStore received new credentials");const a=zs(n);n.Ta.add(3),await Gu(n),a&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await yf(n)}async function MO(r,e){const n=je(r);e?(n.Ta.delete(2),await yf(n)):e||(n.Ta.add(2),await Gu(n),n.da.set("Unknown"))}function nl(r){return r.Ra||(r.Ra=function(n,a,o){const u=je(n);return u.ra(),new yO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:wO.bind(null,r),n_:AO.bind(null,r),i_:SO.bind(null,r),j_:RO.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),lg(r)?og(r):r.da.set("Unknown")):(await r.Ra.stop(),g1(r))})),r.Ra}function Ha(r){return r.Va||(r.Va=function(n,a,o){const u=je(n);return u.ra(),new vO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:DO.bind(null,r),i_:OO.bind(null,r),X_:NO.bind(null,r),ea:xO.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await vf(r)):(await r.Va.stop(),r.ha.length>0&&(ye(Ms,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,m=new ug(e,n,h,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(r,e){if(Hi("AsyncQueue",`${e}: ${r}`),tl(r))return new Ie(ce.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||xe.comparator(n.key,a.key):(n,a)=>xe.comparator(n.key,a.key),this.keyedMap=fu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new zo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.ma=new Ct(xe.comparator)}track(e){const n=e.doc.key,a=this.ma.get(n);a?e.type!==0&&a.type===3?this.ma=this.ma.insert(n,e):e.type===3&&a.type!==1?this.ma=this.ma.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ma=this.ma.remove(n):e.type===1&&a.type===2?this.ma=this.ma.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,fa:a}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,a)=>{e.push(a)}),e}}class Yo{constructor(e,n,a,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Yo(e,n,zo.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class kO{constructor(){this.queries=IE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,a){const o=je(n),u=o.queries;o.queries=IE(),u.forEach((h,m)=>{for(const p of m.ya)p.onError(a)})})(this,new Ie(ce.ABORTED,"Firestore shutting down"))}}function IE(){return new js(r=>Bb(r),hf)}async function VO(r,e){const n=je(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(a=2):(u=new PO,a=e.Sa()?0:1);try{switch(a){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=cg(h,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&hg(n)}async function LO(r,e){const n=je(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.ya.indexOf(e);h>=0&&(u.ya.splice(h,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function UO(r,e){const n=je(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ya)m.va(o)&&(a=!0);h.pa=o}}a&&hg(n)}function BO(r,e,n){const a=je(r),o=a.queries.get(e);if(o)for(const u of o.ya)u.onError(n);a.queries.delete(e)}function hg(r){r.ba.forEach(e=>{e.next()})}var pp,DE;(DE=pp||(pp={})).Ca="default",DE.Cache="cache";class jO{constructor(e,n,a){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Yo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const a=n!=="Offline";return(!this.options.La||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.key=e}}class T1{constructor(e){this.key=e}}class zO{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=tt(),this.mutatedKeys=tt(),this.Ha=jb(e),this.Ja=new zo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const a=n?n.Xa:new CE,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const T=o.get(v),C=ff(this.query,b)?b:null,x=!!T&&this.mutatedKeys.has(T.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;T&&C?T.data.isEqual(C.data)?x!==B&&(a.track({type:3,doc:C}),U=!0):this.eu(T,C)||(a.track({type:2,doc:C}),U=!0,(p&&this.Ha(C,p)>0||g&&this.Ha(C,g)<0)&&(m=!0)):!T&&C?(a.track({type:0,doc:C}),U=!0):T&&!C&&(a.track({type:1,doc:T}),U=!0,(p||g)&&(m=!0)),U&&(C?(h=h.add(C),u=B?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{Ja:h,Xa:a,Cs:m,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const h=e.Xa.ga();h.sort((v,b)=>function(C,x){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:U})}};return B(C)-B(x)}(v.type,b.type)||this.Ha(v.doc,b.doc)),this.tu(a),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,h.length!==0||g?{snapshot:new Yo(this.query,e.Ja,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new CE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=tt(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const n=[];return e.forEach(a=>{this.ja.has(a)||n.push(new T1(a))}),this.ja.forEach(a=>{e.has(a)||n.push(new E1(a))}),n}su(e){this.Ga=e.$s,this.ja=tt();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Yo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const fg="SyncEngine";class HO{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class qO{constructor(e){this.key=e,this._u=!1}}class FO{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.au={},this.uu=new js(m=>Bb(m),hf),this.cu=new Map,this.lu=new Set,this.hu=new Ct(xe.comparator),this.Pu=new Map,this.Tu=new tg,this.Iu={},this.Eu=new Map,this.du=Ko.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function GO(r,e,n=!0){const a=C1(r);let o;const u=a.uu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await b1(a,e,n,!0),o}async function $O(r,e){const n=C1(r);await b1(n,e,!0,!1)}async function b1(r,e,n,a){const o=await uO(r.localStore,ni(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await KO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&m1(r.remoteStore,o),m}async function KO(r,e,n,a,o){r.Ru=(b,T,C)=>async function(B,U,H,Z){let te=U.view.Za(H);te.Cs&&(te=await TE(B.localStore,U.query,!1).then(({documents:P})=>U.view.Za(P,te)));const fe=Z&&Z.targetChanges.get(U.targetId),se=Z&&Z.targetMismatches.get(U.targetId)!=null,F=U.view.applyChanges(te,B.isPrimaryClient,fe,se);return xE(B,U.targetId,F.ru),F.snapshot}(r,b,T,C);const u=await TE(r.localStore,e,!0),h=new zO(e,u.$s),m=h.Za(u.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);xE(r,n,g.ru);const v=new HO(e,n,h);return r.uu.set(e,v),r.cu.has(n)?r.cu.get(n).push(e):r.cu.set(n,[e]),g.snapshot}async function YO(r,e,n){const a=je(r),o=a.uu.get(e),u=a.cu.get(o.targetId);if(u.length>1)return a.cu.set(o.targetId,u.filter(h=>!hf(h,e))),void a.uu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&ag(a.remoteStore,o.targetId),gp(a,o.targetId)}).catch(el)):(gp(a,o.targetId),await dp(a.localStore,o.targetId,!0))}async function QO(r,e){const n=je(r),a=n.uu.get(e),o=n.cu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),ag(n.remoteStore,a.targetId))}async function XO(r,e,n){const a=rM(r);try{const o=await function(h,m){const p=je(h),g=Xt.now(),v=m.reduce((C,x)=>C.add(x.key),tt());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let x=qi(),B=tt();return p.Bs.getEntries(C,v).next(U=>{x=U,x.forEach((H,Z)=>{Z.isValidDocument()||(B=B.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,x)).next(U=>{b=U;const H=[];for(const Z of m){const te=ux(Z,b.get(Z.key).overlayedDocument);te!=null&&H.push(new Ka(Z.key,te,Ob(te.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,H,m)}).next(U=>{T=U;const H=U.applyToLocalDocumentSet(b,B);return p.documentOverlayCache.saveOverlays(C,U.batchId,H)})}).then(()=>({batchId:T.batchId,changes:Hb(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Iu[h.currentUser.toKey()];g||(g=new Ct($e)),g=g.insert(m,p),h.Iu[h.currentUser.toKey()]=g}(a,o.batchId,n),await $u(a,o.changes),await vf(a.remoteStore)}catch(o){const u=cg(o,"Failed to persist write");n.reject(u)}}async function w1(r,e){const n=je(r);try{const a=await sO(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Pu.get(u);h&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h._u=!0:o.modifiedDocuments.size>0?dt(h._u,14607):o.removedDocuments.size>0&&(dt(h._u,42227),h._u=!1))}),await $u(n,a,e)}catch(a){await el(a)}}function NE(r,e,n){const a=je(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.uu.forEach((u,h)=>{const m=h.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=je(h);p.onlineState=m;let g=!1;p.queries.forEach((v,b)=>{for(const T of b.ya)T.Da(m)&&(g=!0)}),g&&hg(p)}(a.eventManager,e),o.length&&a.au.j_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function WO(r,e,n){const a=je(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Pu.get(e),u=o&&o.key;if(u){let h=new Ct(xe.comparator);h=h.insert(u,wn.newNoDocument(u,Be.min()));const m=tt().add(u),p=new pf(Be.min(),new Map,new Ct($e),h,m);await w1(a,p),a.hu=a.hu.remove(u),a.Pu.delete(e),dg(a)}else await dp(a.localStore,e,!1).then(()=>gp(a,e,n)).catch(el)}async function ZO(r,e){const n=je(r),a=e.batch.batchId;try{const o=await aO(n.localStore,e);S1(n,a,null),A1(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await $u(n,o)}catch(o){await el(o)}}async function JO(r,e,n){const a=je(r);try{const o=await function(h,m){const p=je(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(dt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(a.localStore,e);S1(a,e,n),A1(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await $u(a,o)}catch(o){await el(o)}}function A1(r,e){(r.Eu.get(e)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(e)}function S1(r,e,n){const a=je(r);let o=a.Iu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Iu[a.currentUser.toKey()]=o}}function gp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.cu.get(e))r.uu.delete(a),n&&r.au.Vu(a,n);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(a=>{r.Tu.containsKey(a)||R1(r,a)})}function R1(r,e){r.lu.delete(e.path.canonicalString());const n=r.hu.get(e);n!==null&&(ag(r.remoteStore,n),r.hu=r.hu.remove(e),r.Pu.delete(n),dg(r))}function xE(r,e,n){for(const a of n)a instanceof E1?(r.Tu.addReference(a.key,e),eM(r,a)):a instanceof T1?(ye(fg,"Document no longer in limbo: "+a.key),r.Tu.removeReference(a.key,e),r.Tu.containsKey(a.key)||R1(r,a.key)):Ve(19791,{mu:a})}function eM(r,e){const n=e.key,a=n.path.canonicalString();r.hu.get(n)||r.lu.has(a)||(ye(fg,"New document in limbo: "+n),r.lu.add(a),dg(r))}function dg(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const n=new xe(Nt.fromString(e)),a=r.du.next();r.Pu.set(a,new qO(n)),r.hu=r.hu.insert(n,a),m1(r.remoteStore,new Na(ni(Xp(n.path)),a,"TargetPurposeLimboResolution",of.le))}}async function $u(r,e,n){const a=je(r),o=[],u=[],h=[];a.uu.isEmpty()||(a.uu.forEach((m,p)=>{h.push(a.Ru(p,e,n).then(g=>{var v;if((g||n)&&a.isPrimaryClient){const b=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=rg.Rs(p.targetId,g);u.push(b)}}))}),await Promise.all(h),a.au.j_(o),await async function(p,g){const v=je(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(g,T=>le.forEach(T.ds,C=>v.persistence.referenceDelegate.addReference(b,T.targetId,C)).next(()=>le.forEach(T.As,C=>v.persistence.referenceDelegate.removeReference(b,T.targetId,C)))))}catch(b){if(!tl(b))throw b;ye(ig,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const C=v.xs.get(T),x=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(x);v.xs=v.xs.insert(T,B)}}}(a.localStore,u))}async function tM(r,e){const n=je(r);if(!n.currentUser.isEqual(e)){ye(fg,"User change. New user:",e.toKey());const a=await c1(n.localStore,e);n.currentUser=e,function(u,h){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new Ie(ce.CANCELLED,h))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $u(n,a.ks)}}function nM(r,e){const n=je(r),a=n.Pu.get(e);if(a&&a._u)return tt().add(a.key);{let o=tt();const u=n.cu.get(e);if(!u)return o;for(const h of u){const m=n.uu.get(h);o=o.unionWith(m.view.Ya)}return o}}function C1(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WO.bind(null,e),e.au.j_=UO.bind(null,e.eventManager),e.au.Vu=BO.bind(null,e.eventManager),e}function rM(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JO.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return iO(this.persistence,new tO,e.initialUser,this.serializer)}yu(e){return new u1(ng.fi,this.serializer)}pu(e){return new hO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class iM extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){dt(this.persistence.referenceDelegate instanceof Qh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jx(a,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new u1(a=>Qh.fi(a,n),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>NE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tM.bind(null,this.syncEngine),await MO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kO}()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),a=function(u){return new gO(u)}(e.databaseInfo);return function(u,h,m,p){return new EO(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,h,m){return new bO(a,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>NE(this.syncEngine,n,0),function(){return AE.C()?new AE:new fO}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,v){const b=new FO(o,u,h,m,p,g);return v&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=je(o);ye(Ms,"RemoteStore shutting down."),u.Ta.add(5),await Gu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="FirestoreClient";class sM{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=bn.UNAUTHENTICATED,this.clientId=bb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{ye(qa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ye(qa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=cg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function jm(r,e){r.asyncQueue.verifyOperationInProgress(),ye(qa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await c1(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function OE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await oM(r);ye(qa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>RE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>RE(e.remoteStore,o)),r._onlineComponents=e}async function oM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(qa,"Using user provided OfflineComponentProvider");try{await jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await jm(r,new Wh)}}else ye(qa,"Using default OfflineComponentProvider"),await jm(r,new iM(void 0));return r._offlineComponents}async function I1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(qa,"Using user provided OnlineComponentProvider"),await OE(r,r._uninitializedComponentsProvider._online)):(ye(qa,"Using default OnlineComponentProvider"),await OE(r,new yp))),r._onlineComponents}function lM(r){return I1(r).then(e=>e.syncEngine)}async function uM(r){const e=await I1(r),n=e.eventManager;return n.onListen=GO.bind(null,e.syncEngine),n.onUnlisten=YO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$O.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QO.bind(null,e.syncEngine),n}function cM(r,e,n={}){const a=new ka;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new aM({next:T=>{v.Cu(),h.enqueueAndForget(()=>LO(u,b));const C=T.docs.has(m);!C&&T.fromCache?g.reject(new Ie(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?g.reject(new Ie(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new jO(Xp(m.path),v,{includeMetadataChanges:!0,La:!0});return VO(u,b)}(await uM(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(r,e,n){if(!n)throw new Ie(ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fM(r,e,n,a){if(e===!0&&a===!0)throw new Ie(ce.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function PE(r){if(!xe.isDocumentKey(r))throw new Ie(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve(12329,{type:typeof r})}function Ps(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ie(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mg(r);throw new Ie(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firestore.googleapis.com",kE=!0;class VE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N1,this.ssl=kE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ux)throw new Ie(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pg{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new mN;switch(a.type){case"firstParty":return new vN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ie(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=ME.get(n);a&&(ye("ComponentProvider","Removing Datastore"),ME.delete(n),a.terminate())}(this),Promise.resolve()}}function dM(r,e,n,a={}){var o;r=Ps(r,pg);const u=Vu(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(ST(`https://${p}`),RT("Firestore",!0)),h.host!==N1&&h.host!==p&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:a});if(!Is(g,m)&&(r._setSettings(g),a.mockUserToken)){let v,b;if(typeof a.mockUserToken=="string")v=a.mockUserToken,b=bn.MOCK_USER;else{v=TC(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Ie(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new bn(T)}r._authCredentials=new pN(new Eb(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new gg(this.firestore,e,this._query)}}class tr{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class xu extends gg{constructor(e,n,a){super(e,n,Xp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new xe(e))}withConverter(e){return new xu(this.firestore,e,this._path)}}function ks(r,e,...n){if(r=mn(r),arguments.length===1&&(e=bb.newId()),hM("doc","path",e),r instanceof pg){const a=Nt.fromString(e,...n);return PE(a),new tr(r,null,new xe(a))}{if(!(r instanceof tr||r instanceof xu))throw new Ie(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Nt.fromString(e,...n));return PE(a),new tr(r.firestore,r instanceof xu?r.converter:null,new xe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new f1(this,"async_queue_retry"),this.ec=()=>{const a=Bm();a&&ye(LE,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ka;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!tl(e))throw e;ye(LE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,Hi("INTERNAL UNHANDLED ERROR: ",BE(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=n,n}enqueueAfterDelay(e,n,a){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=ug.createAndSchedule(this,e,n,a,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Ve(47125,{_c:BE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function BE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _f extends pg{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new UE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function mM(r,e){const n=typeof r=="object"?r:NT(),a=typeof r=="string"?r:Hh,o=Pp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=_C("firestore");u&&dM(o,...u)}return o}function x1(r){if(r._terminated)throw new Ie(ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pM(r),r._firestoreClient}function pM(r){var e,n,a;const o=r._freezeSettings(),u=function(m,p,g,v){return new MN(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,D1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new sM(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(pn.fromBase64String(e))}catch(n){throw new Ie(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qo(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=/^__.*__$/;class yM{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class O1{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function M1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{hc:r})}}class Eg{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:a,Ec:!1});return o.dc(e),o}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:a,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Zh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(M1(this.hc)&&gM.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class vM{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||gf(e)}gc(e,n,a,o=!1){return new Eg({hc:e,methodName:n,fc:a,path:dn.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P1(r){const e=r._freezeSettings(),n=gf(r._databaseId);return new vM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function _M(r,e,n,a,o,u={}){const h=r.gc(u.merge||u.mergeFields?2:0,e,n,o);Tg("Data must be an object, but it was:",h,a);const m=k1(a,h);let p,g;if(u.merge)p=new er(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const T=vp(e,b,n);if(!h.contains(T))throw new Ie(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);L1(v,T)||v.push(T)}p=new er(v),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new yM(new Un(m),p,g)}class Tf extends yg{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function EM(r,e,n,a){const o=r.gc(1,e,n);Tg("Data must be an object, but it was:",o,a);const u=[],h=Un.empty();$a(a,(p,g)=>{const v=bg(e,p,n);g=mn(g);const b=o.Ac(v);if(g instanceof Tf)u.push(v);else{const T=bf(g,b);T!=null&&(u.push(v),h.set(v,T))}});const m=new er(u);return new O1(h,m,o.fieldTransforms)}function TM(r,e,n,a,o,u){const h=r.gc(1,e,n),m=[vp(e,a,n)],p=[o];if(u.length%2!=0)throw new Ie(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(vp(e,u[T])),p.push(u[T+1]);const g=[],v=Un.empty();for(let T=m.length-1;T>=0;--T)if(!L1(g,m[T])){const C=m[T];let x=p[T];x=mn(x);const B=h.Ac(C);if(x instanceof Tf)g.push(C);else{const U=bf(x,B);U!=null&&(g.push(C),v.set(C,U))}}const b=new er(g);return new O1(v,b,h.fieldTransforms)}function bf(r,e){if(V1(r=mn(r)))return Tg("Unsupported field value:",e,r),k1(r,e);if(r instanceof yg)return function(a,o){if(!M1(o.hc))throw o.Vc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const m of a){let p=bf(m,o.Rc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=mn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return rx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Xt.fromDate(a);return{timestampValue:Yh(o.serializer,u)}}if(a instanceof Xt){const u=new Xt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(a instanceof vg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qo)return{bytesValue:t1(o.serializer,a._byteString)};if(a instanceof tr){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Vc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof _g)return function(h,m){return{mapValue:{fields:{[Nb]:{stringValue:xb},[qh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return Wp(m.serializer,g)})}}}}}}(a,o);throw o.Vc(`Unsupported field value: ${mg(a)}`)}(r,e)}function k1(r,e){const n={};return Ab(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(r,(a,o)=>{const u=bf(o,e.Ic(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function V1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xt||r instanceof vg||r instanceof Qo||r instanceof tr||r instanceof yg||r instanceof _g)}function Tg(r,e,n){if(!V1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=mg(n);throw a==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+a)}}function vp(r,e,n){if((e=mn(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return bg(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,n)}const bM=new RegExp("[~\\*/\\[\\]]");function bg(r,e,n){if(e.search(bM)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ef(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Zh(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new Ie(ce.INVALID_ARGUMENT,m+r+p)}function L1(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wM extends U1{data(){return super.data()}}function B1(r,e){return typeof e=="string"?bg(r,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}class AM{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return $a(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[qh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>Pt(h.doubleValue));return new _g(u)}convertGeoPoint(e){return new vg(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=uf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const n=Ba(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Nt.fromString(e);dt(o1(a),9688,{name:e});const o=new Cu(a.get(1),a.get(3)),u=new xe(a.popFirst(5));return o.isEqual(n)||Hi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(r,e,n){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j1 extends U1{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new CM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(B1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class CM extends j1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(r){r=Ps(r,tr);const e=Ps(r.firestore,_f);return cM(x1(e),r._key).then(n=>xM(e,r,n))}class DM extends AM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,n)}}function NM(r,e,n){r=Ps(r,tr);const a=Ps(r.firestore,_f),o=SM(r.converter,e);return z1(a,[_M(P1(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ri.none())])}function Ou(r,e,n,...a){r=Ps(r,tr);const o=Ps(r.firestore,_f),u=P1(o);let h;return h=typeof(e=mn(e))=="string"||e instanceof Ef?TM(u,"updateDoc",r._key,e,n,a):EM(u,"updateDoc",r._key,e),z1(o,[h.toMutation(r._key,ri.exists(!0))])}function z1(r,e){return function(a,o){const u=new ka;return a.asyncQueue.enqueueAndForget(async()=>XO(await lM(a),o,u)),u.promise}(x1(r),e)}function xM(r,e,n){const a=n.docs.get(e._key),o=new DM(r);return new j1(r,o,e._key,a,new RM(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Jo=o})(Wo),Ho(new Ds("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new _f(new gN(a.getProvider("auth-internal")),new _N(h,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ie(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ma(G0,$0,e),Ma(G0,$0,"esm2017")})();const OM={apiKey:"AIzaSyCkfc0JYUIWVdJcQsrYsj0qK1czoIKwGzE",authDomain:"boxcart-7d05e.firebaseapp.com",projectId:"boxcart-7d05e",storageBucket:"boxcart-7d05e.firebasestorage.app",messagingSenderId:"1085551195768",appId:"1:1085551195768:web:e620d6219fe1fc676adf8d"},MM=DT(OM),Vs=mM(MM),On=cN();async function PM({request:r}){try{let e=await r.formData(),n=e.get("email"),a=e.get("pass");return n===""||a===""?{message:"Fill up all the input fields"}:(await Y2(On,n,a),XA("/"))}catch(e){return{message:e.message}}}function kM(){let r=LS();const e=VS(),n=Ga();if(r)switch(r.message){case"Firebase: Error (auth/invalid-credential).":return r.message="Invalid credential";case"Firebase: Error (auth/invalid-email).":return r.message="Invalid email"}return D.jsx("div",{className:Pi.mainContainer,children:D.jsx(fT,{method:"post",className:Pi.loginContainer,children:e.state==="submitting"?D.jsx(La,{marginTop:"12rem"}):D.jsxs(D.Fragment,{children:[D.jsx("h1",{children:"Log in to your account"}),D.jsxs("label",{className:Pi.label,children:["Email",D.jsx("input",{type:"text",name:"email",className:Pi.input,style:r&&{backgroundColor:"var(--errorTheme)"},"aria-label":"email-field",placeholder:"some@email.com..."})]}),D.jsxs("label",{className:Pi.label,children:["Password",D.jsx("input",{type:"password",name:"pass",className:Pi.input,style:r&&{backgroundColor:"var(--errorTheme)"},"aria-label":"password-field",placeholder:"Password..."})]}),r&&D.jsx("span",{className:Pi.errorFeedback,children:r.message}),D.jsx("button",{className:Pi.loginButton,children:"Log In"}),D.jsx("button",{className:Pi.createAccountButton,type:"button",id:"new-account",onClick:()=>n("/signup"),children:"Create a new account"})]})})})}const VM="NbcOaW_errorFeedback",LM="NbcOaW_input",UM="NbcOaW_label",BM="NbcOaW_mainContainer",jM="NbcOaW_signUpContainer",zM="NbcOaW_submitBtn",Wr={errorFeedback:VM,input:LM,label:UM,mainContainer:BM,signUpContainer:jM,submitBtn:zM};function HM(){const r=Ga(),[e,n]=$.useState(""),[a,o]=$.useState(""),[u,h]=$.useState(""),[m,p,g,v]=Xo(),[b,T]=$.useState(null);b==="Couldn't create auth record. Firebase: Error (auth/email-already-in-use)."&&T("Email already in use");const C=/^(?!.*_.*_.*)(?!.*\.\.)[^\s._#!?][a-zA-Z0-9_.!#?]+\@(hotmail\.com|gmail\.com|outlook\.com|yahoo\.com)$/gi;function x(Z){n(Z.target.value)}function B(Z){o(Z.target.value)}function U(Z){h(Z.target.value)}async function H(Z){if(Z.preventDefault(),e===""||a===""||u==="")return T("Fill up all the input fields");if(!C.test(e))return T("Invalid email");if(a!==u)return T("Passwords don't match");if(a.length<10)return T("Password too short (10 char. min.)");if(a.length>30)return T("Password too big (30 char. max.)");if(a.match(/[a-z]/g))if(a.match(/[A-Z]/g))if(a.match(/[0-9]/g)){if(!a.match(/[#|@|!|$|%|^|&|*|(|)|-|+|<|>|?|.]/g))return T("Please include a special character (#, @, !, ...)")}else return T("Include numbers");else return T("Include a uppercase letter");else return T("Include lowercase letters");return T(null),v(!0),r("fill-profile")}return D.jsx("div",{className:Wr.mainContainer,children:g?D.jsx(Oh,{context:{email:e,pass:a,error:b,setError:T,setBridge:v}}):D.jsxs("form",{method:"post",className:Wr.signUpContainer,onSubmit:Z=>H(Z),children:[D.jsx("h1",{children:"Sign up a new account"}),D.jsxs("label",{className:Wr.label,children:["Email",D.jsx("input",{type:"text",name:"email","aria-label":"email-field",style:b?{backgroundColor:"var(--errorTheme)"}:{},className:Wr.input,placeholder:"some@email.com...",value:e,onChange:Z=>x(Z)})]}),D.jsxs("label",{className:Wr.label,children:["Password",D.jsx("input",{type:"password",name:"pass","aria-label":"password-field",style:b?{backgroundColor:"var(--errorTheme)"}:{},className:Wr.input,placeholder:"Password...",value:a,onChange:Z=>B(Z)})]}),D.jsxs("label",{className:Wr.label,children:["Confirm password",D.jsx("input",{type:"password",name:"confirmPass","aria-label":"confirm-password-field",style:b?{backgroundColor:"var(--errorTheme)"}:{},className:Wr.input,placeholder:"Confirm password...",value:u,onChange:Z=>U(Z)})]}),b!==null&&D.jsx("span",{className:Wr.errorFeedback,children:b}),D.jsx("button",{className:Wr.submitBtn,children:"Next"})]})})}const qM="_2CCacq_accountLink",FM="_2CCacq_boxCartButtonContainer",GM="_2CCacq_firstContainer",$M="_2CCacq_greetings",KM="_2CCacq_itemsCount",YM="_2CCacq_link",QM="_2CCacq_logInButton",XM="_2CCacq_LogInButtonContainer",WM="_2CCacq_name",ZM="_2CCacq_navContainer",JM="_2CCacq_signUpButton",e4="_2CCacq_wrapper",Wn={accountLink:qM,boxCartButtonContainer:FM,firstContainer:GM,greetings:$M,itemsCount:KM,link:YM,logInButton:QM,LogInButtonContainer:XM,name:WM,navContainer:ZM,signUpButton:JM,wrapper:e4},jE=({userObject:r,setGoToCheckout:e,setIsUserLogged:n,setBridge:a})=>{const[o,u]=$.useState(r&&r.cart.reduce((p,g)=>p+g.count,0)),h=Ga();async function m(){return await J2(On),n(!1),h("/"),window.location.reload()}return $.useEffect(()=>{r&&u(r.cart.reduce((p,g)=>p+g.count,0))},[r]),D.jsxs("nav",{className:Wn.navContainer,children:[D.jsxs("div",{className:Wn.firstContainer,onClick:()=>(e(!1),h("/")),children:[D.jsx(pT,{color:"#e0e0e0",size:64,strokeWidth:.5}),D.jsx("p",{className:Wn.name,children:"BoxCart"})]}),On.currentUser&&r?D.jsxs("div",{className:Wn.wrapper,children:[D.jsxs("h2",{className:Wn.greetings,children:["Hello, ",r.firstName,"!"]}),D.jsx("span",{className:Wn.accountLink,onClick:()=>h("/account"),children:"Account"}),D.jsx("span",{className:Wn.accountLink,onClick:async()=>m(),children:"Log Out"}),D.jsx(Cs,{to:"boxcart",className:Wn.link,children:D.jsxs("button",{"aria-label":"shopping-cart-button",className:Wn.boxCartButtonContainer,children:[D.jsx(tC,{color:"#283739",size:40,strokeWidth:.5}),D.jsx("span",{className:Wn.itemsCount,children:o})]})})]}):D.jsxs("span",{className:Wn.LogInButtonContainer,children:[D.jsx(Cs,{to:"login",children:D.jsx("button",{className:Wn.logInButton,children:"Log In"})}),D.jsx(Cs,{to:"signup",children:D.jsx("button",{className:Wn.signUpButton,onClick:()=>a(!1),children:"Sign Up"})})]})]})},t4="QWb5WW_errorPage",n4="QWb5WW_header",r4="QWb5WW_mainContainer",zm={errorPage:t4,header:n4,mainContainer:r4},_p=()=>D.jsxs("main",{className:zm.mainContainer,children:[D.jsxs("p",{className:zm.header,"data-testid":"footer-text",children:["© 2025 BoxCart. All rights reserved.",D.jsx("br",{}),"Developed by"," ",D.jsx("a",{href:"https://github.com/gabriel-caesar",target:"_blank","data-testid":"github-href",children:"Gabriel Caesar"}),"."]}),D.jsx(Cs,{to:"error",className:zm.errorPage,children:"Error Page"})]});function i4(r,e){switch(e.type){case"update-user":return e.payload;default:return r}}const a4=()=>{const[r,e]=$.useState(null),[n,a]=$.useReducer(i4,null),[o,u]=$.useState(!1),[h,m]=$.useState(!1),[p,g]=$.useState(!1),v=async()=>{const T=(await IM(ks(Vs,"users",r.uid))).data();return m(!0),a({type:"update-user",payload:T})};return $.useEffect(()=>{const b=Z2(On,T=>{e(T)});return()=>b()},[]),$.useEffect(()=>{r&&v()},[r]),D.jsx(D.Fragment,{children:h?D.jsx("div",{style:{backgroundColor:"#e3f6f5",height:"100vh"},children:n?D.jsxs(D.Fragment,{children:[D.jsx(jE,{userObject:n,setGoToCheckout:u,setIsUserLogged:m,setBridge:g}),D.jsx(Oh,{context:[n,a,o,u,h]}),D.jsx(_p,{})]}):D.jsx(La,{marginTop:"18rem"})}):D.jsxs(D.Fragment,{children:[D.jsx(jE,{userObject:n,setGoToCheckout:u,setIsUserLogged:m,setBridge:g}),D.jsx(Oh,{context:[n,a,p,g]}),D.jsx(_p,{})]})})},s4="_9dJ0ja_backButton",o4="_9dJ0ja_boxContainer",l4="_9dJ0ja_emptyBoxCart",u4="_9dJ0ja_mainContainer",c4="_9dJ0ja_name",h4="_9dJ0ja_navbar",Do={backButton:s4,boxContainer:o4,emptyBoxCart:l4,mainContainer:u4,name:c4,navbar:h4},f4=()=>{const r=Ga();return D.jsxs("div",{children:[D.jsxs("div",{className:Do.navbar,children:[D.jsxs("div",{className:Do.boxContainer,children:[D.jsx(pT,{color:"#e0e0e0",size:64,strokeWidth:.5}),D.jsx("p",{className:Do.name,children:"BoxCart"})]}),D.jsx("button",{className:Do.backButton,onClick:()=>r("/"),children:"Home"})]}),D.jsxs("div",{className:Do.mainContainer,children:[D.jsx("h1",{children:"Error"}),D.jsxs("div",{className:Do.emptyBoxCart,children:[D.jsx(xp,{strokeWidth:.5,size:86}),D.jsx("p",{children:"BoxCart's broken..."})]}),D.jsx("p",{children:"Bad URL"})]}),D.jsx("div",{children:D.jsx(_p,{})})]})},d4="_4ZIqsW_arrowButtons",m4="_4ZIqsW_caroselContainer",p4="_4ZIqsW_decrementButton",g4="_4ZIqsW_dropdownCard",y4="_4ZIqsW_headerContainer",v4="_4ZIqsW_hidden",_4="_4ZIqsW_image",E4="_4ZIqsW_incrementButton",T4="_4ZIqsW_inputContainer",b4="_4ZIqsW_itemsContainer",w4="_4ZIqsW_mainContainer",A4="_4ZIqsW_searchDropdownContainer",S4="_4ZIqsW_searchInput",R4="_4ZIqsW_searchMagnifier",C4="_4ZIqsW_spanContainer",I4="_4ZIqsW_spanWrapper",D4="_4ZIqsW_wrapperDiv",Yt={arrowButtons:d4,caroselContainer:m4,decrementButton:p4,dropdownCard:g4,headerContainer:y4,hidden:v4,image:_4,incrementButton:E4,inputContainer:T4,itemsContainer:b4,mainContainer:w4,searchDropdownContainer:A4,searchInput:S4,searchMagnifier:R4,spanContainer:C4,spanWrapper:I4,wrapperDiv:D4},N4="Ok-bnq_buyButton",x4="Ok-bnq_carouselItem",O4="Ok-bnq_decrementButton",M4="Ok-bnq_image",P4="Ok-bnq_incrementButton",k4="Ok-bnq_spanContainer",V4="Ok-bnq_title",L4="Ok-bnq_wrapper",U4="Ok-bnq_wrapper2",ki={buyButton:N4,carouselItem:x4,decrementButton:O4,image:M4,incrementButton:P4,spanContainer:k4,title:V4,wrapper:L4,wrapper2:U4},Hm=({item:r,cart:e,increment:n,decrement:a,handleBuyAction:o})=>D.jsxs("div",{className:ki.carouselItem,children:[D.jsxs("div",{className:ki.wrapper,children:[D.jsx("img",{src:r.image,alt:"item-image",className:ki.image}),D.jsxs("span",{className:ki.wrapper2,children:[D.jsxs("p",{children:["$",r.price]}),e.some(u=>u.name===r.title)?D.jsxs("span",{className:ki.spanContainer,children:[D.jsx("button",{className:ki.decrementButton,onClick:()=>a(r),"data-testid":"decrement-button",children:D.jsx(yT,{size:32,strokeWidth:1})}),e.find(u=>u.name===r.title).count,D.jsx("button",{className:ki.incrementButton,onClick:()=>n(r),"data-testid":"increment-button",children:D.jsx(vT,{size:32,strokeWidth:1})})]}):D.jsx("button",{onClick:()=>o(r),className:ki.buyButton,disabled:!On.currentUser,children:On.currentUser?"Buy":"Log In to buy"})]})]}),D.jsx("h3",{className:ki.title,children:r.title})]}),B4=()=>{const[r,e]=$.useState([]),[n,a]=$.useState(""),[o,u]=Xo(),h=On.currentUser,m=B=>a(B.target.value),p=async()=>{try{const B=await fetch("https://fakestoreapi.com/products");if(!B.ok)throw new Error(`Failed to fetch API. ${B.status}`);const U=await B.json();e(U)}catch(B){console.error(B.message)}},g=B=>{if(B.length!==0){const U=B.slice(0),H=U.shift();U.push(H),e(U)}},v=B=>{if(B.length!==0){const U=B.slice(0),H=U.pop();U.unshift(H),e(U)}},b=async B=>{const U=o.cart.map(H=>H.id===B.id?{...H,count:H.count+1}:H);try{await x(U)}catch(H){throw new Error(`Couldn't increment product. ${H.message}`)}},T=async B=>{const U=o.cart.map(H=>H.id===B.id?{...H,count:H.count-1}:H).filter(H=>H.count>0);try{await x(U)}catch(H){throw new Error(`Couldn't decrement product. ${H.message}`)}},C=async B=>{const U={name:B.title,price:B.price,id:B.id,count:1},H=[...o.cart,U];try{await x(H)}catch(Z){throw new Error(`Couldn't add the first product. ${Z.message}`)}};async function x(B){const U=ks(Vs,"users",h.uid);await Ou(U,{cart:B});const H={...o,cart:B};return u({type:"update-user",payload:H})}return $.useEffect(()=>{p()},[]),D.jsxs("main",{className:Yt.mainContainer,children:[D.jsx("h1",{className:Yt.headerContainer,children:"Shop... eh.., BOX our products!"}),D.jsxs("label",{htmlFor:"searchForItemsInput",className:Yt.inputContainer,children:[D.jsx("input",{type:"text",id:"searchForItemsInput",className:Yt.searchInput,placeholder:o?"Search for a product to box...":"Log in to begin your search...",onChange:B=>m(B),onKeyDown:B=>{if(B.key==="Escape")return B.target.blur(),a("")},value:n,disabled:!o}),D.jsx("div",{className:Yt.searchMagnifier,children:D.jsx(lC,{color:"#e3f6f5",size:24})}),D.jsx("div",{className:`${Yt.searchDropdownContainer} ${n===""?Yt.hidden:""}`,children:n!==""&&r.map(B=>{if(new RegExp(`\\b${n}`,"i").test(B.title))return D.jsxs("div",{className:Yt.dropdownCard,children:[D.jsxs("span",{className:Yt.spanWrapper,children:[D.jsx("p",{children:B.title}),D.jsxs("div",{className:Yt.wrapperDiv,children:[D.jsxs("h1",{children:["$",B.price]}),o.cart.some(H=>H.name===B.title)?D.jsxs("span",{className:Yt.spanContainer,children:[D.jsx("button",{className:Yt.decrementButton,onClick:()=>T(B),"data-testid":"decrement-button",children:D.jsx(yT,{size:28,strokeWidth:1})}),D.jsx("p",{"aria-label":"item-count",children:o.cart.find(H=>H.name===B.title).count}),D.jsx("button",{className:Yt.incrementButton,onClick:()=>b(B),"data-testid":"increment-button",children:D.jsx(vT,{size:28,strokeWidth:1})})]}):D.jsx("button",{onClick:()=>C(B),className:Yt.buyButton,disabled:!On.currentUser,children:On.currentUser?"Buy":"Log In to buy"})]})]}),D.jsx("img",{src:B.image,alt:`${B.title}_image`,className:Yt.image})]},B.id)})})]}),D.jsxs("div",{className:Yt.caroselContainer,children:[D.jsx("button",{onClick:()=>v(r),className:Yt.arrowButtons,"aria-label":"slideLeftButton",children:D.jsx(GR,{color:"#a2c11c",strokeWidth:1,size:40})}),D.jsx("div",{className:Yt.itemsContainer,children:r.length!==0?D.jsxs(D.Fragment,{children:[D.jsx(Hm,{item:r[0],decrement:T,increment:b,handleBuyAction:C,cart:o!==null?o.cart:[]}),D.jsx(Hm,{item:r[1],decrement:T,increment:b,handleBuyAction:C,cart:o!==null?o.cart:[]}),D.jsx(Hm,{item:r[2],decrement:T,increment:b,handleBuyAction:C,cart:o!==null?o.cart:[]})]}):D.jsx(La,{})}),D.jsx("button",{onClick:()=>g(r),className:Yt.arrowButtons,"aria-label":"slideRightButton",children:D.jsx(KR,{color:"#a2c11c",strokeWidth:1,size:40})})]})]})},j4="TFLiaq_amountNumber",z4="TFLiaq_backHomeButton",H4="TFLiaq_buttonsContainer",q4="TFLiaq_checkoutButton",F4="TFLiaq_clearAllButton",G4="TFLiaq_emptyBoxCart",$4="TFLiaq_itemTable",K4="TFLiaq_mainContainer",Y4="TFLiaq_productAddButton",Q4="TFLiaq_productCount",X4="TFLiaq_productDeleteButton",W4="TFLiaq_productName",Z4="TFLiaq_productPrice",J4="TFLiaq_secondContainer",eP="TFLiaq_totalAmount",tP="TFLiaq_verticalItemCards",nP="TFLiaq_wrapper",hn={amountNumber:j4,backHomeButton:z4,buttonsContainer:H4,checkoutButton:q4,clearAllButton:F4,emptyBoxCart:G4,itemTable:$4,mainContainer:K4,productAddButton:Y4,productCount:Q4,productDeleteButton:X4,productName:W4,productPrice:Z4,secondContainer:J4,totalAmount:eP,verticalItemCards:tP,wrapper:nP},rP=()=>{const[r,e,n,a]=Xo(),o=Ga(),u=On.currentUser,h=async()=>{const v=ks(Vs,"users",u.uid);await Ou(v,{cart:[]});const b={...r,cart:[]};return e({type:"update-user",payload:b})},m=async v=>{const b=r.cart.map(T=>T.id===v.id?{...T,count:T.count+1}:T);try{await g(b)}catch(T){throw new Error(`Couldn't increment product. ${T.message}`)}},p=async v=>{const b=r.cart.map(T=>T.id===v.id?{...T,count:T.count-1}:T).filter(T=>T.count>0);try{await g(b)}catch(T){throw new Error(`Couldn't decrement product. ${T.message}`)}};async function g(v){const b=ks(Vs,"users",u.uid);await Ou(b,{cart:v});const T={...r,cart:v};return e({type:"update-user",payload:T})}return D.jsx("main",{className:hn.mainContainer,children:r?n?D.jsx(Oh,{context:[r,a,e]}):D.jsxs("div",{className:hn.secondContainer,children:[D.jsxs("div",{className:hn.itemTable,children:[r.cart.length>0?r.cart.map(v=>D.jsxs("div",{className:hn.wrapper,children:[D.jsx("span",{className:hn.productCount,children:v.count}),D.jsxs("div",{className:hn.verticalItemCards,children:[D.jsx("p",{className:hn.productName,children:v.name}),D.jsxs("p",{className:hn.productPrice,children:["$",v.price]})]}),D.jsx("button",{onClick:()=>p(v),className:hn.productDeleteButton,children:D.jsx(ZR,{strokeWidth:2,size:30})}),D.jsx("button",{onClick:()=>m(v),className:hn.productAddButton,children:D.jsx(sC,{strokeWidth:2,size:30})})]},v.id)):D.jsxs("div",{className:hn.emptyBoxCart,children:[D.jsx(xp,{strokeWidth:.5,size:86}),D.jsx("p",{children:"Box cart's empty..."})]}),r.cart.length>0&&D.jsx("button",{onClick:()=>h(),className:hn.clearAllButton,children:"Clear all"})]}),D.jsxs("div",{className:hn.buttonsContainer,children:[D.jsx(Cs,{to:"/",className:hn.backHomeButton,children:"Back Home"}),r.cart.length>0&&D.jsx("button",{className:hn.checkoutButton,onClick:()=>(a(!0),o("checkout")),children:"Checkout"}),D.jsxs("span",{className:hn.totalAmount,children:["Total:",D.jsxs("span",{className:hn.amountNumber,children:["$",r.cart.reduce((v,b)=>v+b.price*b.count,0).toFixed(2)]})]})]})]}):D.jsx(La,{})})},iP="_7DBibG_backButton",aP="_7DBibG_boxes",sP="_7DBibG_buttonsContainer",oP="_7DBibG_buyMeCoffee",lP="_7DBibG_checkout",uP="_7DBibG_checkoutTable",cP="_7DBibG_donation",hP="_7DBibG_feeContainer",fP="_7DBibG_headerContainer",dP="_7DBibG_infoContainer",mP="_7DBibG_loadingText",pP="_7DBibG_payButton",gP="_7DBibG_poweredByStripe",yP="_7DBibG_selector",vP="_7DBibG_spinnerContainer",_P="_7DBibG_spinnerIcon",EP="_7DBibG_successfulPayment",TP="_7DBibG_totalAmountContainer",Mt={backButton:iP,boxes:aP,buttonsContainer:sP,buyMeCoffee:oP,checkout:lP,checkoutTable:uP,donation:cP,feeContainer:hP,headerContainer:fP,infoContainer:dP,loadingText:mP,payButton:pP,poweredByStripe:gP,selector:yP,spinnerContainer:vP,spinnerIcon:_P,successfulPayment:EP,totalAmountContainer:TP},bP=()=>{const[r,e,n]=Xo(),[a,o]=$.useState(!0),h=r.cart.reduce((B,U)=>B+U.price*U.count,0).toFixed(2),m=(h*.12).toFixed(2),p=(h*.05).toFixed(2),g=Ga(),[v,b]=$.useState(!1),[T,C]=$.useState(!1),x=()=>{b(!0),setTimeout(async()=>{const B=ks(Vs,"users",On.currentUser.uid);await Ou(B,{cart:[]});const U={...r,cart:[]};n({type:"update-user",payload:U}),b(!1),C(!0)},5e3)};return D.jsx("div",{className:Mt.checkoutTable,children:r?v?D.jsxs("div",{className:Mt.spinnerContainer,children:[D.jsx(gT,{className:Mt.spinnerIcon}),D.jsx("span",{className:Mt.loadingText,children:"Processing payment..."})]}):T?D.jsxs("div",{className:Mt.successfulPayment,children:[D.jsx("h1",{children:"Your payment was accepted"}),D.jsxs("div",{className:Mt.boxes,children:[D.jsx(xp,{strokeWidth:.5,size:86}),D.jsx("p",{children:"Thank you for choosing BoxCart"})]}),D.jsxs("div",{className:Mt.infoContainer,children:[D.jsx("p",{children:"Your order is on its way!"}),"...",D.jsx(cC,{strokeWidth:1,size:40})]}),D.jsx("button",{className:Mt.backButton,onClick:()=>{g("/"),window.location.reload()},children:"Home"})]}):D.jsxs(D.Fragment,{children:[D.jsxs("span",{className:Mt.headerContainer,children:[D.jsx("div",{className:`${Mt.selector} `,style:{left:a?"calc(100% - 151px - 1%)":"1%"}}),D.jsx("h1",{className:Mt.checkout,onClick:()=>o(!1),children:"Checkout"}),D.jsx("h1",{className:Mt.donation,onClick:()=>o(!0),children:"Donation"})]}),a?D.jsxs(D.Fragment,{children:[D.jsx("h3",{children:"Real payment implementation"}),D.jsxs("button",{className:Mt.buyMeCoffee,onClick:()=>window.location.href="https://buy.stripe.com/aFabJ36DX5Ph5KN598bV600",children:["Buy me a coffee",D.jsx(QR,{strokeWidth:1,size:38})]}),D.jsx("p",{className:Mt.poweredByStripe,children:"Powered by Stripe"})]}):D.jsxs(D.Fragment,{children:[D.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Fake payment implementation"}),D.jsxs("div",{className:Mt.feeContainer,children:[D.jsx("p",{children:"Delivery fee"}),D.jsxs("h3",{children:["$",m]})]}),D.jsxs("div",{className:Mt.feeContainer,children:[D.jsx("p",{children:"Taxes"}),D.jsxs("h3",{children:["$",p]})]}),D.jsxs("div",{className:Mt.feeContainer,children:[D.jsx("p",{children:"Products purchased"}),D.jsxs("h3",{children:["$",h]})]}),D.jsxs("div",{className:Mt.totalAmountContainer,children:[D.jsx("p",{children:"Total"}),D.jsxs("h1",{children:["$",(parseFloat(h)+parseFloat(m)+parseFloat(p)).toFixed(2)]})]}),D.jsxs("div",{className:Mt.buttonsContainer,children:[D.jsx("button",{className:Mt.backButton,onClick:()=>(e(!1),g(-1)),children:"Back"}),D.jsx("button",{className:Mt.payButton,onClick:()=>x(),children:"Pay"})]})]})]}):D.jsx(La,{})})},wP="XcIqIa_errorFeedback",AP="XcIqIa_formContainer",SP="XcIqIa_input",No={errorFeedback:wP,formContainer:AP,input:SP};function RP(){const{email:r,pass:e,error:n,setError:a,setBridge:o}=Xo(),u=Ga(),[h,m]=$.useState(""),[p,g]=$.useState(""),[v,b]=$.useState(""),[T,C]=$.useState(""),[x,B]=$.useState(!1);async function U(te){te.preventDefault(),B(!0);const fe=/^(?!.*\'.*\')(?!.*\.\.)[0-9]+\s[a-zA-Z'.]+(\s[a-zA-Z'.]+)?$/g;try{return h===""||p===""||v===""||T===""?a("Fill up all the input fields"):h.length>11?a("First name too big (11 char. max.)"):h.match(/(?!.*\'.*\')[a-zA-Z']+/)?p.length>11?a("Last name too big (11 char. max.)"):h===p?a("You can't have the same last and first name"):p.match(/(?!.*\'.*\')[a-zA-Z']+/)?v.match(/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/)?fe.test(T)?(await H(r,e),await Z({email:r,firstName:h,lastName:p,phoneNumber:v,address:T,cart:[]}),u("/")):a("Invalid address (try similar: 12 Main St)"):a("Invalid phone number (use format: xxx-xxx-xxxx)"):a("Invalid last name"):a("Invalid first name")}catch(se){throw console.log("error on submit"),a(se.message),new Error(`Couldn't submit. ${se.message}`)}finally{B(!1)}}async function H(te,fe){try{await K2(On,te,fe)}catch(se){throw console.log("error on tryCreatingUser"),a(se.message),o(!1),u(-1),new Error(`Couldn't create auth record. ${se.message}`)}}async function Z(te){try{const fe=ks(Vs,"users",On.currentUser.uid);await NM(fe,te),await Q2(On.currentUser)}catch(fe){throw console.log("error on saveUserToFirestore"),a(fe.message),new Error(`Couldn't create user on cloud. ${fe.message}`)}}return D.jsx("form",{method:"post",className:No.formContainer,onSubmit:te=>U(te),children:x?D.jsx(La,{marginTop:"12rem"}):D.jsxs(D.Fragment,{children:[D.jsx("h1",{children:"Profile Details"}),D.jsxs("label",{children:["First Name",D.jsx("input",{type:"text",name:"first-name",className:No.input,"aria-label":"first-name-field",placeholder:"John...",value:h,onChange:te=>m(te.target.value)})]}),D.jsxs("label",{children:["Last Name",D.jsx("input",{type:"text",name:"last-name",className:No.input,"aria-label":"last-name-field",placeholder:"Doe...",maxLength:"20",value:p,onChange:te=>g(te.target.value)})]}),D.jsxs("label",{children:["Phone number",D.jsx("input",{type:"text",name:"phone-number",className:No.input,"aria-label":"phone-number-field",placeholder:"xxx-xxx-xxxx...",value:v,onChange:te=>b(te.target.value)})]}),D.jsxs("label",{children:["Address",D.jsx("input",{type:"text",name:"address",className:No.input,"aria-label":"address-field",placeholder:"1 Main St...",value:T,onChange:te=>C(te.target.value)})]}),n&&D.jsx("span",{className:No.errorFeedback,children:n}),D.jsx("button",{children:"Create"})]})})}const CP="I-AgJW_editButton",IP="I-AgJW_errorFeedback",DP="I-AgJW_inputWrapper",NP="I-AgJW_mainContainer",xP="I-AgJW_profileContainer",Vi={editButton:CP,errorFeedback:IP,inputWrapper:DP,mainContainer:NP,profileContainer:xP};function OP(){const[r,e,n,a,o]=Xo(),[u,h]=$.useState(!1),[m,p]=$.useState(r&&r.firstName),[g,v]=$.useState(r&&r.lastName),[b,T]=$.useState(r&&r.phoneNumber),[C,x]=$.useState(r&&r.address),[B,U]=$.useState(!1),[H,Z]=$.useState(null),te=/^(?!.*\'.*\')(?!.*\.\.)[0-9]+\s[a-zA-Z'.]+(\s[a-zA-Z'.]+)?$/g;async function fe(){U(!0);try{const se=ks(Vs,"users",On.currentUser.uid);if(m===""||g===""||b===""||C==="")return Z("Fill up all the input fields");if(m.length>11)return Z("First name too big (11 char. max.)");if(!m.match(/(?!.*\'.*\')[a-zA-Z']+/))return Z("Invalid first name");if(g.length>11)return Z("Last name too big (11 char. max.)");if(m===g)return Z("You can't have the same last and first name");if(!g.match(/(?!.*\'.*\')[a-zA-Z']+/))return Z("Invalid last name");if(!b.match(/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/))return Z("Invalid phone number (use format: xxx-xxx-xxxx)");if(!te.test(C))return Z("Invalid address (try similar: 12 Main St)");const F={...r,firstName:m,lastName:g,phoneNumber:b,address:C};return await Ou(se,F),e({type:"update-user",payload:F}),Z(null),h(!1)}catch(se){throw Z(se.message),new Error(`Couldn't update user. ${se.message}`)}finally{U(!1)}}return D.jsx("div",{className:Vi.mainContainer,children:D.jsx("div",{className:Vi.profileContainer,children:r?B?D.jsx(La,{marginTop:"12rem"}):D.jsxs(D.Fragment,{children:[" ",D.jsx("span",{className:Vi.editButton,onClick:()=>h(!u),children:D.jsx(iC,{strokeWidth:1,size:32})}),D.jsx("h1",{children:"Profile Details"}),D.jsxs("div",{className:Vi.inputWrapper,children:[D.jsxs("label",{children:["Email:",D.jsx("p",{children:r.email})]}),D.jsxs("label",{children:["First name:",u?D.jsx("input",{autoFocus:!0,type:"text",name:"first-name",className:Vi.input,"aria-label":"first-name-field",placeholder:"John...",value:m,onChange:se=>p(se.target.value),onKeyDown:se=>se.key==="Enter"&&fe()}):D.jsx("p",{children:r.firstName})]}),D.jsxs("label",{children:["Last name:",u?D.jsx("input",{type:"text",name:"last-name",className:Vi.input,"aria-label":"last-name-field",placeholder:"Doe...",maxLength:"20",value:g,onChange:se=>v(se.target.value),onKeyDown:se=>se.key==="Enter"&&fe()}):D.jsx("p",{children:r.lastName})]}),D.jsxs("label",{children:["Phone number:",u?D.jsx("input",{type:"text",name:"phone-number",className:Vi.input,"aria-label":"phone-number-field",placeholder:"xxx-xxx-xxxx...",value:b,onChange:se=>T(se.target.value),onKeyDown:se=>se.key==="Enter"&&fe()}):D.jsx("p",{children:r.phoneNumber})]}),D.jsxs("label",{children:["Address:",u?D.jsx("input",{type:"text",name:"address",className:Vi.input,"aria-label":"address-field",placeholder:"1 Main St...",value:C,onChange:se=>x(se.target.value),onKeyDown:se=>se.key==="Enter"&&fe()}):D.jsx("p",{children:r.address})]})]}),H&&D.jsx("span",{className:Vi.errorFeedback,children:H}),u?D.jsx("button",{onClick:()=>fe(),children:"Save"}):D.jsx("h4",{children:"Click on the pencil to edit"})]}):D.jsx(La,{marginTop:"10rem"})})})}const MP=gR([{path:"/",element:D.jsx(a4,{}),errorElement:D.jsx(f4,{}),children:[{index:!0,element:D.jsx(B4,{})},{path:"boxcart",element:D.jsx(rP,{}),children:[{path:"checkout",element:D.jsx(bP,{})}]},{path:"login",element:D.jsx(kM,{}),action:PM},{path:"signup",element:D.jsx(HM,{}),children:[{path:"fill-profile",element:D.jsx(RP,{})}]},{path:"account",element:D.jsx(OP,{})}]}]);EA.createRoot(document.getElementById("root")).render(D.jsx($.StrictMode,{children:D.jsx(IR,{router:MP})}));
